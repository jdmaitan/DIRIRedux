import{u,a as N,r as c,j as e,o as f,c as v}from"./index-DmYiXBzW.js";function b({selectedMenuItem:a,onReturnToMenu:r}){const{loading:n,message:i,error:s}=u(t=>t.menu),l=N(),[o,h]=c.useState(1),[m,x]=c.useState(!1),j=t=>{const d=parseInt(t.target.value,10);h(isNaN(d)||d<1?1:d)},p=()=>{l(f({orderedItem:a,orderedQuantity:o})).then(()=>{x(!0)})},g=()=>{l(v()),r()};return e.jsx("div",{className:"food-order-container",children:e.jsxs("div",{className:"food-details",children:[e.jsx("h4",{children:a.name}),e.jsx("div",{className:"food-image-container",children:e.jsx("img",{src:`images/${a.image}`,alt:a.name,className:"food-image"})}),e.jsx("p",{children:a.description}),e.jsxs("p",{className:"food-price",children:[(a.price*o).toFixed(2),"€"]}),e.jsxs("div",{className:"quantity-controls",children:[e.jsx("label",{htmlFor:"quantity",children:"Cantidad:"}),e.jsx("input",{type:"number",id:"quantity",value:o,onChange:j,min:"1"})]}),e.jsxs("div",{className:"buttons-container",children:[e.jsx("button",{className:"order-button",onClick:p,disabled:n||m,children:m?"Pedido enviado":n?"Enviando...":"Enviar pedido"}),e.jsx("button",{onClick:g,className:"return-button",children:"Volver al menú"})]}),i&&e.jsx("p",{className:"order-confirmation",children:i}),s&&e.jsx("p",{className:"error-message",children:s})]})})}function S(){const a=u(s=>s.menu.menuItems),[r,n]=c.useState(null),i=s=>{n(s)};return e.jsx(e.Fragment,{children:r?e.jsx(b,{selectedMenuItem:r,onReturnToMenu:()=>n(null)}):e.jsxs(e.Fragment,{children:[e.jsx("h2",{children:"Menú"}),e.jsx("h4",{className:"foodTitle",children:"Pulsa sobre cada producto para añadirlo"}),e.jsx("ul",{className:"ulFoods",children:a.map(s=>e.jsxs("li",{className:"liFoods",onClick:()=>i(s),children:[e.jsx("img",{className:"foodImg",src:`images/${s.image}`,alt:s.name}),e.jsxs("div",{className:"foodItem",children:[e.jsx("p",{className:"foodDesc",children:s.description}),e.jsxs("p",{className:"foodPrice",children:[s.price,"$"]})]})]},s.id))})]})})}export{S as default};
