const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MenuPage-D0iu3JYe.js","assets/MenuPage-Baj-70P5.css"])))=>i.map(i=>d[i]);
var py=Object.defineProperty;var my=(r,t,i)=>t in r?py(r,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[t]=i;var Di=(r,t,i)=>my(r,typeof t!="symbol"?t+"":t,i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))o(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(u){if(u.ep)return;u.ep=!0;const c=i(u);fetch(u.href,c)}})();function gy(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Bu={exports:{}},Ai={},Wu={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ch;function _y(){if(ch)return te;ch=1;var r=Symbol.for("react.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),y=Symbol.iterator;function T(E){return E===null||typeof E!="object"?null:(E=y&&E[y]||E["@@iterator"],typeof E=="function"?E:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,H={};function z(E,R,ee){this.props=E,this.context=R,this.refs=H,this.updater=ee||A}z.prototype.isReactComponent={},z.prototype.setState=function(E,R){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,R,"setState")},z.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function ie(){}ie.prototype=z.prototype;function X(E,R,ee){this.props=E,this.context=R,this.refs=H,this.updater=ee||A}var Q=X.prototype=new ie;Q.constructor=X,O(Q,z.prototype),Q.isPureReactComponent=!0;var G=Array.isArray,J=Object.prototype.hasOwnProperty,Y={current:null},de={key:!0,ref:!0,__self:!0,__source:!0};function Z(E,R,ee){var ne,ue={},ae=null,ge=null;if(R!=null)for(ne in R.ref!==void 0&&(ge=R.ref),R.key!==void 0&&(ae=""+R.key),R)J.call(R,ne)&&!de.hasOwnProperty(ne)&&(ue[ne]=R[ne]);var he=arguments.length-2;if(he===1)ue.children=ee;else if(1<he){for(var ke=Array(he),ht=0;ht<he;ht++)ke[ht]=arguments[ht+2];ue.children=ke}if(E&&E.defaultProps)for(ne in he=E.defaultProps,he)ue[ne]===void 0&&(ue[ne]=he[ne]);return{$$typeof:r,type:E,key:ae,ref:ge,props:ue,_owner:Y.current}}function Be(E,R){return{$$typeof:r,type:E.type,key:R,ref:E.ref,props:E.props,_owner:E._owner}}function Rt(E){return typeof E=="object"&&E!==null&&E.$$typeof===r}function qt(E){var R={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(ee){return R[ee]})}var jt=/\/+/g;function dt(E,R){return typeof E=="object"&&E!==null&&E.key!=null?qt(""+E.key):R.toString(36)}function xt(E,R,ee,ne,ue){var ae=typeof E;(ae==="undefined"||ae==="boolean")&&(E=null);var ge=!1;if(E===null)ge=!0;else switch(ae){case"string":case"number":ge=!0;break;case"object":switch(E.$$typeof){case r:case t:ge=!0}}if(ge)return ge=E,ue=ue(ge),E=ne===""?"."+dt(ge,0):ne,G(ue)?(ee="",E!=null&&(ee=E.replace(jt,"$&/")+"/"),xt(ue,R,ee,"",function(ht){return ht})):ue!=null&&(Rt(ue)&&(ue=Be(ue,ee+(!ue.key||ge&&ge.key===ue.key?"":(""+ue.key).replace(jt,"$&/")+"/")+E)),R.push(ue)),1;if(ge=0,ne=ne===""?".":ne+":",G(E))for(var he=0;he<E.length;he++){ae=E[he];var ke=ne+dt(ae,he);ge+=xt(ae,R,ee,ke,ue)}else if(ke=T(E),typeof ke=="function")for(E=ke.call(E),he=0;!(ae=E.next()).done;)ae=ae.value,ke=ne+dt(ae,he++),ge+=xt(ae,R,ee,ke,ue);else if(ae==="object")throw R=String(E),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.");return ge}function Bt(E,R,ee){if(E==null)return E;var ne=[],ue=0;return xt(E,ne,"","",function(ae){return R.call(ee,ae,ue++)}),ne}function rt(E){if(E._status===-1){var R=E._result;R=R(),R.then(function(ee){(E._status===0||E._status===-1)&&(E._status=1,E._result=ee)},function(ee){(E._status===0||E._status===-1)&&(E._status=2,E._result=ee)}),E._status===-1&&(E._status=0,E._result=R)}if(E._status===1)return E._result.default;throw E._result}var Re={current:null},L={transition:null},K={ReactCurrentDispatcher:Re,ReactCurrentBatchConfig:L,ReactCurrentOwner:Y};function b(){throw Error("act(...) is not supported in production builds of React.")}return te.Children={map:Bt,forEach:function(E,R,ee){Bt(E,function(){R.apply(this,arguments)},ee)},count:function(E){var R=0;return Bt(E,function(){R++}),R},toArray:function(E){return Bt(E,function(R){return R})||[]},only:function(E){if(!Rt(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},te.Component=z,te.Fragment=i,te.Profiler=u,te.PureComponent=X,te.StrictMode=o,te.Suspense=m,te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,te.act=b,te.cloneElement=function(E,R,ee){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var ne=O({},E.props),ue=E.key,ae=E.ref,ge=E._owner;if(R!=null){if(R.ref!==void 0&&(ae=R.ref,ge=Y.current),R.key!==void 0&&(ue=""+R.key),E.type&&E.type.defaultProps)var he=E.type.defaultProps;for(ke in R)J.call(R,ke)&&!de.hasOwnProperty(ke)&&(ne[ke]=R[ke]===void 0&&he!==void 0?he[ke]:R[ke])}var ke=arguments.length-2;if(ke===1)ne.children=ee;else if(1<ke){he=Array(ke);for(var ht=0;ht<ke;ht++)he[ht]=arguments[ht+2];ne.children=he}return{$$typeof:r,type:E.type,key:ue,ref:ae,props:ne,_owner:ge}},te.createContext=function(E){return E={$$typeof:d,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:c,_context:E},E.Consumer=E},te.createElement=Z,te.createFactory=function(E){var R=Z.bind(null,E);return R.type=E,R},te.createRef=function(){return{current:null}},te.forwardRef=function(E){return{$$typeof:p,render:E}},te.isValidElement=Rt,te.lazy=function(E){return{$$typeof:w,_payload:{_status:-1,_result:E},_init:rt}},te.memo=function(E,R){return{$$typeof:g,type:E,compare:R===void 0?null:R}},te.startTransition=function(E){var R=L.transition;L.transition={};try{E()}finally{L.transition=R}},te.unstable_act=b,te.useCallback=function(E,R){return Re.current.useCallback(E,R)},te.useContext=function(E){return Re.current.useContext(E)},te.useDebugValue=function(){},te.useDeferredValue=function(E){return Re.current.useDeferredValue(E)},te.useEffect=function(E,R){return Re.current.useEffect(E,R)},te.useId=function(){return Re.current.useId()},te.useImperativeHandle=function(E,R,ee){return Re.current.useImperativeHandle(E,R,ee)},te.useInsertionEffect=function(E,R){return Re.current.useInsertionEffect(E,R)},te.useLayoutEffect=function(E,R){return Re.current.useLayoutEffect(E,R)},te.useMemo=function(E,R){return Re.current.useMemo(E,R)},te.useReducer=function(E,R,ee){return Re.current.useReducer(E,R,ee)},te.useRef=function(E){return Re.current.useRef(E)},te.useState=function(E){return Re.current.useState(E)},te.useSyncExternalStore=function(E,R,ee){return Re.current.useSyncExternalStore(E,R,ee)},te.useTransition=function(){return Re.current.useTransition()},te.version="18.3.1",te}var fh;function Lo(){return fh||(fh=1,Wu.exports=_y()),Wu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dh;function yy(){if(dh)return Ai;dh=1;var r=Lo(),t=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(p,m,g){var w,y={},T=null,A=null;g!==void 0&&(T=""+g),m.key!==void 0&&(T=""+m.key),m.ref!==void 0&&(A=m.ref);for(w in m)o.call(m,w)&&!c.hasOwnProperty(w)&&(y[w]=m[w]);if(p&&p.defaultProps)for(w in m=p.defaultProps,m)y[w]===void 0&&(y[w]=m[w]);return{$$typeof:t,type:p,key:T,ref:A,props:y,_owner:u.current}}return Ai.Fragment=i,Ai.jsx=d,Ai.jsxs=d,Ai}var hh;function vy(){return hh||(hh=1,Bu.exports=yy()),Bu.exports}var Je=vy(),Ke=Lo();const wy=gy(Ke);var ho={},Hu={exports:{}},at={},$u={exports:{}},Vu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ph;function Sy(){return ph||(ph=1,function(r){function t(L,K){var b=L.length;L.push(K);e:for(;0<b;){var E=b-1>>>1,R=L[E];if(0<u(R,K))L[E]=K,L[b]=R,b=E;else break e}}function i(L){return L.length===0?null:L[0]}function o(L){if(L.length===0)return null;var K=L[0],b=L.pop();if(b!==K){L[0]=b;e:for(var E=0,R=L.length,ee=R>>>1;E<ee;){var ne=2*(E+1)-1,ue=L[ne],ae=ne+1,ge=L[ae];if(0>u(ue,b))ae<R&&0>u(ge,ue)?(L[E]=ge,L[ae]=b,E=ae):(L[E]=ue,L[ne]=b,E=ne);else if(ae<R&&0>u(ge,b))L[E]=ge,L[ae]=b,E=ae;else break e}}return K}function u(L,K){var b=L.sortIndex-K.sortIndex;return b!==0?b:L.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var m=[],g=[],w=1,y=null,T=3,A=!1,O=!1,H=!1,z=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Q(L){for(var K=i(g);K!==null;){if(K.callback===null)o(g);else if(K.startTime<=L)o(g),K.sortIndex=K.expirationTime,t(m,K);else break;K=i(g)}}function G(L){if(H=!1,Q(L),!O)if(i(m)!==null)O=!0,rt(J);else{var K=i(g);K!==null&&Re(G,K.startTime-L)}}function J(L,K){O=!1,H&&(H=!1,ie(Z),Z=-1),A=!0;var b=T;try{for(Q(K),y=i(m);y!==null&&(!(y.expirationTime>K)||L&&!qt());){var E=y.callback;if(typeof E=="function"){y.callback=null,T=y.priorityLevel;var R=E(y.expirationTime<=K);K=r.unstable_now(),typeof R=="function"?y.callback=R:y===i(m)&&o(m),Q(K)}else o(m);y=i(m)}if(y!==null)var ee=!0;else{var ne=i(g);ne!==null&&Re(G,ne.startTime-K),ee=!1}return ee}finally{y=null,T=b,A=!1}}var Y=!1,de=null,Z=-1,Be=5,Rt=-1;function qt(){return!(r.unstable_now()-Rt<Be)}function jt(){if(de!==null){var L=r.unstable_now();Rt=L;var K=!0;try{K=de(!0,L)}finally{K?dt():(Y=!1,de=null)}}else Y=!1}var dt;if(typeof X=="function")dt=function(){X(jt)};else if(typeof MessageChannel<"u"){var xt=new MessageChannel,Bt=xt.port2;xt.port1.onmessage=jt,dt=function(){Bt.postMessage(null)}}else dt=function(){z(jt,0)};function rt(L){de=L,Y||(Y=!0,dt())}function Re(L,K){Z=z(function(){L(r.unstable_now())},K)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(L){L.callback=null},r.unstable_continueExecution=function(){O||A||(O=!0,rt(J))},r.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Be=0<L?Math.floor(1e3/L):5},r.unstable_getCurrentPriorityLevel=function(){return T},r.unstable_getFirstCallbackNode=function(){return i(m)},r.unstable_next=function(L){switch(T){case 1:case 2:case 3:var K=3;break;default:K=T}var b=T;T=K;try{return L()}finally{T=b}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(L,K){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var b=T;T=L;try{return K()}finally{T=b}},r.unstable_scheduleCallback=function(L,K,b){var E=r.unstable_now();switch(typeof b=="object"&&b!==null?(b=b.delay,b=typeof b=="number"&&0<b?E+b:E):b=E,L){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=b+R,L={id:w++,callback:K,priorityLevel:L,startTime:b,expirationTime:R,sortIndex:-1},b>E?(L.sortIndex=b,t(g,L),i(m)===null&&L===i(g)&&(H?(ie(Z),Z=-1):H=!0,Re(G,b-E))):(L.sortIndex=R,t(m,L),O||A||(O=!0,rt(J))),L},r.unstable_shouldYield=qt,r.unstable_wrapCallback=function(L){var K=T;return function(){var b=T;T=K;try{return L.apply(this,arguments)}finally{T=b}}}}(Vu)),Vu}var mh;function Ey(){return mh||(mh=1,$u.exports=Sy()),$u.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gh;function Cy(){if(gh)return at;gh=1;var r=Lo(),t=Ey();function i(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function c(e,n){d(e,n),d(e+"Capture",n)}function d(e,n){for(u[e]=n,e=0;e<n.length;e++)o.add(n[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},y={};function T(e){return m.call(y,e)?!0:m.call(w,e)?!1:g.test(e)?y[e]=!0:(w[e]=!0,!1)}function A(e,n,s,l){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return l?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function O(e,n,s,l){if(n===null||typeof n>"u"||A(e,n,s,l))return!0;if(l)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function H(e,n,s,l,a,f,h){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=l,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=e,this.type=n,this.sanitizeURL=f,this.removeEmptyString=h}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){z[e]=new H(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];z[n]=new H(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){z[e]=new H(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){z[e]=new H(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){z[e]=new H(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){z[e]=new H(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){z[e]=new H(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){z[e]=new H(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){z[e]=new H(e,5,!1,e.toLowerCase(),null,!1,!1)});var ie=/[\-:]([a-z])/g;function X(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(ie,X);z[n]=new H(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(ie,X);z[n]=new H(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(ie,X);z[n]=new H(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){z[e]=new H(e,1,!1,e.toLowerCase(),null,!1,!1)}),z.xlinkHref=new H("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){z[e]=new H(e,1,!1,e.toLowerCase(),null,!0,!0)});function Q(e,n,s,l){var a=z.hasOwnProperty(n)?z[n]:null;(a!==null?a.type!==0:l||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(O(n,s,a,l)&&(s=null),l||a===null?T(n)&&(s===null?e.removeAttribute(n):e.setAttribute(n,""+s)):a.mustUseProperty?e[a.propertyName]=s===null?a.type===3?!1:"":s:(n=a.attributeName,l=a.attributeNamespace,s===null?e.removeAttribute(n):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,l?e.setAttributeNS(l,n,s):e.setAttribute(n,s))))}var G=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J=Symbol.for("react.element"),Y=Symbol.for("react.portal"),de=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),Be=Symbol.for("react.profiler"),Rt=Symbol.for("react.provider"),qt=Symbol.for("react.context"),jt=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),Bt=Symbol.for("react.memo"),rt=Symbol.for("react.lazy"),Re=Symbol.for("react.offscreen"),L=Symbol.iterator;function K(e){return e===null||typeof e!="object"?null:(e=L&&e[L]||e["@@iterator"],typeof e=="function"?e:null)}var b=Object.assign,E;function R(e){if(E===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);E=n&&n[1]||""}return`
`+E+e}var ee=!1;function ne(e,n){if(!e||ee)return"";ee=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(I){var l=I}Reflect.construct(e,[],n)}else{try{n.call()}catch(I){l=I}e.call(n.prototype)}else{try{throw Error()}catch(I){l=I}e()}}catch(I){if(I&&l&&typeof I.stack=="string"){for(var a=I.stack.split(`
`),f=l.stack.split(`
`),h=a.length-1,_=f.length-1;1<=h&&0<=_&&a[h]!==f[_];)_--;for(;1<=h&&0<=_;h--,_--)if(a[h]!==f[_]){if(h!==1||_!==1)do if(h--,_--,0>_||a[h]!==f[_]){var v=`
`+a[h].replace(" at new "," at ");return e.displayName&&v.includes("<anonymous>")&&(v=v.replace("<anonymous>",e.displayName)),v}while(1<=h&&0<=_);break}}}finally{ee=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?R(e):""}function ue(e){switch(e.tag){case 5:return R(e.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return e=ne(e.type,!1),e;case 11:return e=ne(e.type.render,!1),e;case 1:return e=ne(e.type,!0),e;default:return""}}function ae(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case de:return"Fragment";case Y:return"Portal";case Be:return"Profiler";case Z:return"StrictMode";case dt:return"Suspense";case xt:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case qt:return(e.displayName||"Context")+".Consumer";case Rt:return(e._context.displayName||"Context")+".Provider";case jt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Bt:return n=e.displayName||null,n!==null?n:ae(e.type)||"Memo";case rt:n=e._payload,e=e._init;try{return ae(e(n))}catch{}}return null}function ge(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(n);case 8:return n===Z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function he(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ke(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ht(e){var n=ke(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,f=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return a.call(this)},set:function(h){l=""+h,f.call(this,h)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(h){l=""+h},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ns(e){e._valueTracker||(e._valueTracker=ht(e))}function mc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=ke(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function rs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Qo(e,n){var s=n.checked;return b({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function gc(e,n){var s=n.defaultValue==null?"":n.defaultValue,l=n.checked!=null?n.checked:n.defaultChecked;s=he(n.value!=null?n.value:s),e._wrapperState={initialChecked:l,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function _c(e,n){n=n.checked,n!=null&&Q(e,"checked",n,!1)}function qo(e,n){_c(e,n);var s=he(n.value),l=n.type;if(s!=null)l==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Yo(e,n.type,s):n.hasOwnProperty("defaultValue")&&Yo(e,n.type,he(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function yc(e,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var l=n.type;if(!(l!=="submit"&&l!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,s||n===e.value||(e.value=n),e.defaultValue=n}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Yo(e,n,s){(n!=="number"||rs(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Gr=Array.isArray;function ur(e,n,s,l){if(e=e.options,n){n={};for(var a=0;a<s.length;a++)n["$"+s[a]]=!0;for(s=0;s<e.length;s++)a=n.hasOwnProperty("$"+e[s].value),e[s].selected!==a&&(e[s].selected=a),a&&l&&(e[s].defaultSelected=!0)}else{for(s=""+he(s),n=null,a=0;a<e.length;a++){if(e[a].value===s){e[a].selected=!0,l&&(e[a].defaultSelected=!0);return}n!==null||e[a].disabled||(n=e[a])}n!==null&&(n.selected=!0)}}function Xo(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(i(91));return b({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function vc(e,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(i(92));if(Gr(s)){if(1<s.length)throw Error(i(93));s=s[0]}n=s}n==null&&(n=""),s=n}e._wrapperState={initialValue:he(s)}}function wc(e,n){var s=he(n.value),l=he(n.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),n.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),l!=null&&(e.defaultValue=""+l)}function Sc(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function Ec(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jo(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?Ec(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var is,Cc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,l,a){MSApp.execUnsafeLocalFunction(function(){return e(n,s,l,a)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(is=is||document.createElement("div"),is.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=is.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Kr(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Qr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vg=["Webkit","ms","Moz","O"];Object.keys(Qr).forEach(function(e){vg.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Qr[n]=Qr[e]})});function kc(e,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||Qr.hasOwnProperty(e)&&Qr[e]?(""+n).trim():n+"px"}function Tc(e,n){e=e.style;for(var s in n)if(n.hasOwnProperty(s)){var l=s.indexOf("--")===0,a=kc(s,n[s],l);s==="float"&&(s="cssFloat"),l?e.setProperty(s,a):e[s]=a}}var wg=b({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zo(e,n){if(n){if(wg[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(i(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(i(61))}if(n.style!=null&&typeof n.style!="object")throw Error(i(62))}}function el(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tl=null;function nl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var rl=null,ar=null,cr=null;function Ic(e){if(e=gi(e)){if(typeof rl!="function")throw Error(i(280));var n=e.stateNode;n&&(n=Ns(n),rl(e.stateNode,e.type,n))}}function Nc(e){ar?cr?cr.push(e):cr=[e]:ar=e}function Rc(){if(ar){var e=ar,n=cr;if(cr=ar=null,Ic(e),n)for(e=0;e<n.length;e++)Ic(n[e])}}function xc(e,n){return e(n)}function Pc(){}var il=!1;function Dc(e,n,s){if(il)return e(n,s);il=!0;try{return xc(e,n,s)}finally{il=!1,(ar!==null||cr!==null)&&(Pc(),Rc())}}function qr(e,n){var s=e.stateNode;if(s===null)return null;var l=Ns(s);if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(i(231,n,typeof s));return s}var sl=!1;if(p)try{var Yr={};Object.defineProperty(Yr,"passive",{get:function(){sl=!0}}),window.addEventListener("test",Yr,Yr),window.removeEventListener("test",Yr,Yr)}catch{sl=!1}function Sg(e,n,s,l,a,f,h,_,v){var I=Array.prototype.slice.call(arguments,3);try{n.apply(s,I)}catch(x){this.onError(x)}}var Xr=!1,ss=null,os=!1,ol=null,Eg={onError:function(e){Xr=!0,ss=e}};function Cg(e,n,s,l,a,f,h,_,v){Xr=!1,ss=null,Sg.apply(Eg,arguments)}function kg(e,n,s,l,a,f,h,_,v){if(Cg.apply(this,arguments),Xr){if(Xr){var I=ss;Xr=!1,ss=null}else throw Error(i(198));os||(os=!0,ol=I)}}function zn(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function Ac(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Oc(e){if(zn(e)!==e)throw Error(i(188))}function Tg(e){var n=e.alternate;if(!n){if(n=zn(e),n===null)throw Error(i(188));return n!==e?null:e}for(var s=e,l=n;;){var a=s.return;if(a===null)break;var f=a.alternate;if(f===null){if(l=a.return,l!==null){s=l;continue}break}if(a.child===f.child){for(f=a.child;f;){if(f===s)return Oc(a),e;if(f===l)return Oc(a),n;f=f.sibling}throw Error(i(188))}if(s.return!==l.return)s=a,l=f;else{for(var h=!1,_=a.child;_;){if(_===s){h=!0,s=a,l=f;break}if(_===l){h=!0,l=a,s=f;break}_=_.sibling}if(!h){for(_=f.child;_;){if(_===s){h=!0,s=f,l=a;break}if(_===l){h=!0,l=f,s=a;break}_=_.sibling}if(!h)throw Error(i(189))}}if(s.alternate!==l)throw Error(i(190))}if(s.tag!==3)throw Error(i(188));return s.stateNode.current===s?e:n}function Mc(e){return e=Tg(e),e!==null?Lc(e):null}function Lc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Lc(e);if(n!==null)return n;e=e.sibling}return null}var Fc=t.unstable_scheduleCallback,zc=t.unstable_cancelCallback,Ig=t.unstable_shouldYield,Ng=t.unstable_requestPaint,Pe=t.unstable_now,Rg=t.unstable_getCurrentPriorityLevel,ll=t.unstable_ImmediatePriority,Uc=t.unstable_UserBlockingPriority,ls=t.unstable_NormalPriority,xg=t.unstable_LowPriority,bc=t.unstable_IdlePriority,us=null,Wt=null;function Pg(e){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(us,e,void 0,(e.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:Og,Dg=Math.log,Ag=Math.LN2;function Og(e){return e>>>=0,e===0?32:31-(Dg(e)/Ag|0)|0}var as=64,cs=4194304;function Jr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function fs(e,n){var s=e.pendingLanes;if(s===0)return 0;var l=0,a=e.suspendedLanes,f=e.pingedLanes,h=s&268435455;if(h!==0){var _=h&~a;_!==0?l=Jr(_):(f&=h,f!==0&&(l=Jr(f)))}else h=s&~a,h!==0?l=Jr(h):f!==0&&(l=Jr(f));if(l===0)return 0;if(n!==0&&n!==l&&!(n&a)&&(a=l&-l,f=n&-n,a>=f||a===16&&(f&4194240)!==0))return n;if(l&4&&(l|=s&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=l;0<n;)s=31-Pt(n),a=1<<s,l|=e[s],n&=~a;return l}function Mg(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lg(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,a=e.expirationTimes,f=e.pendingLanes;0<f;){var h=31-Pt(f),_=1<<h,v=a[h];v===-1?(!(_&s)||_&l)&&(a[h]=Mg(_,n)):v<=n&&(e.expiredLanes|=_),f&=~_}}function ul(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function jc(){var e=as;return as<<=1,!(as&4194240)&&(as=64),e}function al(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Zr(e,n,s){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Pt(n),e[n]=s}function Fg(e,n){var s=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<s;){var a=31-Pt(s),f=1<<a;n[a]=0,l[a]=-1,e[a]=-1,s&=~f}}function cl(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-Pt(s),a=1<<l;a&n|e[l]&n&&(e[l]|=n),s&=~a}}var pe=0;function Bc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Wc,fl,Hc,$c,Vc,dl=!1,ds=[],hn=null,pn=null,mn=null,ei=new Map,ti=new Map,gn=[],zg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gc(e,n){switch(e){case"focusin":case"focusout":hn=null;break;case"dragenter":case"dragleave":pn=null;break;case"mouseover":case"mouseout":mn=null;break;case"pointerover":case"pointerout":ei.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ti.delete(n.pointerId)}}function ni(e,n,s,l,a,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[a]},n!==null&&(n=gi(n),n!==null&&fl(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,a!==null&&n.indexOf(a)===-1&&n.push(a),e)}function Ug(e,n,s,l,a){switch(n){case"focusin":return hn=ni(hn,e,n,s,l,a),!0;case"dragenter":return pn=ni(pn,e,n,s,l,a),!0;case"mouseover":return mn=ni(mn,e,n,s,l,a),!0;case"pointerover":var f=a.pointerId;return ei.set(f,ni(ei.get(f)||null,e,n,s,l,a)),!0;case"gotpointercapture":return f=a.pointerId,ti.set(f,ni(ti.get(f)||null,e,n,s,l,a)),!0}return!1}function Kc(e){var n=Un(e.target);if(n!==null){var s=zn(n);if(s!==null){if(n=s.tag,n===13){if(n=Ac(s),n!==null){e.blockedOn=n,Vc(e.priority,function(){Hc(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hs(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=pl(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);tl=l,s.target.dispatchEvent(l),tl=null}else return n=gi(s),n!==null&&fl(n),e.blockedOn=s,!1;n.shift()}return!0}function Qc(e,n,s){hs(e)&&s.delete(n)}function bg(){dl=!1,hn!==null&&hs(hn)&&(hn=null),pn!==null&&hs(pn)&&(pn=null),mn!==null&&hs(mn)&&(mn=null),ei.forEach(Qc),ti.forEach(Qc)}function ri(e,n){e.blockedOn===n&&(e.blockedOn=null,dl||(dl=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,bg)))}function ii(e){function n(a){return ri(a,e)}if(0<ds.length){ri(ds[0],e);for(var s=1;s<ds.length;s++){var l=ds[s];l.blockedOn===e&&(l.blockedOn=null)}}for(hn!==null&&ri(hn,e),pn!==null&&ri(pn,e),mn!==null&&ri(mn,e),ei.forEach(n),ti.forEach(n),s=0;s<gn.length;s++)l=gn[s],l.blockedOn===e&&(l.blockedOn=null);for(;0<gn.length&&(s=gn[0],s.blockedOn===null);)Kc(s),s.blockedOn===null&&gn.shift()}var fr=G.ReactCurrentBatchConfig,ps=!0;function jg(e,n,s,l){var a=pe,f=fr.transition;fr.transition=null;try{pe=1,hl(e,n,s,l)}finally{pe=a,fr.transition=f}}function Bg(e,n,s,l){var a=pe,f=fr.transition;fr.transition=null;try{pe=4,hl(e,n,s,l)}finally{pe=a,fr.transition=f}}function hl(e,n,s,l){if(ps){var a=pl(e,n,s,l);if(a===null)Dl(e,n,l,ms,s),Gc(e,l);else if(Ug(a,e,n,s,l))l.stopPropagation();else if(Gc(e,l),n&4&&-1<zg.indexOf(e)){for(;a!==null;){var f=gi(a);if(f!==null&&Wc(f),f=pl(e,n,s,l),f===null&&Dl(e,n,l,ms,s),f===a)break;a=f}a!==null&&l.stopPropagation()}else Dl(e,n,l,null,s)}}var ms=null;function pl(e,n,s,l){if(ms=null,e=nl(l),e=Un(e),e!==null)if(n=zn(e),n===null)e=null;else if(s=n.tag,s===13){if(e=Ac(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return ms=e,null}function qc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rg()){case ll:return 1;case Uc:return 4;case ls:case xg:return 16;case bc:return 536870912;default:return 16}default:return 16}}var _n=null,ml=null,gs=null;function Yc(){if(gs)return gs;var e,n=ml,s=n.length,l,a="value"in _n?_n.value:_n.textContent,f=a.length;for(e=0;e<s&&n[e]===a[e];e++);var h=s-e;for(l=1;l<=h&&n[s-l]===a[f-l];l++);return gs=a.slice(e,1<l?1-l:void 0)}function _s(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ys(){return!0}function Xc(){return!1}function pt(e){function n(s,l,a,f,h){this._reactName=s,this._targetInst=a,this.type=l,this.nativeEvent=f,this.target=h,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(s=e[_],this[_]=s?s(f):f[_]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ys:Xc,this.isPropagationStopped=Xc,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ys)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ys)},persist:function(){},isPersistent:ys}),n}var dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gl=pt(dr),si=b({},dr,{view:0,detail:0}),Wg=pt(si),_l,yl,oi,vs=b({},si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==oi&&(oi&&e.type==="mousemove"?(_l=e.screenX-oi.screenX,yl=e.screenY-oi.screenY):yl=_l=0,oi=e),_l)},movementY:function(e){return"movementY"in e?e.movementY:yl}}),Jc=pt(vs),Hg=b({},vs,{dataTransfer:0}),$g=pt(Hg),Vg=b({},si,{relatedTarget:0}),vl=pt(Vg),Gg=b({},dr,{animationName:0,elapsedTime:0,pseudoElement:0}),Kg=pt(Gg),Qg=b({},dr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qg=pt(Qg),Yg=b({},dr,{data:0}),Zc=pt(Yg),Xg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function e_(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Zg[e])?!!n[e]:!1}function wl(){return e_}var t_=b({},si,{key:function(e){if(e.key){var n=Xg[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=_s(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Jg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wl,charCode:function(e){return e.type==="keypress"?_s(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_s(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),n_=pt(t_),r_=b({},vs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ef=pt(r_),i_=b({},si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wl}),s_=pt(i_),o_=b({},dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),l_=pt(o_),u_=b({},vs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),a_=pt(u_),c_=[9,13,27,32],Sl=p&&"CompositionEvent"in window,li=null;p&&"documentMode"in document&&(li=document.documentMode);var f_=p&&"TextEvent"in window&&!li,tf=p&&(!Sl||li&&8<li&&11>=li),nf=" ",rf=!1;function sf(e,n){switch(e){case"keyup":return c_.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function of(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var hr=!1;function d_(e,n){switch(e){case"compositionend":return of(n);case"keypress":return n.which!==32?null:(rf=!0,nf);case"textInput":return e=n.data,e===nf&&rf?null:e;default:return null}}function h_(e,n){if(hr)return e==="compositionend"||!Sl&&sf(e,n)?(e=Yc(),gs=ml=_n=null,hr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return tf&&n.locale!=="ko"?null:n.data;default:return null}}var p_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lf(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!p_[e.type]:n==="textarea"}function uf(e,n,s,l){Nc(l),n=ks(n,"onChange"),0<n.length&&(s=new gl("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var ui=null,ai=null;function m_(e){If(e,0)}function ws(e){var n=yr(e);if(mc(n))return e}function g_(e,n){if(e==="change")return n}var af=!1;if(p){var El;if(p){var Cl="oninput"in document;if(!Cl){var cf=document.createElement("div");cf.setAttribute("oninput","return;"),Cl=typeof cf.oninput=="function"}El=Cl}else El=!1;af=El&&(!document.documentMode||9<document.documentMode)}function ff(){ui&&(ui.detachEvent("onpropertychange",df),ai=ui=null)}function df(e){if(e.propertyName==="value"&&ws(ai)){var n=[];uf(n,ai,e,nl(e)),Dc(m_,n)}}function __(e,n,s){e==="focusin"?(ff(),ui=n,ai=s,ui.attachEvent("onpropertychange",df)):e==="focusout"&&ff()}function y_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ws(ai)}function v_(e,n){if(e==="click")return ws(n)}function w_(e,n){if(e==="input"||e==="change")return ws(n)}function S_(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Dt=typeof Object.is=="function"?Object.is:S_;function ci(e,n){if(Dt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var a=s[l];if(!m.call(n,a)||!Dt(e[a],n[a]))return!1}return!0}function hf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pf(e,n){var s=hf(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=hf(s)}}function mf(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?mf(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function gf(){for(var e=window,n=rs();n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=rs(e.document)}return n}function kl(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function E_(e){var n=gf(),s=e.focusedElem,l=e.selectionRange;if(n!==s&&s&&s.ownerDocument&&mf(s.ownerDocument.documentElement,s)){if(l!==null&&kl(s)){if(n=l.start,e=l.end,e===void 0&&(e=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(e,s.value.length);else if(e=(n=s.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var a=s.textContent.length,f=Math.min(l.start,a);l=l.end===void 0?f:Math.min(l.end,a),!e.extend&&f>l&&(a=l,l=f,f=a),a=pf(s,f);var h=pf(s,l);a&&h&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(n=n.createRange(),n.setStart(a.node,a.offset),e.removeAllRanges(),f>l?(e.addRange(n),e.extend(h.node,h.offset)):(n.setEnd(h.node,h.offset),e.addRange(n)))}}for(n=[],e=s;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)e=n[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var C_=p&&"documentMode"in document&&11>=document.documentMode,pr=null,Tl=null,fi=null,Il=!1;function _f(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Il||pr==null||pr!==rs(l)||(l=pr,"selectionStart"in l&&kl(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),fi&&ci(fi,l)||(fi=l,l=ks(Tl,"onSelect"),0<l.length&&(n=new gl("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=pr)))}function Ss(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var mr={animationend:Ss("Animation","AnimationEnd"),animationiteration:Ss("Animation","AnimationIteration"),animationstart:Ss("Animation","AnimationStart"),transitionend:Ss("Transition","TransitionEnd")},Nl={},yf={};p&&(yf=document.createElement("div").style,"AnimationEvent"in window||(delete mr.animationend.animation,delete mr.animationiteration.animation,delete mr.animationstart.animation),"TransitionEvent"in window||delete mr.transitionend.transition);function Es(e){if(Nl[e])return Nl[e];if(!mr[e])return e;var n=mr[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in yf)return Nl[e]=n[s];return e}var vf=Es("animationend"),wf=Es("animationiteration"),Sf=Es("animationstart"),Ef=Es("transitionend"),Cf=new Map,kf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yn(e,n){Cf.set(e,n),c(n,[e])}for(var Rl=0;Rl<kf.length;Rl++){var xl=kf[Rl],k_=xl.toLowerCase(),T_=xl[0].toUpperCase()+xl.slice(1);yn(k_,"on"+T_)}yn(vf,"onAnimationEnd"),yn(wf,"onAnimationIteration"),yn(Sf,"onAnimationStart"),yn("dblclick","onDoubleClick"),yn("focusin","onFocus"),yn("focusout","onBlur"),yn(Ef,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var di="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I_=new Set("cancel close invalid load scroll toggle".split(" ").concat(di));function Tf(e,n,s){var l=e.type||"unknown-event";e.currentTarget=s,kg(l,n,void 0,e),e.currentTarget=null}function If(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],a=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var h=l.length-1;0<=h;h--){var _=l[h],v=_.instance,I=_.currentTarget;if(_=_.listener,v!==f&&a.isPropagationStopped())break e;Tf(a,_,I),f=v}else for(h=0;h<l.length;h++){if(_=l[h],v=_.instance,I=_.currentTarget,_=_.listener,v!==f&&a.isPropagationStopped())break e;Tf(a,_,I),f=v}}}if(os)throw e=ol,os=!1,ol=null,e}function ve(e,n){var s=n[zl];s===void 0&&(s=n[zl]=new Set);var l=e+"__bubble";s.has(l)||(Nf(n,e,2,!1),s.add(l))}function Pl(e,n,s){var l=0;n&&(l|=4),Nf(s,e,l,n)}var Cs="_reactListening"+Math.random().toString(36).slice(2);function hi(e){if(!e[Cs]){e[Cs]=!0,o.forEach(function(s){s!=="selectionchange"&&(I_.has(s)||Pl(s,!1,e),Pl(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Cs]||(n[Cs]=!0,Pl("selectionchange",!1,n))}}function Nf(e,n,s,l){switch(qc(n)){case 1:var a=jg;break;case 4:a=Bg;break;default:a=hl}s=a.bind(null,n,s,e),a=void 0,!sl||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(a=!0),l?a!==void 0?e.addEventListener(n,s,{capture:!0,passive:a}):e.addEventListener(n,s,!0):a!==void 0?e.addEventListener(n,s,{passive:a}):e.addEventListener(n,s,!1)}function Dl(e,n,s,l,a){var f=l;if(!(n&1)&&!(n&2)&&l!==null)e:for(;;){if(l===null)return;var h=l.tag;if(h===3||h===4){var _=l.stateNode.containerInfo;if(_===a||_.nodeType===8&&_.parentNode===a)break;if(h===4)for(h=l.return;h!==null;){var v=h.tag;if((v===3||v===4)&&(v=h.stateNode.containerInfo,v===a||v.nodeType===8&&v.parentNode===a))return;h=h.return}for(;_!==null;){if(h=Un(_),h===null)return;if(v=h.tag,v===5||v===6){l=f=h;continue e}_=_.parentNode}}l=l.return}Dc(function(){var I=f,x=nl(s),P=[];e:{var N=Cf.get(e);if(N!==void 0){var F=gl,j=e;switch(e){case"keypress":if(_s(s)===0)break e;case"keydown":case"keyup":F=n_;break;case"focusin":j="focus",F=vl;break;case"focusout":j="blur",F=vl;break;case"beforeblur":case"afterblur":F=vl;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Jc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=$g;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=s_;break;case vf:case wf:case Sf:F=Kg;break;case Ef:F=l_;break;case"scroll":F=Wg;break;case"wheel":F=a_;break;case"copy":case"cut":case"paste":F=qg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=ef}var B=(n&4)!==0,De=!B&&e==="scroll",C=B?N!==null?N+"Capture":null:N;B=[];for(var S=I,k;S!==null;){k=S;var D=k.stateNode;if(k.tag===5&&D!==null&&(k=D,C!==null&&(D=qr(S,C),D!=null&&B.push(pi(S,D,k)))),De)break;S=S.return}0<B.length&&(N=new F(N,j,null,s,x),P.push({event:N,listeners:B}))}}if(!(n&7)){e:{if(N=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",N&&s!==tl&&(j=s.relatedTarget||s.fromElement)&&(Un(j)||j[Yt]))break e;if((F||N)&&(N=x.window===x?x:(N=x.ownerDocument)?N.defaultView||N.parentWindow:window,F?(j=s.relatedTarget||s.toElement,F=I,j=j?Un(j):null,j!==null&&(De=zn(j),j!==De||j.tag!==5&&j.tag!==6)&&(j=null)):(F=null,j=I),F!==j)){if(B=Jc,D="onMouseLeave",C="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(B=ef,D="onPointerLeave",C="onPointerEnter",S="pointer"),De=F==null?N:yr(F),k=j==null?N:yr(j),N=new B(D,S+"leave",F,s,x),N.target=De,N.relatedTarget=k,D=null,Un(x)===I&&(B=new B(C,S+"enter",j,s,x),B.target=k,B.relatedTarget=De,D=B),De=D,F&&j)t:{for(B=F,C=j,S=0,k=B;k;k=gr(k))S++;for(k=0,D=C;D;D=gr(D))k++;for(;0<S-k;)B=gr(B),S--;for(;0<k-S;)C=gr(C),k--;for(;S--;){if(B===C||C!==null&&B===C.alternate)break t;B=gr(B),C=gr(C)}B=null}else B=null;F!==null&&Rf(P,N,F,B,!1),j!==null&&De!==null&&Rf(P,De,j,B,!0)}}e:{if(N=I?yr(I):window,F=N.nodeName&&N.nodeName.toLowerCase(),F==="select"||F==="input"&&N.type==="file")var W=g_;else if(lf(N))if(af)W=w_;else{W=y_;var $=__}else(F=N.nodeName)&&F.toLowerCase()==="input"&&(N.type==="checkbox"||N.type==="radio")&&(W=v_);if(W&&(W=W(e,I))){uf(P,W,s,x);break e}$&&$(e,N,I),e==="focusout"&&($=N._wrapperState)&&$.controlled&&N.type==="number"&&Yo(N,"number",N.value)}switch($=I?yr(I):window,e){case"focusin":(lf($)||$.contentEditable==="true")&&(pr=$,Tl=I,fi=null);break;case"focusout":fi=Tl=pr=null;break;case"mousedown":Il=!0;break;case"contextmenu":case"mouseup":case"dragend":Il=!1,_f(P,s,x);break;case"selectionchange":if(C_)break;case"keydown":case"keyup":_f(P,s,x)}var V;if(Sl)e:{switch(e){case"compositionstart":var q="onCompositionStart";break e;case"compositionend":q="onCompositionEnd";break e;case"compositionupdate":q="onCompositionUpdate";break e}q=void 0}else hr?sf(e,s)&&(q="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(q="onCompositionStart");q&&(tf&&s.locale!=="ko"&&(hr||q!=="onCompositionStart"?q==="onCompositionEnd"&&hr&&(V=Yc()):(_n=x,ml="value"in _n?_n.value:_n.textContent,hr=!0)),$=ks(I,q),0<$.length&&(q=new Zc(q,e,null,s,x),P.push({event:q,listeners:$}),V?q.data=V:(V=of(s),V!==null&&(q.data=V)))),(V=f_?d_(e,s):h_(e,s))&&(I=ks(I,"onBeforeInput"),0<I.length&&(x=new Zc("onBeforeInput","beforeinput",null,s,x),P.push({event:x,listeners:I}),x.data=V))}If(P,n)})}function pi(e,n,s){return{instance:e,listener:n,currentTarget:s}}function ks(e,n){for(var s=n+"Capture",l=[];e!==null;){var a=e,f=a.stateNode;a.tag===5&&f!==null&&(a=f,f=qr(e,s),f!=null&&l.unshift(pi(e,f,a)),f=qr(e,n),f!=null&&l.push(pi(e,f,a))),e=e.return}return l}function gr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Rf(e,n,s,l,a){for(var f=n._reactName,h=[];s!==null&&s!==l;){var _=s,v=_.alternate,I=_.stateNode;if(v!==null&&v===l)break;_.tag===5&&I!==null&&(_=I,a?(v=qr(s,f),v!=null&&h.unshift(pi(s,v,_))):a||(v=qr(s,f),v!=null&&h.push(pi(s,v,_)))),s=s.return}h.length!==0&&e.push({event:n,listeners:h})}var N_=/\r\n?/g,R_=/\u0000|\uFFFD/g;function xf(e){return(typeof e=="string"?e:""+e).replace(N_,`
`).replace(R_,"")}function Ts(e,n,s){if(n=xf(n),xf(e)!==n&&s)throw Error(i(425))}function Is(){}var Al=null,Ol=null;function Ml(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ll=typeof setTimeout=="function"?setTimeout:void 0,x_=typeof clearTimeout=="function"?clearTimeout:void 0,Pf=typeof Promise=="function"?Promise:void 0,P_=typeof queueMicrotask=="function"?queueMicrotask:typeof Pf<"u"?function(e){return Pf.resolve(null).then(e).catch(D_)}:Ll;function D_(e){setTimeout(function(){throw e})}function Fl(e,n){var s=n,l=0;do{var a=s.nextSibling;if(e.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(l===0){e.removeChild(a),ii(n);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=a}while(s);ii(n)}function vn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Df(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}var _r=Math.random().toString(36).slice(2),Ht="__reactFiber$"+_r,mi="__reactProps$"+_r,Yt="__reactContainer$"+_r,zl="__reactEvents$"+_r,A_="__reactListeners$"+_r,O_="__reactHandles$"+_r;function Un(e){var n=e[Ht];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Yt]||s[Ht]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Df(e);e!==null;){if(s=e[Ht])return s;e=Df(e)}return n}e=s,s=e.parentNode}return null}function gi(e){return e=e[Ht]||e[Yt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function yr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function Ns(e){return e[mi]||null}var Ul=[],vr=-1;function wn(e){return{current:e}}function we(e){0>vr||(e.current=Ul[vr],Ul[vr]=null,vr--)}function _e(e,n){vr++,Ul[vr]=e.current,e.current=n}var Sn={},Qe=wn(Sn),it=wn(!1),bn=Sn;function wr(e,n){var s=e.type.contextTypes;if(!s)return Sn;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===n)return l.__reactInternalMemoizedMaskedChildContext;var a={},f;for(f in s)a[f]=n[f];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=a),a}function st(e){return e=e.childContextTypes,e!=null}function Rs(){we(it),we(Qe)}function Af(e,n,s){if(Qe.current!==Sn)throw Error(i(168));_e(Qe,n),_e(it,s)}function Of(e,n,s){var l=e.stateNode;if(n=n.childContextTypes,typeof l.getChildContext!="function")return s;l=l.getChildContext();for(var a in l)if(!(a in n))throw Error(i(108,ge(e)||"Unknown",a));return b({},s,l)}function xs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Sn,bn=Qe.current,_e(Qe,e),_e(it,it.current),!0}function Mf(e,n,s){var l=e.stateNode;if(!l)throw Error(i(169));s?(e=Of(e,n,bn),l.__reactInternalMemoizedMergedChildContext=e,we(it),we(Qe),_e(Qe,e)):we(it),_e(it,s)}var Xt=null,Ps=!1,bl=!1;function Lf(e){Xt===null?Xt=[e]:Xt.push(e)}function M_(e){Ps=!0,Lf(e)}function En(){if(!bl&&Xt!==null){bl=!0;var e=0,n=pe;try{var s=Xt;for(pe=1;e<s.length;e++){var l=s[e];do l=l(!0);while(l!==null)}Xt=null,Ps=!1}catch(a){throw Xt!==null&&(Xt=Xt.slice(e+1)),Fc(ll,En),a}finally{pe=n,bl=!1}}return null}var Sr=[],Er=0,Ds=null,As=0,wt=[],St=0,jn=null,Jt=1,Zt="";function Bn(e,n){Sr[Er++]=As,Sr[Er++]=Ds,Ds=e,As=n}function Ff(e,n,s){wt[St++]=Jt,wt[St++]=Zt,wt[St++]=jn,jn=e;var l=Jt;e=Zt;var a=32-Pt(l)-1;l&=~(1<<a),s+=1;var f=32-Pt(n)+a;if(30<f){var h=a-a%5;f=(l&(1<<h)-1).toString(32),l>>=h,a-=h,Jt=1<<32-Pt(n)+a|s<<a|l,Zt=f+e}else Jt=1<<f|s<<a|l,Zt=e}function jl(e){e.return!==null&&(Bn(e,1),Ff(e,1,0))}function Bl(e){for(;e===Ds;)Ds=Sr[--Er],Sr[Er]=null,As=Sr[--Er],Sr[Er]=null;for(;e===jn;)jn=wt[--St],wt[St]=null,Zt=wt[--St],wt[St]=null,Jt=wt[--St],wt[St]=null}var mt=null,gt=null,Te=!1,At=null;function zf(e,n){var s=Tt(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=e,n=e.deletions,n===null?(e.deletions=[s],e.flags|=16):n.push(s)}function Uf(e,n){switch(e.tag){case 5:var s=e.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,mt=e,gt=vn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,mt=e,gt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=jn!==null?{id:Jt,overflow:Zt}:null,e.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=Tt(18,null,null,0),s.stateNode=n,s.return=e,e.child=s,mt=e,gt=null,!0):!1;default:return!1}}function Wl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Hl(e){if(Te){var n=gt;if(n){var s=n;if(!Uf(e,n)){if(Wl(e))throw Error(i(418));n=vn(s.nextSibling);var l=mt;n&&Uf(e,n)?zf(l,s):(e.flags=e.flags&-4097|2,Te=!1,mt=e)}}else{if(Wl(e))throw Error(i(418));e.flags=e.flags&-4097|2,Te=!1,mt=e}}}function bf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;mt=e}function Os(e){if(e!==mt)return!1;if(!Te)return bf(e),Te=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Ml(e.type,e.memoizedProps)),n&&(n=gt)){if(Wl(e))throw jf(),Error(i(418));for(;n;)zf(e,n),n=vn(n.nextSibling)}if(bf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(n===0){gt=vn(e.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}e=e.nextSibling}gt=null}}else gt=mt?vn(e.stateNode.nextSibling):null;return!0}function jf(){for(var e=gt;e;)e=vn(e.nextSibling)}function Cr(){gt=mt=null,Te=!1}function $l(e){At===null?At=[e]:At.push(e)}var L_=G.ReactCurrentBatchConfig;function _i(e,n,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(i(309));var l=s.stateNode}if(!l)throw Error(i(147,e));var a=l,f=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===f?n.ref:(n=function(h){var _=a.refs;h===null?delete _[f]:_[f]=h},n._stringRef=f,n)}if(typeof e!="string")throw Error(i(284));if(!s._owner)throw Error(i(290,e))}return e}function Ms(e,n){throw e=Object.prototype.toString.call(n),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Bf(e){var n=e._init;return n(e._payload)}function Wf(e){function n(C,S){if(e){var k=C.deletions;k===null?(C.deletions=[S],C.flags|=16):k.push(S)}}function s(C,S){if(!e)return null;for(;S!==null;)n(C,S),S=S.sibling;return null}function l(C,S){for(C=new Map;S!==null;)S.key!==null?C.set(S.key,S):C.set(S.index,S),S=S.sibling;return C}function a(C,S){return C=Pn(C,S),C.index=0,C.sibling=null,C}function f(C,S,k){return C.index=k,e?(k=C.alternate,k!==null?(k=k.index,k<S?(C.flags|=2,S):k):(C.flags|=2,S)):(C.flags|=1048576,S)}function h(C){return e&&C.alternate===null&&(C.flags|=2),C}function _(C,S,k,D){return S===null||S.tag!==6?(S=Lu(k,C.mode,D),S.return=C,S):(S=a(S,k),S.return=C,S)}function v(C,S,k,D){var W=k.type;return W===de?x(C,S,k.props.children,D,k.key):S!==null&&(S.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===rt&&Bf(W)===S.type)?(D=a(S,k.props),D.ref=_i(C,S,k),D.return=C,D):(D=io(k.type,k.key,k.props,null,C.mode,D),D.ref=_i(C,S,k),D.return=C,D)}function I(C,S,k,D){return S===null||S.tag!==4||S.stateNode.containerInfo!==k.containerInfo||S.stateNode.implementation!==k.implementation?(S=Fu(k,C.mode,D),S.return=C,S):(S=a(S,k.children||[]),S.return=C,S)}function x(C,S,k,D,W){return S===null||S.tag!==7?(S=qn(k,C.mode,D,W),S.return=C,S):(S=a(S,k),S.return=C,S)}function P(C,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Lu(""+S,C.mode,k),S.return=C,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case J:return k=io(S.type,S.key,S.props,null,C.mode,k),k.ref=_i(C,null,S),k.return=C,k;case Y:return S=Fu(S,C.mode,k),S.return=C,S;case rt:var D=S._init;return P(C,D(S._payload),k)}if(Gr(S)||K(S))return S=qn(S,C.mode,k,null),S.return=C,S;Ms(C,S)}return null}function N(C,S,k,D){var W=S!==null?S.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return W!==null?null:_(C,S,""+k,D);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case J:return k.key===W?v(C,S,k,D):null;case Y:return k.key===W?I(C,S,k,D):null;case rt:return W=k._init,N(C,S,W(k._payload),D)}if(Gr(k)||K(k))return W!==null?null:x(C,S,k,D,null);Ms(C,k)}return null}function F(C,S,k,D,W){if(typeof D=="string"&&D!==""||typeof D=="number")return C=C.get(k)||null,_(S,C,""+D,W);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case J:return C=C.get(D.key===null?k:D.key)||null,v(S,C,D,W);case Y:return C=C.get(D.key===null?k:D.key)||null,I(S,C,D,W);case rt:var $=D._init;return F(C,S,k,$(D._payload),W)}if(Gr(D)||K(D))return C=C.get(k)||null,x(S,C,D,W,null);Ms(S,D)}return null}function j(C,S,k,D){for(var W=null,$=null,V=S,q=S=0,Ue=null;V!==null&&q<k.length;q++){V.index>q?(Ue=V,V=null):Ue=V.sibling;var ce=N(C,V,k[q],D);if(ce===null){V===null&&(V=Ue);break}e&&V&&ce.alternate===null&&n(C,V),S=f(ce,S,q),$===null?W=ce:$.sibling=ce,$=ce,V=Ue}if(q===k.length)return s(C,V),Te&&Bn(C,q),W;if(V===null){for(;q<k.length;q++)V=P(C,k[q],D),V!==null&&(S=f(V,S,q),$===null?W=V:$.sibling=V,$=V);return Te&&Bn(C,q),W}for(V=l(C,V);q<k.length;q++)Ue=F(V,C,q,k[q],D),Ue!==null&&(e&&Ue.alternate!==null&&V.delete(Ue.key===null?q:Ue.key),S=f(Ue,S,q),$===null?W=Ue:$.sibling=Ue,$=Ue);return e&&V.forEach(function(Dn){return n(C,Dn)}),Te&&Bn(C,q),W}function B(C,S,k,D){var W=K(k);if(typeof W!="function")throw Error(i(150));if(k=W.call(k),k==null)throw Error(i(151));for(var $=W=null,V=S,q=S=0,Ue=null,ce=k.next();V!==null&&!ce.done;q++,ce=k.next()){V.index>q?(Ue=V,V=null):Ue=V.sibling;var Dn=N(C,V,ce.value,D);if(Dn===null){V===null&&(V=Ue);break}e&&V&&Dn.alternate===null&&n(C,V),S=f(Dn,S,q),$===null?W=Dn:$.sibling=Dn,$=Dn,V=Ue}if(ce.done)return s(C,V),Te&&Bn(C,q),W;if(V===null){for(;!ce.done;q++,ce=k.next())ce=P(C,ce.value,D),ce!==null&&(S=f(ce,S,q),$===null?W=ce:$.sibling=ce,$=ce);return Te&&Bn(C,q),W}for(V=l(C,V);!ce.done;q++,ce=k.next())ce=F(V,C,q,ce.value,D),ce!==null&&(e&&ce.alternate!==null&&V.delete(ce.key===null?q:ce.key),S=f(ce,S,q),$===null?W=ce:$.sibling=ce,$=ce);return e&&V.forEach(function(hy){return n(C,hy)}),Te&&Bn(C,q),W}function De(C,S,k,D){if(typeof k=="object"&&k!==null&&k.type===de&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case J:e:{for(var W=k.key,$=S;$!==null;){if($.key===W){if(W=k.type,W===de){if($.tag===7){s(C,$.sibling),S=a($,k.props.children),S.return=C,C=S;break e}}else if($.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===rt&&Bf(W)===$.type){s(C,$.sibling),S=a($,k.props),S.ref=_i(C,$,k),S.return=C,C=S;break e}s(C,$);break}else n(C,$);$=$.sibling}k.type===de?(S=qn(k.props.children,C.mode,D,k.key),S.return=C,C=S):(D=io(k.type,k.key,k.props,null,C.mode,D),D.ref=_i(C,S,k),D.return=C,C=D)}return h(C);case Y:e:{for($=k.key;S!==null;){if(S.key===$)if(S.tag===4&&S.stateNode.containerInfo===k.containerInfo&&S.stateNode.implementation===k.implementation){s(C,S.sibling),S=a(S,k.children||[]),S.return=C,C=S;break e}else{s(C,S);break}else n(C,S);S=S.sibling}S=Fu(k,C.mode,D),S.return=C,C=S}return h(C);case rt:return $=k._init,De(C,S,$(k._payload),D)}if(Gr(k))return j(C,S,k,D);if(K(k))return B(C,S,k,D);Ms(C,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,S!==null&&S.tag===6?(s(C,S.sibling),S=a(S,k),S.return=C,C=S):(s(C,S),S=Lu(k,C.mode,D),S.return=C,C=S),h(C)):s(C,S)}return De}var kr=Wf(!0),Hf=Wf(!1),Ls=wn(null),Fs=null,Tr=null,Vl=null;function Gl(){Vl=Tr=Fs=null}function Kl(e){var n=Ls.current;we(Ls),e._currentValue=n}function Ql(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function Ir(e,n){Fs=e,Vl=Tr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(ot=!0),e.firstContext=null)}function Et(e){var n=e._currentValue;if(Vl!==e)if(e={context:e,memoizedValue:n,next:null},Tr===null){if(Fs===null)throw Error(i(308));Tr=e,Fs.dependencies={lanes:0,firstContext:e}}else Tr=Tr.next=e;return n}var Wn=null;function ql(e){Wn===null?Wn=[e]:Wn.push(e)}function $f(e,n,s,l){var a=n.interleaved;return a===null?(s.next=s,ql(n)):(s.next=a.next,a.next=s),n.interleaved=s,en(e,l)}function en(e,n){e.lanes|=n;var s=e.alternate;for(s!==null&&(s.lanes|=n),s=e,e=e.return;e!==null;)e.childLanes|=n,s=e.alternate,s!==null&&(s.childLanes|=n),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Cn=!1;function Yl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function tn(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function kn(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,le&2){var a=l.pending;return a===null?n.next=n:(n.next=a.next,a.next=n),l.pending=n,en(e,s)}return a=l.interleaved,a===null?(n.next=n,ql(l)):(n.next=a.next,a.next=n),l.interleaved=n,en(e,s)}function zs(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,cl(e,s)}}function Gf(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var a=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var h={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};f===null?a=f=h:f=f.next=h,s=s.next}while(s!==null);f===null?a=f=n:f=f.next=n}else a=f=n;s={baseState:l.baseState,firstBaseUpdate:a,lastBaseUpdate:f,shared:l.shared,effects:l.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}function Us(e,n,s,l){var a=e.updateQueue;Cn=!1;var f=a.firstBaseUpdate,h=a.lastBaseUpdate,_=a.shared.pending;if(_!==null){a.shared.pending=null;var v=_,I=v.next;v.next=null,h===null?f=I:h.next=I,h=v;var x=e.alternate;x!==null&&(x=x.updateQueue,_=x.lastBaseUpdate,_!==h&&(_===null?x.firstBaseUpdate=I:_.next=I,x.lastBaseUpdate=v))}if(f!==null){var P=a.baseState;h=0,x=I=v=null,_=f;do{var N=_.lane,F=_.eventTime;if((l&N)===N){x!==null&&(x=x.next={eventTime:F,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var j=e,B=_;switch(N=n,F=s,B.tag){case 1:if(j=B.payload,typeof j=="function"){P=j.call(F,P,N);break e}P=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=B.payload,N=typeof j=="function"?j.call(F,P,N):j,N==null)break e;P=b({},P,N);break e;case 2:Cn=!0}}_.callback!==null&&_.lane!==0&&(e.flags|=64,N=a.effects,N===null?a.effects=[_]:N.push(_))}else F={eventTime:F,lane:N,tag:_.tag,payload:_.payload,callback:_.callback,next:null},x===null?(I=x=F,v=P):x=x.next=F,h|=N;if(_=_.next,_===null){if(_=a.shared.pending,_===null)break;N=_,_=N.next,N.next=null,a.lastBaseUpdate=N,a.shared.pending=null}}while(!0);if(x===null&&(v=P),a.baseState=v,a.firstBaseUpdate=I,a.lastBaseUpdate=x,n=a.shared.interleaved,n!==null){a=n;do h|=a.lane,a=a.next;while(a!==n)}else f===null&&(a.shared.lanes=0);Vn|=h,e.lanes=h,e.memoizedState=P}}function Kf(e,n,s){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var l=e[n],a=l.callback;if(a!==null){if(l.callback=null,l=s,typeof a!="function")throw Error(i(191,a));a.call(l)}}}var yi={},$t=wn(yi),vi=wn(yi),wi=wn(yi);function Hn(e){if(e===yi)throw Error(i(174));return e}function Xl(e,n){switch(_e(wi,n),_e(vi,e),_e($t,yi),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Jo(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Jo(n,e)}we($t),_e($t,n)}function Nr(){we($t),we(vi),we(wi)}function Qf(e){Hn(wi.current);var n=Hn($t.current),s=Jo(n,e.type);n!==s&&(_e(vi,e),_e($t,s))}function Jl(e){vi.current===e&&(we($t),we(vi))}var Ie=wn(0);function bs(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Zl=[];function eu(){for(var e=0;e<Zl.length;e++)Zl[e]._workInProgressVersionPrimary=null;Zl.length=0}var js=G.ReactCurrentDispatcher,tu=G.ReactCurrentBatchConfig,$n=0,Ne=null,Oe=null,Fe=null,Bs=!1,Si=!1,Ei=0,F_=0;function qe(){throw Error(i(321))}function nu(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Dt(e[s],n[s]))return!1;return!0}function ru(e,n,s,l,a,f){if($n=f,Ne=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,js.current=e===null||e.memoizedState===null?j_:B_,e=s(l,a),Si){f=0;do{if(Si=!1,Ei=0,25<=f)throw Error(i(301));f+=1,Fe=Oe=null,n.updateQueue=null,js.current=W_,e=s(l,a)}while(Si)}if(js.current=$s,n=Oe!==null&&Oe.next!==null,$n=0,Fe=Oe=Ne=null,Bs=!1,n)throw Error(i(300));return e}function iu(){var e=Ei!==0;return Ei=0,e}function Vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?Ne.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function Ct(){if(Oe===null){var e=Ne.alternate;e=e!==null?e.memoizedState:null}else e=Oe.next;var n=Fe===null?Ne.memoizedState:Fe.next;if(n!==null)Fe=n,Oe=e;else{if(e===null)throw Error(i(310));Oe=e,e={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},Fe===null?Ne.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function Ci(e,n){return typeof n=="function"?n(e):n}function su(e){var n=Ct(),s=n.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=e;var l=Oe,a=l.baseQueue,f=s.pending;if(f!==null){if(a!==null){var h=a.next;a.next=f.next,f.next=h}l.baseQueue=a=f,s.pending=null}if(a!==null){f=a.next,l=l.baseState;var _=h=null,v=null,I=f;do{var x=I.lane;if(($n&x)===x)v!==null&&(v=v.next={lane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),l=I.hasEagerState?I.eagerState:e(l,I.action);else{var P={lane:x,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null};v===null?(_=v=P,h=l):v=v.next=P,Ne.lanes|=x,Vn|=x}I=I.next}while(I!==null&&I!==f);v===null?h=l:v.next=_,Dt(l,n.memoizedState)||(ot=!0),n.memoizedState=l,n.baseState=h,n.baseQueue=v,s.lastRenderedState=l}if(e=s.interleaved,e!==null){a=e;do f=a.lane,Ne.lanes|=f,Vn|=f,a=a.next;while(a!==e)}else a===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function ou(e){var n=Ct(),s=n.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=e;var l=s.dispatch,a=s.pending,f=n.memoizedState;if(a!==null){s.pending=null;var h=a=a.next;do f=e(f,h.action),h=h.next;while(h!==a);Dt(f,n.memoizedState)||(ot=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function qf(){}function Yf(e,n){var s=Ne,l=Ct(),a=n(),f=!Dt(l.memoizedState,a);if(f&&(l.memoizedState=a,ot=!0),l=l.queue,lu(Zf.bind(null,s,l,e),[e]),l.getSnapshot!==n||f||Fe!==null&&Fe.memoizedState.tag&1){if(s.flags|=2048,ki(9,Jf.bind(null,s,l,a,n),void 0,null),ze===null)throw Error(i(349));$n&30||Xf(s,n,a)}return a}function Xf(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Ne.updateQueue,n===null?(n={lastEffect:null,stores:null},Ne.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Jf(e,n,s,l){n.value=s,n.getSnapshot=l,ed(n)&&td(e)}function Zf(e,n,s){return s(function(){ed(n)&&td(e)})}function ed(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Dt(e,s)}catch{return!0}}function td(e){var n=en(e,1);n!==null&&Ft(n,e,1,-1)}function nd(e){var n=Vt();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:e},n.queue=e,e=e.dispatch=b_.bind(null,Ne,e),[n.memoizedState,e]}function ki(e,n,s,l){return e={tag:e,create:n,destroy:s,deps:l,next:null},n=Ne.updateQueue,n===null?(n={lastEffect:null,stores:null},Ne.updateQueue=n,n.lastEffect=e.next=e):(s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e)),e}function rd(){return Ct().memoizedState}function Ws(e,n,s,l){var a=Vt();Ne.flags|=e,a.memoizedState=ki(1|n,s,void 0,l===void 0?null:l)}function Hs(e,n,s,l){var a=Ct();l=l===void 0?null:l;var f=void 0;if(Oe!==null){var h=Oe.memoizedState;if(f=h.destroy,l!==null&&nu(l,h.deps)){a.memoizedState=ki(n,s,f,l);return}}Ne.flags|=e,a.memoizedState=ki(1|n,s,f,l)}function id(e,n){return Ws(8390656,8,e,n)}function lu(e,n){return Hs(2048,8,e,n)}function sd(e,n){return Hs(4,2,e,n)}function od(e,n){return Hs(4,4,e,n)}function ld(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function ud(e,n,s){return s=s!=null?s.concat([e]):null,Hs(4,4,ld.bind(null,n,e),s)}function uu(){}function ad(e,n){var s=Ct();n=n===void 0?null:n;var l=s.memoizedState;return l!==null&&n!==null&&nu(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function cd(e,n){var s=Ct();n=n===void 0?null:n;var l=s.memoizedState;return l!==null&&n!==null&&nu(n,l[1])?l[0]:(e=e(),s.memoizedState=[e,n],e)}function fd(e,n,s){return $n&21?(Dt(s,n)||(s=jc(),Ne.lanes|=s,Vn|=s,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,ot=!0),e.memoizedState=s)}function z_(e,n){var s=pe;pe=s!==0&&4>s?s:4,e(!0);var l=tu.transition;tu.transition={};try{e(!1),n()}finally{pe=s,tu.transition=l}}function dd(){return Ct().memoizedState}function U_(e,n,s){var l=Rn(e);if(s={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null},hd(e))pd(n,s);else if(s=$f(e,n,s,l),s!==null){var a=nt();Ft(s,e,l,a),md(s,n,l)}}function b_(e,n,s){var l=Rn(e),a={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null};if(hd(e))pd(n,a);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var h=n.lastRenderedState,_=f(h,s);if(a.hasEagerState=!0,a.eagerState=_,Dt(_,h)){var v=n.interleaved;v===null?(a.next=a,ql(n)):(a.next=v.next,v.next=a),n.interleaved=a;return}}catch{}finally{}s=$f(e,n,a,l),s!==null&&(a=nt(),Ft(s,e,l,a),md(s,n,l))}}function hd(e){var n=e.alternate;return e===Ne||n!==null&&n===Ne}function pd(e,n){Si=Bs=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function md(e,n,s){if(s&4194240){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,cl(e,s)}}var $s={readContext:Et,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useInsertionEffect:qe,useLayoutEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useMutableSource:qe,useSyncExternalStore:qe,useId:qe,unstable_isNewReconciler:!1},j_={readContext:Et,useCallback:function(e,n){return Vt().memoizedState=[e,n===void 0?null:n],e},useContext:Et,useEffect:id,useImperativeHandle:function(e,n,s){return s=s!=null?s.concat([e]):null,Ws(4194308,4,ld.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Ws(4194308,4,e,n)},useInsertionEffect:function(e,n){return Ws(4,2,e,n)},useMemo:function(e,n){var s=Vt();return n=n===void 0?null:n,e=e(),s.memoizedState=[e,n],e},useReducer:function(e,n,s){var l=Vt();return n=s!==void 0?s(n):n,l.memoizedState=l.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=U_.bind(null,Ne,e),[l.memoizedState,e]},useRef:function(e){var n=Vt();return e={current:e},n.memoizedState=e},useState:nd,useDebugValue:uu,useDeferredValue:function(e){return Vt().memoizedState=e},useTransition:function(){var e=nd(!1),n=e[0];return e=z_.bind(null,e[1]),Vt().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,s){var l=Ne,a=Vt();if(Te){if(s===void 0)throw Error(i(407));s=s()}else{if(s=n(),ze===null)throw Error(i(349));$n&30||Xf(l,n,s)}a.memoizedState=s;var f={value:s,getSnapshot:n};return a.queue=f,id(Zf.bind(null,l,f,e),[e]),l.flags|=2048,ki(9,Jf.bind(null,l,f,s,n),void 0,null),s},useId:function(){var e=Vt(),n=ze.identifierPrefix;if(Te){var s=Zt,l=Jt;s=(l&~(1<<32-Pt(l)-1)).toString(32)+s,n=":"+n+"R"+s,s=Ei++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=F_++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},B_={readContext:Et,useCallback:ad,useContext:Et,useEffect:lu,useImperativeHandle:ud,useInsertionEffect:sd,useLayoutEffect:od,useMemo:cd,useReducer:su,useRef:rd,useState:function(){return su(Ci)},useDebugValue:uu,useDeferredValue:function(e){var n=Ct();return fd(n,Oe.memoizedState,e)},useTransition:function(){var e=su(Ci)[0],n=Ct().memoizedState;return[e,n]},useMutableSource:qf,useSyncExternalStore:Yf,useId:dd,unstable_isNewReconciler:!1},W_={readContext:Et,useCallback:ad,useContext:Et,useEffect:lu,useImperativeHandle:ud,useInsertionEffect:sd,useLayoutEffect:od,useMemo:cd,useReducer:ou,useRef:rd,useState:function(){return ou(Ci)},useDebugValue:uu,useDeferredValue:function(e){var n=Ct();return Oe===null?n.memoizedState=e:fd(n,Oe.memoizedState,e)},useTransition:function(){var e=ou(Ci)[0],n=Ct().memoizedState;return[e,n]},useMutableSource:qf,useSyncExternalStore:Yf,useId:dd,unstable_isNewReconciler:!1};function Ot(e,n){if(e&&e.defaultProps){n=b({},n),e=e.defaultProps;for(var s in e)n[s]===void 0&&(n[s]=e[s]);return n}return n}function au(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:b({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Vs={isMounted:function(e){return(e=e._reactInternals)?zn(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var l=nt(),a=Rn(e),f=tn(l,a);f.payload=n,s!=null&&(f.callback=s),n=kn(e,f,a),n!==null&&(Ft(n,e,a,l),zs(n,e,a))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=nt(),a=Rn(e),f=tn(l,a);f.tag=1,f.payload=n,s!=null&&(f.callback=s),n=kn(e,f,a),n!==null&&(Ft(n,e,a,l),zs(n,e,a))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=nt(),l=Rn(e),a=tn(s,l);a.tag=2,n!=null&&(a.callback=n),n=kn(e,a,l),n!==null&&(Ft(n,e,l,s),zs(n,e,l))}};function gd(e,n,s,l,a,f,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,h):n.prototype&&n.prototype.isPureReactComponent?!ci(s,l)||!ci(a,f):!0}function _d(e,n,s){var l=!1,a=Sn,f=n.contextType;return typeof f=="object"&&f!==null?f=Et(f):(a=st(n)?bn:Qe.current,l=n.contextTypes,f=(l=l!=null)?wr(e,a):Sn),n=new n(s,f),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Vs,e.stateNode=n,n._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=f),n}function yd(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&Vs.enqueueReplaceState(n,n.state,null)}function cu(e,n,s,l){var a=e.stateNode;a.props=s,a.state=e.memoizedState,a.refs={},Yl(e);var f=n.contextType;typeof f=="object"&&f!==null?a.context=Et(f):(f=st(n)?bn:Qe.current,a.context=wr(e,f)),a.state=e.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(au(e,n,f,s),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(n=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),n!==a.state&&Vs.enqueueReplaceState(a,a.state,null),Us(e,s,a,l),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Rr(e,n){try{var s="",l=n;do s+=ue(l),l=l.return;while(l);var a=s}catch(f){a=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:n,stack:a,digest:null}}function fu(e,n,s){return{value:e,source:null,stack:s??null,digest:n??null}}function du(e,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var H_=typeof WeakMap=="function"?WeakMap:Map;function vd(e,n,s){s=tn(-1,s),s.tag=3,s.payload={element:null};var l=n.value;return s.callback=function(){Js||(Js=!0,Nu=l),du(e,n)},s}function wd(e,n,s){s=tn(-1,s),s.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var a=n.value;s.payload=function(){return l(a)},s.callback=function(){du(e,n)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(s.callback=function(){du(e,n),typeof l!="function"&&(In===null?In=new Set([this]):In.add(this));var h=n.stack;this.componentDidCatch(n.value,{componentStack:h!==null?h:""})}),s}function Sd(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new H_;var a=new Set;l.set(n,a)}else a=l.get(n),a===void 0&&(a=new Set,l.set(n,a));a.has(s)||(a.add(s),e=ry.bind(null,e,n,s),n.then(e,e))}function Ed(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Cd(e,n,s,l,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===n?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=tn(-1,1),n.tag=2,kn(s,n,1))),s.lanes|=1),e)}var $_=G.ReactCurrentOwner,ot=!1;function tt(e,n,s,l){n.child=e===null?Hf(n,null,s,l):kr(n,e.child,s,l)}function kd(e,n,s,l,a){s=s.render;var f=n.ref;return Ir(n,a),l=ru(e,n,s,l,f,a),s=iu(),e!==null&&!ot?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a,nn(e,n,a)):(Te&&s&&jl(n),n.flags|=1,tt(e,n,l,a),n.child)}function Td(e,n,s,l,a){if(e===null){var f=s.type;return typeof f=="function"&&!Mu(f)&&f.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=f,Id(e,n,f,l,a)):(e=io(s.type,null,l,n,n.mode,a),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!(e.lanes&a)){var h=f.memoizedProps;if(s=s.compare,s=s!==null?s:ci,s(h,l)&&e.ref===n.ref)return nn(e,n,a)}return n.flags|=1,e=Pn(f,l),e.ref=n.ref,e.return=n,n.child=e}function Id(e,n,s,l,a){if(e!==null){var f=e.memoizedProps;if(ci(f,l)&&e.ref===n.ref)if(ot=!1,n.pendingProps=l=f,(e.lanes&a)!==0)e.flags&131072&&(ot=!0);else return n.lanes=e.lanes,nn(e,n,a)}return hu(e,n,s,l,a)}function Nd(e,n,s){var l=n.pendingProps,a=l.children,f=e!==null?e.memoizedState:null;if(l.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(Pr,_t),_t|=s;else{if(!(s&1073741824))return e=f!==null?f.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,_e(Pr,_t),_t|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=f!==null?f.baseLanes:s,_e(Pr,_t),_t|=l}else f!==null?(l=f.baseLanes|s,n.memoizedState=null):l=s,_e(Pr,_t),_t|=l;return tt(e,n,a,s),n.child}function Rd(e,n){var s=n.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function hu(e,n,s,l,a){var f=st(s)?bn:Qe.current;return f=wr(n,f),Ir(n,a),s=ru(e,n,s,l,f,a),l=iu(),e!==null&&!ot?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a,nn(e,n,a)):(Te&&l&&jl(n),n.flags|=1,tt(e,n,s,a),n.child)}function xd(e,n,s,l,a){if(st(s)){var f=!0;xs(n)}else f=!1;if(Ir(n,a),n.stateNode===null)Ks(e,n),_d(n,s,l),cu(n,s,l,a),l=!0;else if(e===null){var h=n.stateNode,_=n.memoizedProps;h.props=_;var v=h.context,I=s.contextType;typeof I=="object"&&I!==null?I=Et(I):(I=st(s)?bn:Qe.current,I=wr(n,I));var x=s.getDerivedStateFromProps,P=typeof x=="function"||typeof h.getSnapshotBeforeUpdate=="function";P||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(_!==l||v!==I)&&yd(n,h,l,I),Cn=!1;var N=n.memoizedState;h.state=N,Us(n,l,h,a),v=n.memoizedState,_!==l||N!==v||it.current||Cn?(typeof x=="function"&&(au(n,s,x,l),v=n.memoizedState),(_=Cn||gd(n,s,_,l,N,v,I))?(P||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=v),h.props=l,h.state=v,h.context=I,l=_):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,Vf(e,n),_=n.memoizedProps,I=n.type===n.elementType?_:Ot(n.type,_),h.props=I,P=n.pendingProps,N=h.context,v=s.contextType,typeof v=="object"&&v!==null?v=Et(v):(v=st(s)?bn:Qe.current,v=wr(n,v));var F=s.getDerivedStateFromProps;(x=typeof F=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(_!==P||N!==v)&&yd(n,h,l,v),Cn=!1,N=n.memoizedState,h.state=N,Us(n,l,h,a);var j=n.memoizedState;_!==P||N!==j||it.current||Cn?(typeof F=="function"&&(au(n,s,F,l),j=n.memoizedState),(I=Cn||gd(n,s,I,l,N,j,v)||!1)?(x||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,j,v),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,j,v)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||_===e.memoizedProps&&N===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&N===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=j),h.props=l,h.state=j,h.context=v,l=I):(typeof h.componentDidUpdate!="function"||_===e.memoizedProps&&N===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&N===e.memoizedState||(n.flags|=1024),l=!1)}return pu(e,n,s,l,f,a)}function pu(e,n,s,l,a,f){Rd(e,n);var h=(n.flags&128)!==0;if(!l&&!h)return a&&Mf(n,s,!1),nn(e,n,f);l=n.stateNode,$_.current=n;var _=h&&typeof s.getDerivedStateFromError!="function"?null:l.render();return n.flags|=1,e!==null&&h?(n.child=kr(n,e.child,null,f),n.child=kr(n,null,_,f)):tt(e,n,_,f),n.memoizedState=l.state,a&&Mf(n,s,!0),n.child}function Pd(e){var n=e.stateNode;n.pendingContext?Af(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Af(e,n.context,!1),Xl(e,n.containerInfo)}function Dd(e,n,s,l,a){return Cr(),$l(a),n.flags|=256,tt(e,n,s,l),n.child}var mu={dehydrated:null,treeContext:null,retryLane:0};function gu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ad(e,n,s){var l=n.pendingProps,a=Ie.current,f=!1,h=(n.flags&128)!==0,_;if((_=h)||(_=e!==null&&e.memoizedState===null?!1:(a&2)!==0),_?(f=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),_e(Ie,a&1),e===null)return Hl(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(h=l.children,e=l.fallback,f?(l=n.mode,f=n.child,h={mode:"hidden",children:h},!(l&1)&&f!==null?(f.childLanes=0,f.pendingProps=h):f=so(h,l,0,null),e=qn(e,l,s,null),f.return=n,e.return=n,f.sibling=e,n.child=f,n.child.memoizedState=gu(s),n.memoizedState=mu,e):_u(n,h));if(a=e.memoizedState,a!==null&&(_=a.dehydrated,_!==null))return V_(e,n,h,l,_,a,s);if(f){f=l.fallback,h=n.mode,a=e.child,_=a.sibling;var v={mode:"hidden",children:l.children};return!(h&1)&&n.child!==a?(l=n.child,l.childLanes=0,l.pendingProps=v,n.deletions=null):(l=Pn(a,v),l.subtreeFlags=a.subtreeFlags&14680064),_!==null?f=Pn(_,f):(f=qn(f,h,s,null),f.flags|=2),f.return=n,l.return=n,l.sibling=f,n.child=l,l=f,f=n.child,h=e.child.memoizedState,h=h===null?gu(s):{baseLanes:h.baseLanes|s,cachePool:null,transitions:h.transitions},f.memoizedState=h,f.childLanes=e.childLanes&~s,n.memoizedState=mu,l}return f=e.child,e=f.sibling,l=Pn(f,{mode:"visible",children:l.children}),!(n.mode&1)&&(l.lanes=s),l.return=n,l.sibling=null,e!==null&&(s=n.deletions,s===null?(n.deletions=[e],n.flags|=16):s.push(e)),n.child=l,n.memoizedState=null,l}function _u(e,n){return n=so({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Gs(e,n,s,l){return l!==null&&$l(l),kr(n,e.child,null,s),e=_u(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function V_(e,n,s,l,a,f,h){if(s)return n.flags&256?(n.flags&=-257,l=fu(Error(i(422))),Gs(e,n,h,l)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(f=l.fallback,a=n.mode,l=so({mode:"visible",children:l.children},a,0,null),f=qn(f,a,h,null),f.flags|=2,l.return=n,f.return=n,l.sibling=f,n.child=l,n.mode&1&&kr(n,e.child,null,h),n.child.memoizedState=gu(h),n.memoizedState=mu,f);if(!(n.mode&1))return Gs(e,n,h,null);if(a.data==="$!"){if(l=a.nextSibling&&a.nextSibling.dataset,l)var _=l.dgst;return l=_,f=Error(i(419)),l=fu(f,l,void 0),Gs(e,n,h,l)}if(_=(h&e.childLanes)!==0,ot||_){if(l=ze,l!==null){switch(h&-h){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(l.suspendedLanes|h)?0:a,a!==0&&a!==f.retryLane&&(f.retryLane=a,en(e,a),Ft(l,e,a,-1))}return Ou(),l=fu(Error(i(421))),Gs(e,n,h,l)}return a.data==="$?"?(n.flags|=128,n.child=e.child,n=iy.bind(null,e),a._reactRetry=n,null):(e=f.treeContext,gt=vn(a.nextSibling),mt=n,Te=!0,At=null,e!==null&&(wt[St++]=Jt,wt[St++]=Zt,wt[St++]=jn,Jt=e.id,Zt=e.overflow,jn=n),n=_u(n,l.children),n.flags|=4096,n)}function Od(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Ql(e.return,n,s)}function yu(e,n,s,l,a){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:a}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=s,f.tailMode=a)}function Md(e,n,s){var l=n.pendingProps,a=l.revealOrder,f=l.tail;if(tt(e,n,l.children,s),l=Ie.current,l&2)l=l&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Od(e,s,n);else if(e.tag===19)Od(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(_e(Ie,l),!(n.mode&1))n.memoizedState=null;else switch(a){case"forwards":for(s=n.child,a=null;s!==null;)e=s.alternate,e!==null&&bs(e)===null&&(a=s),s=s.sibling;s=a,s===null?(a=n.child,n.child=null):(a=s.sibling,s.sibling=null),yu(n,!1,a,s,f);break;case"backwards":for(s=null,a=n.child,n.child=null;a!==null;){if(e=a.alternate,e!==null&&bs(e)===null){n.child=a;break}e=a.sibling,a.sibling=s,s=a,a=e}yu(n,!0,s,null,f);break;case"together":yu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ks(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function nn(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Vn|=n.lanes,!(s&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(i(153));if(n.child!==null){for(e=n.child,s=Pn(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Pn(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function G_(e,n,s){switch(n.tag){case 3:Pd(n),Cr();break;case 5:Qf(n);break;case 1:st(n.type)&&xs(n);break;case 4:Xl(n,n.stateNode.containerInfo);break;case 10:var l=n.type._context,a=n.memoizedProps.value;_e(Ls,l._currentValue),l._currentValue=a;break;case 13:if(l=n.memoizedState,l!==null)return l.dehydrated!==null?(_e(Ie,Ie.current&1),n.flags|=128,null):s&n.child.childLanes?Ad(e,n,s):(_e(Ie,Ie.current&1),e=nn(e,n,s),e!==null?e.sibling:null);_e(Ie,Ie.current&1);break;case 19:if(l=(s&n.childLanes)!==0,e.flags&128){if(l)return Md(e,n,s);n.flags|=128}if(a=n.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),_e(Ie,Ie.current),l)break;return null;case 22:case 23:return n.lanes=0,Nd(e,n,s)}return nn(e,n,s)}var Ld,vu,Fd,zd;Ld=function(e,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},vu=function(){},Fd=function(e,n,s,l){var a=e.memoizedProps;if(a!==l){e=n.stateNode,Hn($t.current);var f=null;switch(s){case"input":a=Qo(e,a),l=Qo(e,l),f=[];break;case"select":a=b({},a,{value:void 0}),l=b({},l,{value:void 0}),f=[];break;case"textarea":a=Xo(e,a),l=Xo(e,l),f=[];break;default:typeof a.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=Is)}Zo(s,l);var h;s=null;for(I in a)if(!l.hasOwnProperty(I)&&a.hasOwnProperty(I)&&a[I]!=null)if(I==="style"){var _=a[I];for(h in _)_.hasOwnProperty(h)&&(s||(s={}),s[h]="")}else I!=="dangerouslySetInnerHTML"&&I!=="children"&&I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(u.hasOwnProperty(I)?f||(f=[]):(f=f||[]).push(I,null));for(I in l){var v=l[I];if(_=a!=null?a[I]:void 0,l.hasOwnProperty(I)&&v!==_&&(v!=null||_!=null))if(I==="style")if(_){for(h in _)!_.hasOwnProperty(h)||v&&v.hasOwnProperty(h)||(s||(s={}),s[h]="");for(h in v)v.hasOwnProperty(h)&&_[h]!==v[h]&&(s||(s={}),s[h]=v[h])}else s||(f||(f=[]),f.push(I,s)),s=v;else I==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,_=_?_.__html:void 0,v!=null&&_!==v&&(f=f||[]).push(I,v)):I==="children"?typeof v!="string"&&typeof v!="number"||(f=f||[]).push(I,""+v):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&(u.hasOwnProperty(I)?(v!=null&&I==="onScroll"&&ve("scroll",e),f||_===v||(f=[])):(f=f||[]).push(I,v))}s&&(f=f||[]).push("style",s);var I=f;(n.updateQueue=I)&&(n.flags|=4)}},zd=function(e,n,s,l){s!==l&&(n.flags|=4)};function Ti(e,n){if(!Te)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ye(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var a=e.child;a!==null;)s|=a.lanes|a.childLanes,l|=a.subtreeFlags&14680064,l|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)s|=a.lanes|a.childLanes,l|=a.subtreeFlags,l|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function K_(e,n,s){var l=n.pendingProps;switch(Bl(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(n),null;case 1:return st(n.type)&&Rs(),Ye(n),null;case 3:return l=n.stateNode,Nr(),we(it),we(Qe),eu(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Os(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,At!==null&&(Pu(At),At=null))),vu(e,n),Ye(n),null;case 5:Jl(n);var a=Hn(wi.current);if(s=n.type,e!==null&&n.stateNode!=null)Fd(e,n,s,l,a),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!l){if(n.stateNode===null)throw Error(i(166));return Ye(n),null}if(e=Hn($t.current),Os(n)){l=n.stateNode,s=n.type;var f=n.memoizedProps;switch(l[Ht]=n,l[mi]=f,e=(n.mode&1)!==0,s){case"dialog":ve("cancel",l),ve("close",l);break;case"iframe":case"object":case"embed":ve("load",l);break;case"video":case"audio":for(a=0;a<di.length;a++)ve(di[a],l);break;case"source":ve("error",l);break;case"img":case"image":case"link":ve("error",l),ve("load",l);break;case"details":ve("toggle",l);break;case"input":gc(l,f),ve("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!f.multiple},ve("invalid",l);break;case"textarea":vc(l,f),ve("invalid",l)}Zo(s,f),a=null;for(var h in f)if(f.hasOwnProperty(h)){var _=f[h];h==="children"?typeof _=="string"?l.textContent!==_&&(f.suppressHydrationWarning!==!0&&Ts(l.textContent,_,e),a=["children",_]):typeof _=="number"&&l.textContent!==""+_&&(f.suppressHydrationWarning!==!0&&Ts(l.textContent,_,e),a=["children",""+_]):u.hasOwnProperty(h)&&_!=null&&h==="onScroll"&&ve("scroll",l)}switch(s){case"input":ns(l),yc(l,f,!0);break;case"textarea":ns(l),Sc(l);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(l.onclick=Is)}l=a,n.updateQueue=l,l!==null&&(n.flags|=4)}else{h=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ec(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=h.createElement(s,{is:l.is}):(e=h.createElement(s),s==="select"&&(h=e,l.multiple?h.multiple=!0:l.size&&(h.size=l.size))):e=h.createElementNS(e,s),e[Ht]=n,e[mi]=l,Ld(e,n,!1,!1),n.stateNode=e;e:{switch(h=el(s,l),s){case"dialog":ve("cancel",e),ve("close",e),a=l;break;case"iframe":case"object":case"embed":ve("load",e),a=l;break;case"video":case"audio":for(a=0;a<di.length;a++)ve(di[a],e);a=l;break;case"source":ve("error",e),a=l;break;case"img":case"image":case"link":ve("error",e),ve("load",e),a=l;break;case"details":ve("toggle",e),a=l;break;case"input":gc(e,l),a=Qo(e,l),ve("invalid",e);break;case"option":a=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},a=b({},l,{value:void 0}),ve("invalid",e);break;case"textarea":vc(e,l),a=Xo(e,l),ve("invalid",e);break;default:a=l}Zo(s,a),_=a;for(f in _)if(_.hasOwnProperty(f)){var v=_[f];f==="style"?Tc(e,v):f==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,v!=null&&Cc(e,v)):f==="children"?typeof v=="string"?(s!=="textarea"||v!=="")&&Kr(e,v):typeof v=="number"&&Kr(e,""+v):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(u.hasOwnProperty(f)?v!=null&&f==="onScroll"&&ve("scroll",e):v!=null&&Q(e,f,v,h))}switch(s){case"input":ns(e),yc(e,l,!1);break;case"textarea":ns(e),Sc(e);break;case"option":l.value!=null&&e.setAttribute("value",""+he(l.value));break;case"select":e.multiple=!!l.multiple,f=l.value,f!=null?ur(e,!!l.multiple,f,!1):l.defaultValue!=null&&ur(e,!!l.multiple,l.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Is)}switch(s){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Ye(n),null;case 6:if(e&&n.stateNode!=null)zd(e,n,e.memoizedProps,l);else{if(typeof l!="string"&&n.stateNode===null)throw Error(i(166));if(s=Hn(wi.current),Hn($t.current),Os(n)){if(l=n.stateNode,s=n.memoizedProps,l[Ht]=n,(f=l.nodeValue!==s)&&(e=mt,e!==null))switch(e.tag){case 3:Ts(l.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ts(l.nodeValue,s,(e.mode&1)!==0)}f&&(n.flags|=4)}else l=(s.nodeType===9?s:s.ownerDocument).createTextNode(l),l[Ht]=n,n.stateNode=l}return Ye(n),null;case 13:if(we(Ie),l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Te&&gt!==null&&n.mode&1&&!(n.flags&128))jf(),Cr(),n.flags|=98560,f=!1;else if(f=Os(n),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(i(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Ht]=n}else Cr(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Ye(n),f=!1}else At!==null&&(Pu(At),At=null),f=!0;if(!f)return n.flags&65536?n:null}return n.flags&128?(n.lanes=s,n):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(n.child.flags|=8192,n.mode&1&&(e===null||Ie.current&1?Me===0&&(Me=3):Ou())),n.updateQueue!==null&&(n.flags|=4),Ye(n),null);case 4:return Nr(),vu(e,n),e===null&&hi(n.stateNode.containerInfo),Ye(n),null;case 10:return Kl(n.type._context),Ye(n),null;case 17:return st(n.type)&&Rs(),Ye(n),null;case 19:if(we(Ie),f=n.memoizedState,f===null)return Ye(n),null;if(l=(n.flags&128)!==0,h=f.rendering,h===null)if(l)Ti(f,!1);else{if(Me!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(h=bs(e),h!==null){for(n.flags|=128,Ti(f,!1),l=h.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),n.subtreeFlags=0,l=s,s=n.child;s!==null;)f=s,e=l,f.flags&=14680066,h=f.alternate,h===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=h.childLanes,f.lanes=h.lanes,f.child=h.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=h.memoizedProps,f.memoizedState=h.memoizedState,f.updateQueue=h.updateQueue,f.type=h.type,e=h.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return _e(Ie,Ie.current&1|2),n.child}e=e.sibling}f.tail!==null&&Pe()>Dr&&(n.flags|=128,l=!0,Ti(f,!1),n.lanes=4194304)}else{if(!l)if(e=bs(h),e!==null){if(n.flags|=128,l=!0,s=e.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),Ti(f,!0),f.tail===null&&f.tailMode==="hidden"&&!h.alternate&&!Te)return Ye(n),null}else 2*Pe()-f.renderingStartTime>Dr&&s!==1073741824&&(n.flags|=128,l=!0,Ti(f,!1),n.lanes=4194304);f.isBackwards?(h.sibling=n.child,n.child=h):(s=f.last,s!==null?s.sibling=h:n.child=h,f.last=h)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=Pe(),n.sibling=null,s=Ie.current,_e(Ie,l?s&1|2:s&1),n):(Ye(n),null);case 22:case 23:return Au(),l=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(n.flags|=8192),l&&n.mode&1?_t&1073741824&&(Ye(n),n.subtreeFlags&6&&(n.flags|=8192)):Ye(n),null;case 24:return null;case 25:return null}throw Error(i(156,n.tag))}function Q_(e,n){switch(Bl(n),n.tag){case 1:return st(n.type)&&Rs(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Nr(),we(it),we(Qe),eu(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return Jl(n),null;case 13:if(we(Ie),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(i(340));Cr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return we(Ie),null;case 4:return Nr(),null;case 10:return Kl(n.type._context),null;case 22:case 23:return Au(),null;case 24:return null;default:return null}}var Qs=!1,Xe=!1,q_=typeof WeakSet=="function"?WeakSet:Set,U=null;function xr(e,n){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(l){xe(e,n,l)}else s.current=null}function wu(e,n,s){try{s()}catch(l){xe(e,n,l)}}var Ud=!1;function Y_(e,n){if(Al=ps,e=gf(),kl(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var a=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var h=0,_=-1,v=-1,I=0,x=0,P=e,N=null;t:for(;;){for(var F;P!==s||a!==0&&P.nodeType!==3||(_=h+a),P!==f||l!==0&&P.nodeType!==3||(v=h+l),P.nodeType===3&&(h+=P.nodeValue.length),(F=P.firstChild)!==null;)N=P,P=F;for(;;){if(P===e)break t;if(N===s&&++I===a&&(_=h),N===f&&++x===l&&(v=h),(F=P.nextSibling)!==null)break;P=N,N=P.parentNode}P=F}s=_===-1||v===-1?null:{start:_,end:v}}else s=null}s=s||{start:0,end:0}}else s=null;for(Ol={focusedElem:e,selectionRange:s},ps=!1,U=n;U!==null;)if(n=U,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,U=e;else for(;U!==null;){n=U;try{var j=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var B=j.memoizedProps,De=j.memoizedState,C=n.stateNode,S=C.getSnapshotBeforeUpdate(n.elementType===n.type?B:Ot(n.type,B),De);C.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var k=n.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(D){xe(n,n.return,D)}if(e=n.sibling,e!==null){e.return=n.return,U=e;break}U=n.return}return j=Ud,Ud=!1,j}function Ii(e,n,s){var l=n.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var a=l=l.next;do{if((a.tag&e)===e){var f=a.destroy;a.destroy=void 0,f!==void 0&&wu(n,s,f)}a=a.next}while(a!==l)}}function qs(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var l=s.create;s.destroy=l()}s=s.next}while(s!==n)}}function Su(e){var n=e.ref;if(n!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof n=="function"?n(e):n.current=e}}function bd(e){var n=e.alternate;n!==null&&(e.alternate=null,bd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Ht],delete n[mi],delete n[zl],delete n[A_],delete n[O_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function jd(e){return e.tag===5||e.tag===3||e.tag===4}function Bd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||jd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Eu(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Is));else if(l!==4&&(e=e.child,e!==null))for(Eu(e,n,s),e=e.sibling;e!==null;)Eu(e,n,s),e=e.sibling}function Cu(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(Cu(e,n,s),e=e.sibling;e!==null;)Cu(e,n,s),e=e.sibling}var We=null,Mt=!1;function Tn(e,n,s){for(s=s.child;s!==null;)Wd(e,n,s),s=s.sibling}function Wd(e,n,s){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(us,s)}catch{}switch(s.tag){case 5:Xe||xr(s,n);case 6:var l=We,a=Mt;We=null,Tn(e,n,s),We=l,Mt=a,We!==null&&(Mt?(e=We,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):We.removeChild(s.stateNode));break;case 18:We!==null&&(Mt?(e=We,s=s.stateNode,e.nodeType===8?Fl(e.parentNode,s):e.nodeType===1&&Fl(e,s),ii(e)):Fl(We,s.stateNode));break;case 4:l=We,a=Mt,We=s.stateNode.containerInfo,Mt=!0,Tn(e,n,s),We=l,Mt=a;break;case 0:case 11:case 14:case 15:if(!Xe&&(l=s.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){a=l=l.next;do{var f=a,h=f.destroy;f=f.tag,h!==void 0&&(f&2||f&4)&&wu(s,n,h),a=a.next}while(a!==l)}Tn(e,n,s);break;case 1:if(!Xe&&(xr(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=s.memoizedProps,l.state=s.memoizedState,l.componentWillUnmount()}catch(_){xe(s,n,_)}Tn(e,n,s);break;case 21:Tn(e,n,s);break;case 22:s.mode&1?(Xe=(l=Xe)||s.memoizedState!==null,Tn(e,n,s),Xe=l):Tn(e,n,s);break;default:Tn(e,n,s)}}function Hd(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new q_),n.forEach(function(l){var a=sy.bind(null,e,l);s.has(l)||(s.add(l),l.then(a,a))})}}function Lt(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var a=s[l];try{var f=e,h=n,_=h;e:for(;_!==null;){switch(_.tag){case 5:We=_.stateNode,Mt=!1;break e;case 3:We=_.stateNode.containerInfo,Mt=!0;break e;case 4:We=_.stateNode.containerInfo,Mt=!0;break e}_=_.return}if(We===null)throw Error(i(160));Wd(f,h,a),We=null,Mt=!1;var v=a.alternate;v!==null&&(v.return=null),a.return=null}catch(I){xe(a,n,I)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)$d(n,e),n=n.sibling}function $d(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Lt(n,e),Gt(e),l&4){try{Ii(3,e,e.return),qs(3,e)}catch(B){xe(e,e.return,B)}try{Ii(5,e,e.return)}catch(B){xe(e,e.return,B)}}break;case 1:Lt(n,e),Gt(e),l&512&&s!==null&&xr(s,s.return);break;case 5:if(Lt(n,e),Gt(e),l&512&&s!==null&&xr(s,s.return),e.flags&32){var a=e.stateNode;try{Kr(a,"")}catch(B){xe(e,e.return,B)}}if(l&4&&(a=e.stateNode,a!=null)){var f=e.memoizedProps,h=s!==null?s.memoizedProps:f,_=e.type,v=e.updateQueue;if(e.updateQueue=null,v!==null)try{_==="input"&&f.type==="radio"&&f.name!=null&&_c(a,f),el(_,h);var I=el(_,f);for(h=0;h<v.length;h+=2){var x=v[h],P=v[h+1];x==="style"?Tc(a,P):x==="dangerouslySetInnerHTML"?Cc(a,P):x==="children"?Kr(a,P):Q(a,x,P,I)}switch(_){case"input":qo(a,f);break;case"textarea":wc(a,f);break;case"select":var N=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!f.multiple;var F=f.value;F!=null?ur(a,!!f.multiple,F,!1):N!==!!f.multiple&&(f.defaultValue!=null?ur(a,!!f.multiple,f.defaultValue,!0):ur(a,!!f.multiple,f.multiple?[]:"",!1))}a[mi]=f}catch(B){xe(e,e.return,B)}}break;case 6:if(Lt(n,e),Gt(e),l&4){if(e.stateNode===null)throw Error(i(162));a=e.stateNode,f=e.memoizedProps;try{a.nodeValue=f}catch(B){xe(e,e.return,B)}}break;case 3:if(Lt(n,e),Gt(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{ii(n.containerInfo)}catch(B){xe(e,e.return,B)}break;case 4:Lt(n,e),Gt(e);break;case 13:Lt(n,e),Gt(e),a=e.child,a.flags&8192&&(f=a.memoizedState!==null,a.stateNode.isHidden=f,!f||a.alternate!==null&&a.alternate.memoizedState!==null||(Iu=Pe())),l&4&&Hd(e);break;case 22:if(x=s!==null&&s.memoizedState!==null,e.mode&1?(Xe=(I=Xe)||x,Lt(n,e),Xe=I):Lt(n,e),Gt(e),l&8192){if(I=e.memoizedState!==null,(e.stateNode.isHidden=I)&&!x&&e.mode&1)for(U=e,x=e.child;x!==null;){for(P=U=x;U!==null;){switch(N=U,F=N.child,N.tag){case 0:case 11:case 14:case 15:Ii(4,N,N.return);break;case 1:xr(N,N.return);var j=N.stateNode;if(typeof j.componentWillUnmount=="function"){l=N,s=N.return;try{n=l,j.props=n.memoizedProps,j.state=n.memoizedState,j.componentWillUnmount()}catch(B){xe(l,s,B)}}break;case 5:xr(N,N.return);break;case 22:if(N.memoizedState!==null){Kd(P);continue}}F!==null?(F.return=N,U=F):Kd(P)}x=x.sibling}e:for(x=null,P=e;;){if(P.tag===5){if(x===null){x=P;try{a=P.stateNode,I?(f=a.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(_=P.stateNode,v=P.memoizedProps.style,h=v!=null&&v.hasOwnProperty("display")?v.display:null,_.style.display=kc("display",h))}catch(B){xe(e,e.return,B)}}}else if(P.tag===6){if(x===null)try{P.stateNode.nodeValue=I?"":P.memoizedProps}catch(B){xe(e,e.return,B)}}else if((P.tag!==22&&P.tag!==23||P.memoizedState===null||P===e)&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===e)break e;for(;P.sibling===null;){if(P.return===null||P.return===e)break e;x===P&&(x=null),P=P.return}x===P&&(x=null),P.sibling.return=P.return,P=P.sibling}}break;case 19:Lt(n,e),Gt(e),l&4&&Hd(e);break;case 21:break;default:Lt(n,e),Gt(e)}}function Gt(e){var n=e.flags;if(n&2){try{e:{for(var s=e.return;s!==null;){if(jd(s)){var l=s;break e}s=s.return}throw Error(i(160))}switch(l.tag){case 5:var a=l.stateNode;l.flags&32&&(Kr(a,""),l.flags&=-33);var f=Bd(e);Cu(e,f,a);break;case 3:case 4:var h=l.stateNode.containerInfo,_=Bd(e);Eu(e,_,h);break;default:throw Error(i(161))}}catch(v){xe(e,e.return,v)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function X_(e,n,s){U=e,Vd(e)}function Vd(e,n,s){for(var l=(e.mode&1)!==0;U!==null;){var a=U,f=a.child;if(a.tag===22&&l){var h=a.memoizedState!==null||Qs;if(!h){var _=a.alternate,v=_!==null&&_.memoizedState!==null||Xe;_=Qs;var I=Xe;if(Qs=h,(Xe=v)&&!I)for(U=a;U!==null;)h=U,v=h.child,h.tag===22&&h.memoizedState!==null?Qd(a):v!==null?(v.return=h,U=v):Qd(a);for(;f!==null;)U=f,Vd(f),f=f.sibling;U=a,Qs=_,Xe=I}Gd(e)}else a.subtreeFlags&8772&&f!==null?(f.return=a,U=f):Gd(e)}}function Gd(e){for(;U!==null;){var n=U;if(n.flags&8772){var s=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Xe||qs(5,n);break;case 1:var l=n.stateNode;if(n.flags&4&&!Xe)if(s===null)l.componentDidMount();else{var a=n.elementType===n.type?s.memoizedProps:Ot(n.type,s.memoizedProps);l.componentDidUpdate(a,s.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var f=n.updateQueue;f!==null&&Kf(n,f,l);break;case 3:var h=n.updateQueue;if(h!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}Kf(n,h,s)}break;case 5:var _=n.stateNode;if(s===null&&n.flags&4){s=_;var v=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":v.autoFocus&&s.focus();break;case"img":v.src&&(s.src=v.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var I=n.alternate;if(I!==null){var x=I.memoizedState;if(x!==null){var P=x.dehydrated;P!==null&&ii(P)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}Xe||n.flags&512&&Su(n)}catch(N){xe(n,n.return,N)}}if(n===e){U=null;break}if(s=n.sibling,s!==null){s.return=n.return,U=s;break}U=n.return}}function Kd(e){for(;U!==null;){var n=U;if(n===e){U=null;break}var s=n.sibling;if(s!==null){s.return=n.return,U=s;break}U=n.return}}function Qd(e){for(;U!==null;){var n=U;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{qs(4,n)}catch(v){xe(n,s,v)}break;case 1:var l=n.stateNode;if(typeof l.componentDidMount=="function"){var a=n.return;try{l.componentDidMount()}catch(v){xe(n,a,v)}}var f=n.return;try{Su(n)}catch(v){xe(n,f,v)}break;case 5:var h=n.return;try{Su(n)}catch(v){xe(n,h,v)}}}catch(v){xe(n,n.return,v)}if(n===e){U=null;break}var _=n.sibling;if(_!==null){_.return=n.return,U=_;break}U=n.return}}var J_=Math.ceil,Ys=G.ReactCurrentDispatcher,ku=G.ReactCurrentOwner,kt=G.ReactCurrentBatchConfig,le=0,ze=null,Ae=null,He=0,_t=0,Pr=wn(0),Me=0,Ni=null,Vn=0,Xs=0,Tu=0,Ri=null,lt=null,Iu=0,Dr=1/0,rn=null,Js=!1,Nu=null,In=null,Zs=!1,Nn=null,eo=0,xi=0,Ru=null,to=-1,no=0;function nt(){return le&6?Pe():to!==-1?to:to=Pe()}function Rn(e){return e.mode&1?le&2&&He!==0?He&-He:L_.transition!==null?(no===0&&(no=jc()),no):(e=pe,e!==0||(e=window.event,e=e===void 0?16:qc(e.type)),e):1}function Ft(e,n,s,l){if(50<xi)throw xi=0,Ru=null,Error(i(185));Zr(e,s,l),(!(le&2)||e!==ze)&&(e===ze&&(!(le&2)&&(Xs|=s),Me===4&&xn(e,He)),ut(e,l),s===1&&le===0&&!(n.mode&1)&&(Dr=Pe()+500,Ps&&En()))}function ut(e,n){var s=e.callbackNode;Lg(e,n);var l=fs(e,e===ze?He:0);if(l===0)s!==null&&zc(s),e.callbackNode=null,e.callbackPriority=0;else if(n=l&-l,e.callbackPriority!==n){if(s!=null&&zc(s),n===1)e.tag===0?M_(Yd.bind(null,e)):Lf(Yd.bind(null,e)),P_(function(){!(le&6)&&En()}),s=null;else{switch(Bc(l)){case 1:s=ll;break;case 4:s=Uc;break;case 16:s=ls;break;case 536870912:s=bc;break;default:s=ls}s=ih(s,qd.bind(null,e))}e.callbackPriority=n,e.callbackNode=s}}function qd(e,n){if(to=-1,no=0,le&6)throw Error(i(327));var s=e.callbackNode;if(Ar()&&e.callbackNode!==s)return null;var l=fs(e,e===ze?He:0);if(l===0)return null;if(l&30||l&e.expiredLanes||n)n=ro(e,l);else{n=l;var a=le;le|=2;var f=Jd();(ze!==e||He!==n)&&(rn=null,Dr=Pe()+500,Kn(e,n));do try{ty();break}catch(_){Xd(e,_)}while(!0);Gl(),Ys.current=f,le=a,Ae!==null?n=0:(ze=null,He=0,n=Me)}if(n!==0){if(n===2&&(a=ul(e),a!==0&&(l=a,n=xu(e,a))),n===1)throw s=Ni,Kn(e,0),xn(e,l),ut(e,Pe()),s;if(n===6)xn(e,l);else{if(a=e.current.alternate,!(l&30)&&!Z_(a)&&(n=ro(e,l),n===2&&(f=ul(e),f!==0&&(l=f,n=xu(e,f))),n===1))throw s=Ni,Kn(e,0),xn(e,l),ut(e,Pe()),s;switch(e.finishedWork=a,e.finishedLanes=l,n){case 0:case 1:throw Error(i(345));case 2:Qn(e,lt,rn);break;case 3:if(xn(e,l),(l&130023424)===l&&(n=Iu+500-Pe(),10<n)){if(fs(e,0)!==0)break;if(a=e.suspendedLanes,(a&l)!==l){nt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Ll(Qn.bind(null,e,lt,rn),n);break}Qn(e,lt,rn);break;case 4:if(xn(e,l),(l&4194240)===l)break;for(n=e.eventTimes,a=-1;0<l;){var h=31-Pt(l);f=1<<h,h=n[h],h>a&&(a=h),l&=~f}if(l=a,l=Pe()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*J_(l/1960))-l,10<l){e.timeoutHandle=Ll(Qn.bind(null,e,lt,rn),l);break}Qn(e,lt,rn);break;case 5:Qn(e,lt,rn);break;default:throw Error(i(329))}}}return ut(e,Pe()),e.callbackNode===s?qd.bind(null,e):null}function xu(e,n){var s=Ri;return e.current.memoizedState.isDehydrated&&(Kn(e,n).flags|=256),e=ro(e,n),e!==2&&(n=lt,lt=s,n!==null&&Pu(n)),e}function Pu(e){lt===null?lt=e:lt.push.apply(lt,e)}function Z_(e){for(var n=e;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var l=0;l<s.length;l++){var a=s[l],f=a.getSnapshot;a=a.value;try{if(!Dt(f(),a))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function xn(e,n){for(n&=~Tu,n&=~Xs,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var s=31-Pt(n),l=1<<s;e[s]=-1,n&=~l}}function Yd(e){if(le&6)throw Error(i(327));Ar();var n=fs(e,0);if(!(n&1))return ut(e,Pe()),null;var s=ro(e,n);if(e.tag!==0&&s===2){var l=ul(e);l!==0&&(n=l,s=xu(e,l))}if(s===1)throw s=Ni,Kn(e,0),xn(e,n),ut(e,Pe()),s;if(s===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Qn(e,lt,rn),ut(e,Pe()),null}function Du(e,n){var s=le;le|=1;try{return e(n)}finally{le=s,le===0&&(Dr=Pe()+500,Ps&&En())}}function Gn(e){Nn!==null&&Nn.tag===0&&!(le&6)&&Ar();var n=le;le|=1;var s=kt.transition,l=pe;try{if(kt.transition=null,pe=1,e)return e()}finally{pe=l,kt.transition=s,le=n,!(le&6)&&En()}}function Au(){_t=Pr.current,we(Pr)}function Kn(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,x_(s)),Ae!==null)for(s=Ae.return;s!==null;){var l=s;switch(Bl(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Rs();break;case 3:Nr(),we(it),we(Qe),eu();break;case 5:Jl(l);break;case 4:Nr();break;case 13:we(Ie);break;case 19:we(Ie);break;case 10:Kl(l.type._context);break;case 22:case 23:Au()}s=s.return}if(ze=e,Ae=e=Pn(e.current,null),He=_t=n,Me=0,Ni=null,Tu=Xs=Vn=0,lt=Ri=null,Wn!==null){for(n=0;n<Wn.length;n++)if(s=Wn[n],l=s.interleaved,l!==null){s.interleaved=null;var a=l.next,f=s.pending;if(f!==null){var h=f.next;f.next=a,l.next=h}s.pending=l}Wn=null}return e}function Xd(e,n){do{var s=Ae;try{if(Gl(),js.current=$s,Bs){for(var l=Ne.memoizedState;l!==null;){var a=l.queue;a!==null&&(a.pending=null),l=l.next}Bs=!1}if($n=0,Fe=Oe=Ne=null,Si=!1,Ei=0,ku.current=null,s===null||s.return===null){Me=1,Ni=n,Ae=null;break}e:{var f=e,h=s.return,_=s,v=n;if(n=He,_.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){var I=v,x=_,P=x.tag;if(!(x.mode&1)&&(P===0||P===11||P===15)){var N=x.alternate;N?(x.updateQueue=N.updateQueue,x.memoizedState=N.memoizedState,x.lanes=N.lanes):(x.updateQueue=null,x.memoizedState=null)}var F=Ed(h);if(F!==null){F.flags&=-257,Cd(F,h,_,f,n),F.mode&1&&Sd(f,I,n),n=F,v=I;var j=n.updateQueue;if(j===null){var B=new Set;B.add(v),n.updateQueue=B}else j.add(v);break e}else{if(!(n&1)){Sd(f,I,n),Ou();break e}v=Error(i(426))}}else if(Te&&_.mode&1){var De=Ed(h);if(De!==null){!(De.flags&65536)&&(De.flags|=256),Cd(De,h,_,f,n),$l(Rr(v,_));break e}}f=v=Rr(v,_),Me!==4&&(Me=2),Ri===null?Ri=[f]:Ri.push(f),f=h;do{switch(f.tag){case 3:f.flags|=65536,n&=-n,f.lanes|=n;var C=vd(f,v,n);Gf(f,C);break e;case 1:_=v;var S=f.type,k=f.stateNode;if(!(f.flags&128)&&(typeof S.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(In===null||!In.has(k)))){f.flags|=65536,n&=-n,f.lanes|=n;var D=wd(f,_,n);Gf(f,D);break e}}f=f.return}while(f!==null)}eh(s)}catch(W){n=W,Ae===s&&s!==null&&(Ae=s=s.return);continue}break}while(!0)}function Jd(){var e=Ys.current;return Ys.current=$s,e===null?$s:e}function Ou(){(Me===0||Me===3||Me===2)&&(Me=4),ze===null||!(Vn&268435455)&&!(Xs&268435455)||xn(ze,He)}function ro(e,n){var s=le;le|=2;var l=Jd();(ze!==e||He!==n)&&(rn=null,Kn(e,n));do try{ey();break}catch(a){Xd(e,a)}while(!0);if(Gl(),le=s,Ys.current=l,Ae!==null)throw Error(i(261));return ze=null,He=0,Me}function ey(){for(;Ae!==null;)Zd(Ae)}function ty(){for(;Ae!==null&&!Ig();)Zd(Ae)}function Zd(e){var n=rh(e.alternate,e,_t);e.memoizedProps=e.pendingProps,n===null?eh(e):Ae=n,ku.current=null}function eh(e){var n=e;do{var s=n.alternate;if(e=n.return,n.flags&32768){if(s=Q_(s,n),s!==null){s.flags&=32767,Ae=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Me=6,Ae=null;return}}else if(s=K_(s,n,_t),s!==null){Ae=s;return}if(n=n.sibling,n!==null){Ae=n;return}Ae=n=e}while(n!==null);Me===0&&(Me=5)}function Qn(e,n,s){var l=pe,a=kt.transition;try{kt.transition=null,pe=1,ny(e,n,s,l)}finally{kt.transition=a,pe=l}return null}function ny(e,n,s,l){do Ar();while(Nn!==null);if(le&6)throw Error(i(327));s=e.finishedWork;var a=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var f=s.lanes|s.childLanes;if(Fg(e,f),e===ze&&(Ae=ze=null,He=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Zs||(Zs=!0,ih(ls,function(){return Ar(),null})),f=(s.flags&15990)!==0,s.subtreeFlags&15990||f){f=kt.transition,kt.transition=null;var h=pe;pe=1;var _=le;le|=4,ku.current=null,Y_(e,s),$d(s,e),E_(Ol),ps=!!Al,Ol=Al=null,e.current=s,X_(s),Ng(),le=_,pe=h,kt.transition=f}else e.current=s;if(Zs&&(Zs=!1,Nn=e,eo=a),f=e.pendingLanes,f===0&&(In=null),Pg(s.stateNode),ut(e,Pe()),n!==null)for(l=e.onRecoverableError,s=0;s<n.length;s++)a=n[s],l(a.value,{componentStack:a.stack,digest:a.digest});if(Js)throw Js=!1,e=Nu,Nu=null,e;return eo&1&&e.tag!==0&&Ar(),f=e.pendingLanes,f&1?e===Ru?xi++:(xi=0,Ru=e):xi=0,En(),null}function Ar(){if(Nn!==null){var e=Bc(eo),n=kt.transition,s=pe;try{if(kt.transition=null,pe=16>e?16:e,Nn===null)var l=!1;else{if(e=Nn,Nn=null,eo=0,le&6)throw Error(i(331));var a=le;for(le|=4,U=e.current;U!==null;){var f=U,h=f.child;if(U.flags&16){var _=f.deletions;if(_!==null){for(var v=0;v<_.length;v++){var I=_[v];for(U=I;U!==null;){var x=U;switch(x.tag){case 0:case 11:case 15:Ii(8,x,f)}var P=x.child;if(P!==null)P.return=x,U=P;else for(;U!==null;){x=U;var N=x.sibling,F=x.return;if(bd(x),x===I){U=null;break}if(N!==null){N.return=F,U=N;break}U=F}}}var j=f.alternate;if(j!==null){var B=j.child;if(B!==null){j.child=null;do{var De=B.sibling;B.sibling=null,B=De}while(B!==null)}}U=f}}if(f.subtreeFlags&2064&&h!==null)h.return=f,U=h;else e:for(;U!==null;){if(f=U,f.flags&2048)switch(f.tag){case 0:case 11:case 15:Ii(9,f,f.return)}var C=f.sibling;if(C!==null){C.return=f.return,U=C;break e}U=f.return}}var S=e.current;for(U=S;U!==null;){h=U;var k=h.child;if(h.subtreeFlags&2064&&k!==null)k.return=h,U=k;else e:for(h=S;U!==null;){if(_=U,_.flags&2048)try{switch(_.tag){case 0:case 11:case 15:qs(9,_)}}catch(W){xe(_,_.return,W)}if(_===h){U=null;break e}var D=_.sibling;if(D!==null){D.return=_.return,U=D;break e}U=_.return}}if(le=a,En(),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(us,e)}catch{}l=!0}return l}finally{pe=s,kt.transition=n}}return!1}function th(e,n,s){n=Rr(s,n),n=vd(e,n,1),e=kn(e,n,1),n=nt(),e!==null&&(Zr(e,1,n),ut(e,n))}function xe(e,n,s){if(e.tag===3)th(e,e,s);else for(;n!==null;){if(n.tag===3){th(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(In===null||!In.has(l))){e=Rr(s,e),e=wd(n,e,1),n=kn(n,e,1),e=nt(),n!==null&&(Zr(n,1,e),ut(n,e));break}}n=n.return}}function ry(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),n=nt(),e.pingedLanes|=e.suspendedLanes&s,ze===e&&(He&s)===s&&(Me===4||Me===3&&(He&130023424)===He&&500>Pe()-Iu?Kn(e,0):Tu|=s),ut(e,n)}function nh(e,n){n===0&&(e.mode&1?(n=cs,cs<<=1,!(cs&130023424)&&(cs=4194304)):n=1);var s=nt();e=en(e,n),e!==null&&(Zr(e,n,s),ut(e,s))}function iy(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),nh(e,s)}function sy(e,n){var s=0;switch(e.tag){case 13:var l=e.stateNode,a=e.memoizedState;a!==null&&(s=a.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(i(314))}l!==null&&l.delete(n),nh(e,s)}var rh;rh=function(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps||it.current)ot=!0;else{if(!(e.lanes&s)&&!(n.flags&128))return ot=!1,G_(e,n,s);ot=!!(e.flags&131072)}else ot=!1,Te&&n.flags&1048576&&Ff(n,As,n.index);switch(n.lanes=0,n.tag){case 2:var l=n.type;Ks(e,n),e=n.pendingProps;var a=wr(n,Qe.current);Ir(n,s),a=ru(null,n,l,e,a,s);var f=iu();return n.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,st(l)?(f=!0,xs(n)):f=!1,n.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Yl(n),a.updater=Vs,n.stateNode=a,a._reactInternals=n,cu(n,l,e,s),n=pu(null,n,l,!0,f,s)):(n.tag=0,Te&&f&&jl(n),tt(null,n,a,s),n=n.child),n;case 16:l=n.elementType;e:{switch(Ks(e,n),e=n.pendingProps,a=l._init,l=a(l._payload),n.type=l,a=n.tag=ly(l),e=Ot(l,e),a){case 0:n=hu(null,n,l,e,s);break e;case 1:n=xd(null,n,l,e,s);break e;case 11:n=kd(null,n,l,e,s);break e;case 14:n=Td(null,n,l,Ot(l.type,e),s);break e}throw Error(i(306,l,""))}return n;case 0:return l=n.type,a=n.pendingProps,a=n.elementType===l?a:Ot(l,a),hu(e,n,l,a,s);case 1:return l=n.type,a=n.pendingProps,a=n.elementType===l?a:Ot(l,a),xd(e,n,l,a,s);case 3:e:{if(Pd(n),e===null)throw Error(i(387));l=n.pendingProps,f=n.memoizedState,a=f.element,Vf(e,n),Us(n,l,null,s);var h=n.memoizedState;if(l=h.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){a=Rr(Error(i(423)),n),n=Dd(e,n,l,s,a);break e}else if(l!==a){a=Rr(Error(i(424)),n),n=Dd(e,n,l,s,a);break e}else for(gt=vn(n.stateNode.containerInfo.firstChild),mt=n,Te=!0,At=null,s=Hf(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Cr(),l===a){n=nn(e,n,s);break e}tt(e,n,l,s)}n=n.child}return n;case 5:return Qf(n),e===null&&Hl(n),l=n.type,a=n.pendingProps,f=e!==null?e.memoizedProps:null,h=a.children,Ml(l,a)?h=null:f!==null&&Ml(l,f)&&(n.flags|=32),Rd(e,n),tt(e,n,h,s),n.child;case 6:return e===null&&Hl(n),null;case 13:return Ad(e,n,s);case 4:return Xl(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=kr(n,null,l,s):tt(e,n,l,s),n.child;case 11:return l=n.type,a=n.pendingProps,a=n.elementType===l?a:Ot(l,a),kd(e,n,l,a,s);case 7:return tt(e,n,n.pendingProps,s),n.child;case 8:return tt(e,n,n.pendingProps.children,s),n.child;case 12:return tt(e,n,n.pendingProps.children,s),n.child;case 10:e:{if(l=n.type._context,a=n.pendingProps,f=n.memoizedProps,h=a.value,_e(Ls,l._currentValue),l._currentValue=h,f!==null)if(Dt(f.value,h)){if(f.children===a.children&&!it.current){n=nn(e,n,s);break e}}else for(f=n.child,f!==null&&(f.return=n);f!==null;){var _=f.dependencies;if(_!==null){h=f.child;for(var v=_.firstContext;v!==null;){if(v.context===l){if(f.tag===1){v=tn(-1,s&-s),v.tag=2;var I=f.updateQueue;if(I!==null){I=I.shared;var x=I.pending;x===null?v.next=v:(v.next=x.next,x.next=v),I.pending=v}}f.lanes|=s,v=f.alternate,v!==null&&(v.lanes|=s),Ql(f.return,s,n),_.lanes|=s;break}v=v.next}}else if(f.tag===10)h=f.type===n.type?null:f.child;else if(f.tag===18){if(h=f.return,h===null)throw Error(i(341));h.lanes|=s,_=h.alternate,_!==null&&(_.lanes|=s),Ql(h,s,n),h=f.sibling}else h=f.child;if(h!==null)h.return=f;else for(h=f;h!==null;){if(h===n){h=null;break}if(f=h.sibling,f!==null){f.return=h.return,h=f;break}h=h.return}f=h}tt(e,n,a.children,s),n=n.child}return n;case 9:return a=n.type,l=n.pendingProps.children,Ir(n,s),a=Et(a),l=l(a),n.flags|=1,tt(e,n,l,s),n.child;case 14:return l=n.type,a=Ot(l,n.pendingProps),a=Ot(l.type,a),Td(e,n,l,a,s);case 15:return Id(e,n,n.type,n.pendingProps,s);case 17:return l=n.type,a=n.pendingProps,a=n.elementType===l?a:Ot(l,a),Ks(e,n),n.tag=1,st(l)?(e=!0,xs(n)):e=!1,Ir(n,s),_d(n,l,a),cu(n,l,a,s),pu(null,n,l,!0,e,s);case 19:return Md(e,n,s);case 22:return Nd(e,n,s)}throw Error(i(156,n.tag))};function ih(e,n){return Fc(e,n)}function oy(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(e,n,s,l){return new oy(e,n,s,l)}function Mu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ly(e){if(typeof e=="function")return Mu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===jt)return 11;if(e===Bt)return 14}return 2}function Pn(e,n){var s=e.alternate;return s===null?(s=Tt(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function io(e,n,s,l,a,f){var h=2;if(l=e,typeof e=="function")Mu(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case de:return qn(s.children,a,f,n);case Z:h=8,a|=8;break;case Be:return e=Tt(12,s,n,a|2),e.elementType=Be,e.lanes=f,e;case dt:return e=Tt(13,s,n,a),e.elementType=dt,e.lanes=f,e;case xt:return e=Tt(19,s,n,a),e.elementType=xt,e.lanes=f,e;case Re:return so(s,a,f,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Rt:h=10;break e;case qt:h=9;break e;case jt:h=11;break e;case Bt:h=14;break e;case rt:h=16,l=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return n=Tt(h,s,n,a),n.elementType=e,n.type=l,n.lanes=f,n}function qn(e,n,s,l){return e=Tt(7,e,l,n),e.lanes=s,e}function so(e,n,s,l){return e=Tt(22,e,l,n),e.elementType=Re,e.lanes=s,e.stateNode={isHidden:!1},e}function Lu(e,n,s){return e=Tt(6,e,null,n),e.lanes=s,e}function Fu(e,n,s){return n=Tt(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function uy(e,n,s,l,a){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=al(0),this.expirationTimes=al(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=al(0),this.identifierPrefix=l,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function zu(e,n,s,l,a,f,h,_,v){return e=new uy(e,n,s,_,v),n===1?(n=1,f===!0&&(n|=8)):n=0,f=Tt(3,null,null,n),e.current=f,f.stateNode=e,f.memoizedState={element:l,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yl(f),e}function ay(e,n,s){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Y,key:l==null?null:""+l,children:e,containerInfo:n,implementation:s}}function sh(e){if(!e)return Sn;e=e._reactInternals;e:{if(zn(e)!==e||e.tag!==1)throw Error(i(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(st(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(i(171))}if(e.tag===1){var s=e.type;if(st(s))return Of(e,s,n)}return n}function oh(e,n,s,l,a,f,h,_,v){return e=zu(s,l,!0,e,a,f,h,_,v),e.context=sh(null),s=e.current,l=nt(),a=Rn(s),f=tn(l,a),f.callback=n??null,kn(s,f,a),e.current.lanes=a,Zr(e,a,l),ut(e,l),e}function oo(e,n,s,l){var a=n.current,f=nt(),h=Rn(a);return s=sh(s),n.context===null?n.context=s:n.pendingContext=s,n=tn(f,h),n.payload={element:e},l=l===void 0?null:l,l!==null&&(n.callback=l),e=kn(a,n,h),e!==null&&(Ft(e,a,h,f),zs(e,a,h)),h}function lo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function lh(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Uu(e,n){lh(e,n),(e=e.alternate)&&lh(e,n)}var uh=typeof reportError=="function"?reportError:function(e){console.error(e)};function bu(e){this._internalRoot=e}uo.prototype.render=bu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(i(409));oo(e,n,null,null)},uo.prototype.unmount=bu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Gn(function(){oo(null,e,null,null)}),n[Yt]=null}};function uo(e){this._internalRoot=e}uo.prototype.unstable_scheduleHydration=function(e){if(e){var n=$c();e={blockedOn:null,target:e,priority:n};for(var s=0;s<gn.length&&n!==0&&n<gn[s].priority;s++);gn.splice(s,0,e),s===0&&Kc(e)}};function ju(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ao(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ah(){}function cy(e,n,s,l,a){if(a){if(typeof l=="function"){var f=l;l=function(){var I=lo(h);f.call(I)}}var h=oh(n,l,e,0,null,!1,!1,"",ah);return e._reactRootContainer=h,e[Yt]=h.current,hi(e.nodeType===8?e.parentNode:e),Gn(),h}for(;a=e.lastChild;)e.removeChild(a);if(typeof l=="function"){var _=l;l=function(){var I=lo(v);_.call(I)}}var v=zu(e,0,!1,null,null,!1,!1,"",ah);return e._reactRootContainer=v,e[Yt]=v.current,hi(e.nodeType===8?e.parentNode:e),Gn(function(){oo(n,v,s,l)}),v}function co(e,n,s,l,a){var f=s._reactRootContainer;if(f){var h=f;if(typeof a=="function"){var _=a;a=function(){var v=lo(h);_.call(v)}}oo(n,h,e,a)}else h=cy(s,n,e,a,l);return lo(h)}Wc=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var s=Jr(n.pendingLanes);s!==0&&(cl(n,s|1),ut(n,Pe()),!(le&6)&&(Dr=Pe()+500,En()))}break;case 13:Gn(function(){var l=en(e,1);if(l!==null){var a=nt();Ft(l,e,1,a)}}),Uu(e,1)}},fl=function(e){if(e.tag===13){var n=en(e,134217728);if(n!==null){var s=nt();Ft(n,e,134217728,s)}Uu(e,134217728)}},Hc=function(e){if(e.tag===13){var n=Rn(e),s=en(e,n);if(s!==null){var l=nt();Ft(s,e,n,l)}Uu(e,n)}},$c=function(){return pe},Vc=function(e,n){var s=pe;try{return pe=e,n()}finally{pe=s}},rl=function(e,n,s){switch(n){case"input":if(qo(e,s),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var a=Ns(l);if(!a)throw Error(i(90));mc(l),qo(l,a)}}}break;case"textarea":wc(e,s);break;case"select":n=s.value,n!=null&&ur(e,!!s.multiple,n,!1)}},xc=Du,Pc=Gn;var fy={usingClientEntryPoint:!1,Events:[gi,yr,Ns,Nc,Rc,Du]},Pi={findFiberByHostInstance:Un,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dy={bundleType:Pi.bundleType,version:Pi.version,rendererPackageName:Pi.rendererPackageName,rendererConfig:Pi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Mc(e),e===null?null:e.stateNode},findFiberByHostInstance:Pi.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fo.isDisabled&&fo.supportsFiber)try{us=fo.inject(dy),Wt=fo}catch{}}return at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fy,at.createPortal=function(e,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ju(n))throw Error(i(200));return ay(e,n,null,s)},at.createRoot=function(e,n){if(!ju(e))throw Error(i(299));var s=!1,l="",a=uh;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),n=zu(e,1,!1,null,null,s,!1,l,a),e[Yt]=n.current,hi(e.nodeType===8?e.parentNode:e),new bu(n)},at.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=Mc(n),e=e===null?null:e.stateNode,e},at.flushSync=function(e){return Gn(e)},at.hydrate=function(e,n,s){if(!ao(n))throw Error(i(200));return co(null,e,n,!0,s)},at.hydrateRoot=function(e,n,s){if(!ju(e))throw Error(i(405));var l=s!=null&&s.hydratedSources||null,a=!1,f="",h=uh;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onRecoverableError!==void 0&&(h=s.onRecoverableError)),n=oh(n,null,e,1,s??null,a,!1,f,h),e[Yt]=n.current,hi(e),l)for(e=0;e<l.length;e++)s=l[e],a=s._getVersion,a=a(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,a]:n.mutableSourceEagerHydrationData.push(s,a);return new uo(n)},at.render=function(e,n,s){if(!ao(n))throw Error(i(200));return co(null,e,n,!1,s)},at.unmountComponentAtNode=function(e){if(!ao(e))throw Error(i(40));return e._reactRootContainer?(Gn(function(){co(null,null,e,!1,function(){e._reactRootContainer=null,e[Yt]=null})}),!0):!1},at.unstable_batchedUpdates=Du,at.unstable_renderSubtreeIntoContainer=function(e,n,s,l){if(!ao(s))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return co(e,n,s,!1,l)},at.version="18.3.1-next-f1338f8080-20240426",at}var _h;function ky(){if(_h)return Hu.exports;_h=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Hu.exports=Cy(),Hu.exports}var yh;function Ty(){if(yh)return ho;yh=1;var r=ky();return ho.createRoot=r.createRoot,ho.hydrateRoot=r.hydrateRoot,ho}var Iy=Ty();const Ny="modulepreload",Ry=function(r){return"/DIRIRedux/"+r},vh={},xy=function(t,i,o){let u=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),p=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));u=Promise.allSettled(i.map(m=>{if(m=Ry(m),m in vh)return;vh[m]=!0;const g=m.endsWith(".css"),w=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${w}`))return;const y=document.createElement("link");if(y.rel=g?"stylesheet":Ny,g||(y.as="script"),y.crossOrigin="",y.href=m,p&&y.setAttribute("nonce",p),document.head.appendChild(y),g)return new Promise((T,A)=>{y.addEventListener("load",T),y.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${m}`)))})}))}function c(d){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=d,window.dispatchEvent(p),!p.defaultPrevented)throw d}return u.then(d=>{for(const p of d||[])p.status==="rejected"&&c(p.reason);return t().catch(c)})};var Gu={exports:{}},Ku={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wh;function Py(){if(wh)return Ku;wh=1;var r=Lo();function t(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var i=typeof Object.is=="function"?Object.is:t,o=r.useSyncExternalStore,u=r.useRef,c=r.useEffect,d=r.useMemo,p=r.useDebugValue;return Ku.useSyncExternalStoreWithSelector=function(m,g,w,y,T){var A=u(null);if(A.current===null){var O={hasValue:!1,value:null};A.current=O}else O=A.current;A=d(function(){function z(J){if(!ie){if(ie=!0,X=J,J=y(J),T!==void 0&&O.hasValue){var Y=O.value;if(T(Y,J))return Q=Y}return Q=J}if(Y=Q,i(X,J))return Y;var de=y(J);return T!==void 0&&T(Y,de)?(X=J,Y):(X=J,Q=de)}var ie=!1,X,Q,G=w===void 0?null:w;return[function(){return z(g())},G===null?void 0:function(){return z(G())}]},[g,w,y,T]);var H=o(m,A[0],A[1]);return c(function(){O.hasValue=!0,O.value=H},[H]),p(H),H},Ku}var Sh;function Dy(){return Sh||(Sh=1,Gu.exports=Py()),Gu.exports}var Ay=Dy();function Oy(r){r()}function My(){let r=null,t=null;return{clear(){r=null,t=null},notify(){Oy(()=>{let i=r;for(;i;)i.callback(),i=i.next})},get(){const i=[];let o=r;for(;o;)i.push(o),o=o.next;return i},subscribe(i){let o=!0;const u=t={callback:i,next:null,prev:t};return u.prev?u.prev.next=u:r=u,function(){!o||r===null||(o=!1,u.next?u.next.prev=u.prev:t=u.prev,u.prev?u.prev.next=u.next:r=u.next)}}}}var Eh={notify(){},get:()=>[]};function Ly(r,t){let i,o=Eh,u=0,c=!1;function d(H){w();const z=o.subscribe(H);let ie=!1;return()=>{ie||(ie=!0,z(),y())}}function p(){o.notify()}function m(){O.onStateChange&&O.onStateChange()}function g(){return c}function w(){u++,i||(i=r.subscribe(m),o=My())}function y(){u--,i&&u===0&&(i(),i=void 0,o.clear(),o=Eh)}function T(){c||(c=!0,w())}function A(){c&&(c=!1,y())}const O={addNestedSub:d,notifyNestedSubs:p,handleChangeWrapper:m,isSubscribed:g,trySubscribe:T,tryUnsubscribe:A,getListeners:()=>o};return O}var Fy=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zy=Fy(),Uy=()=>typeof navigator<"u"&&navigator.product==="ReactNative",by=Uy(),jy=()=>zy||by?Ke.useLayoutEffect:Ke.useEffect,By=jy(),Qu=Symbol.for("react-redux-context"),qu=typeof globalThis<"u"?globalThis:{};function Wy(){if(!Ke.createContext)return{};const r=qu[Qu]??(qu[Qu]=new Map);let t=r.get(Ke.createContext);return t||(t=Ke.createContext(null),r.set(Ke.createContext,t)),t}var Ln=Wy();function Hy(r){const{children:t,context:i,serverState:o,store:u}=r,c=Ke.useMemo(()=>{const m=Ly(u);return{store:u,subscription:m,getServerState:o?()=>o:void 0}},[u,o]),d=Ke.useMemo(()=>u.getState(),[u]);By(()=>{const{subscription:m}=c;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),d!==u.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[c,d]);const p=i||Ln;return Ke.createElement(p.Provider,{value:c},t)}var $y=Hy;function Ua(r=Ln){return function(){return Ke.useContext(r)}}var Ip=Ua();function Np(r=Ln){const t=r===Ln?Ip:Ua(r),i=()=>{const{store:o}=t();return o};return Object.assign(i,{withTypes:()=>i}),i}var Vy=Np();function Gy(r=Ln){const t=r===Ln?Vy:Np(r),i=()=>t().dispatch;return Object.assign(i,{withTypes:()=>i}),i}var k0=Gy(),Ky=(r,t)=>r===t;function Qy(r=Ln){const t=r===Ln?Ip:Ua(r),i=(o,u={})=>{const{equalityFn:c=Ky}=typeof u=="function"?{equalityFn:u}:u,d=t(),{store:p,subscription:m,getServerState:g}=d;Ke.useRef(!0);const w=Ke.useCallback({[o.name](T){return o(T)}}[o.name],[o]),y=Ay.useSyncExternalStoreWithSelector(m.addNestedSub,p.getState,g||p.getState,w,c);return Ke.useDebugValue(y),y};return Object.assign(i,{withTypes:()=>i}),i}var qy=Qy();const Yy=wy.lazy(()=>xy(()=>import("./MenuPage-D0iu3JYe.js"),__vite__mapDeps([0,1])));function Xy(){const r=qy(o=>o.menu.menuItems),[t,i]=Ke.useState(!1);return Je.jsxs("div",{className:"App",children:[Je.jsx("button",{className:"toggleButton",onClick:()=>i(!t),children:t?"Mostrar stock de productos":"Mostrar menú"}),Je.jsx("h1",{className:"title",children:"Comida Rápida Online"}),!t&&Je.jsxs(Je.Fragment,{children:[Je.jsx("h4",{className:"subTitle",children:"Disponibilidad de platos"}),Je.jsx("ul",{className:"ulApp",children:r.map(o=>Je.jsxs("li",{className:"liApp",children:[Je.jsx("p",{children:o.name}),Je.jsxs("p",{children:["Stock:",o.quantity]})]},o.id))})]}),t&&Je.jsx(Ke.Suspense,{fallback:Je.jsx("div",{children:"Cargando menú..."}),children:Je.jsx(Yy,{})})]})}function $e(r){return`Minified Redux error #${r}; visit https://redux.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var Jy=typeof Symbol=="function"&&Symbol.observable||"@@observable",Ch=Jy,Yu=()=>Math.random().toString(36).substring(7).split("").join("."),Zy={INIT:`@@redux/INIT${Yu()}`,REPLACE:`@@redux/REPLACE${Yu()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Yu()}`},yo=Zy;function ba(r){if(typeof r!="object"||r===null)return!1;let t=r;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(r)===t||Object.getPrototypeOf(r)===null}function Rp(r,t,i){if(typeof r!="function")throw new Error($e(2));if(typeof t=="function"&&typeof i=="function"||typeof i=="function"&&typeof arguments[3]=="function")throw new Error($e(0));if(typeof t=="function"&&typeof i>"u"&&(i=t,t=void 0),typeof i<"u"){if(typeof i!="function")throw new Error($e(1));return i(Rp)(r,t)}let o=r,u=t,c=new Map,d=c,p=0,m=!1;function g(){d===c&&(d=new Map,c.forEach((z,ie)=>{d.set(ie,z)}))}function w(){if(m)throw new Error($e(3));return u}function y(z){if(typeof z!="function")throw new Error($e(4));if(m)throw new Error($e(5));let ie=!0;g();const X=p++;return d.set(X,z),function(){if(ie){if(m)throw new Error($e(6));ie=!1,g(),d.delete(X),c=null}}}function T(z){if(!ba(z))throw new Error($e(7));if(typeof z.type>"u")throw new Error($e(8));if(typeof z.type!="string")throw new Error($e(17));if(m)throw new Error($e(9));try{m=!0,u=o(u,z)}finally{m=!1}return(c=d).forEach(X=>{X()}),z}function A(z){if(typeof z!="function")throw new Error($e(10));o=z,T({type:yo.REPLACE})}function O(){const z=y;return{subscribe(ie){if(typeof ie!="object"||ie===null)throw new Error($e(11));function X(){const G=ie;G.next&&G.next(w())}return X(),{unsubscribe:z(X)}},[Ch](){return this}}}return T({type:yo.INIT}),{dispatch:T,subscribe:y,getState:w,replaceReducer:A,[Ch]:O}}function ev(r){Object.keys(r).forEach(t=>{const i=r[t];if(typeof i(void 0,{type:yo.INIT})>"u")throw new Error($e(12));if(typeof i(void 0,{type:yo.PROBE_UNKNOWN_ACTION()})>"u")throw new Error($e(13))})}function tv(r){const t=Object.keys(r),i={};for(let c=0;c<t.length;c++){const d=t[c];typeof r[d]=="function"&&(i[d]=r[d])}const o=Object.keys(i);let u;try{ev(i)}catch(c){u=c}return function(d={},p){if(u)throw u;let m=!1;const g={};for(let w=0;w<o.length;w++){const y=o[w],T=i[y],A=d[y],O=T(A,p);if(typeof O>"u")throw p&&p.type,new Error($e(14));g[y]=O,m=m||O!==A}return m=m||o.length!==Object.keys(d).length,m?g:d}}function vo(...r){return r.length===0?t=>t:r.length===1?r[0]:r.reduce((t,i)=>(...o)=>t(i(...o)))}function nv(...r){return t=>(i,o)=>{const u=t(i,o);let c=()=>{throw new Error($e(15))};const d={getState:u.getState,dispatch:(m,...g)=>c(m,...g)},p=r.map(m=>m(d));return c=vo(...p)(u.dispatch),{...u,dispatch:c}}}function rv(r){return ba(r)&&"type"in r&&typeof r.type=="string"}var xp=Symbol.for("immer-nothing"),kh=Symbol.for("immer-draftable"),yt=Symbol.for("immer-state");function zt(r,...t){throw new Error(`[Immer] minified error nr: ${r}. Full error at: https://bit.ly/3cXEKWf`)}var zr=Object.getPrototypeOf;function tr(r){return!!r&&!!r[yt]}function un(r){var t;return r?Pp(r)||Array.isArray(r)||!!r[kh]||!!((t=r.constructor)!=null&&t[kh])||zo(r)||Uo(r):!1}var iv=Object.prototype.constructor.toString();function Pp(r){if(!r||typeof r!="object")return!1;const t=zr(r);if(t===null)return!0;const i=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return i===Object?!0:typeof i=="function"&&Function.toString.call(i)===iv}function wo(r,t){Fo(r)===0?Reflect.ownKeys(r).forEach(i=>{t(i,r[i],r)}):r.forEach((i,o)=>t(o,i,r))}function Fo(r){const t=r[yt];return t?t.type_:Array.isArray(r)?1:zo(r)?2:Uo(r)?3:0}function da(r,t){return Fo(r)===2?r.has(t):Object.prototype.hasOwnProperty.call(r,t)}function Dp(r,t,i){const o=Fo(r);o===2?r.set(t,i):o===3?r.add(i):r[t]=i}function sv(r,t){return r===t?r!==0||1/r===1/t:r!==r&&t!==t}function zo(r){return r instanceof Map}function Uo(r){return r instanceof Set}function Yn(r){return r.copy_||r.base_}function ha(r,t){if(zo(r))return new Map(r);if(Uo(r))return new Set(r);if(Array.isArray(r))return Array.prototype.slice.call(r);const i=Pp(r);if(t===!0||t==="class_only"&&!i){const o=Object.getOwnPropertyDescriptors(r);delete o[yt];let u=Reflect.ownKeys(o);for(let c=0;c<u.length;c++){const d=u[c],p=o[d];p.writable===!1&&(p.writable=!0,p.configurable=!0),(p.get||p.set)&&(o[d]={configurable:!0,writable:!0,enumerable:p.enumerable,value:r[d]})}return Object.create(zr(r),o)}else{const o=zr(r);if(o!==null&&i)return{...r};const u=Object.create(o);return Object.assign(u,r)}}function ja(r,t=!1){return bo(r)||tr(r)||!un(r)||(Fo(r)>1&&(r.set=r.add=r.clear=r.delete=ov),Object.freeze(r),t&&Object.entries(r).forEach(([i,o])=>ja(o,!0))),r}function ov(){zt(2)}function bo(r){return Object.isFrozen(r)}var lv={};function nr(r){const t=lv[r];return t||zt(0,r),t}var $i;function Ap(){return $i}function uv(r,t){return{drafts_:[],parent_:r,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Th(r,t){t&&(nr("Patches"),r.patches_=[],r.inversePatches_=[],r.patchListener_=t)}function pa(r){ma(r),r.drafts_.forEach(av),r.drafts_=null}function ma(r){r===$i&&($i=r.parent_)}function Ih(r){return $i=uv($i,r)}function av(r){const t=r[yt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Nh(r,t){t.unfinalizedDrafts_=t.drafts_.length;const i=t.drafts_[0];return r!==void 0&&r!==i?(i[yt].modified_&&(pa(t),zt(4)),un(r)&&(r=So(t,r),t.parent_||Eo(t,r)),t.patches_&&nr("Patches").generateReplacementPatches_(i[yt].base_,r,t.patches_,t.inversePatches_)):r=So(t,i,[]),pa(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),r!==xp?r:void 0}function So(r,t,i){if(bo(t))return t;const o=t[yt];if(!o)return wo(t,(u,c)=>Rh(r,o,t,u,c,i)),t;if(o.scope_!==r)return t;if(!o.modified_)return Eo(r,o.base_,!0),o.base_;if(!o.finalized_){o.finalized_=!0,o.scope_.unfinalizedDrafts_--;const u=o.copy_;let c=u,d=!1;o.type_===3&&(c=new Set(u),u.clear(),d=!0),wo(c,(p,m)=>Rh(r,o,u,p,m,i,d)),Eo(r,u,!1),i&&r.patches_&&nr("Patches").generatePatches_(o,i,r.patches_,r.inversePatches_)}return o.copy_}function Rh(r,t,i,o,u,c,d){if(tr(u)){const p=c&&t&&t.type_!==3&&!da(t.assigned_,o)?c.concat(o):void 0,m=So(r,u,p);if(Dp(i,o,m),tr(m))r.canAutoFreeze_=!1;else return}else d&&i.add(u);if(un(u)&&!bo(u)){if(!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1)return;So(r,u),(!t||!t.scope_.parent_)&&typeof o!="symbol"&&Object.prototype.propertyIsEnumerable.call(i,o)&&Eo(r,u)}}function Eo(r,t,i=!1){!r.parent_&&r.immer_.autoFreeze_&&r.canAutoFreeze_&&ja(t,i)}function cv(r,t){const i=Array.isArray(r),o={type_:i?1:0,scope_:t?t.scope_:Ap(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:r,draft_:null,copy_:null,revoke_:null,isManual_:!1};let u=o,c=Ba;i&&(u=[o],c=Vi);const{revoke:d,proxy:p}=Proxy.revocable(u,c);return o.draft_=p,o.revoke_=d,p}var Ba={get(r,t){if(t===yt)return r;const i=Yn(r);if(!da(i,t))return fv(r,i,t);const o=i[t];return r.finalized_||!un(o)?o:o===Xu(r.base_,t)?(Ju(r),r.copy_[t]=_a(o,r)):o},has(r,t){return t in Yn(r)},ownKeys(r){return Reflect.ownKeys(Yn(r))},set(r,t,i){const o=Op(Yn(r),t);if(o!=null&&o.set)return o.set.call(r.draft_,i),!0;if(!r.modified_){const u=Xu(Yn(r),t),c=u==null?void 0:u[yt];if(c&&c.base_===i)return r.copy_[t]=i,r.assigned_[t]=!1,!0;if(sv(i,u)&&(i!==void 0||da(r.base_,t)))return!0;Ju(r),ga(r)}return r.copy_[t]===i&&(i!==void 0||t in r.copy_)||Number.isNaN(i)&&Number.isNaN(r.copy_[t])||(r.copy_[t]=i,r.assigned_[t]=!0),!0},deleteProperty(r,t){return Xu(r.base_,t)!==void 0||t in r.base_?(r.assigned_[t]=!1,Ju(r),ga(r)):delete r.assigned_[t],r.copy_&&delete r.copy_[t],!0},getOwnPropertyDescriptor(r,t){const i=Yn(r),o=Reflect.getOwnPropertyDescriptor(i,t);return o&&{writable:!0,configurable:r.type_!==1||t!=="length",enumerable:o.enumerable,value:i[t]}},defineProperty(){zt(11)},getPrototypeOf(r){return zr(r.base_)},setPrototypeOf(){zt(12)}},Vi={};wo(Ba,(r,t)=>{Vi[r]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Vi.deleteProperty=function(r,t){return Vi.set.call(this,r,t,void 0)};Vi.set=function(r,t,i){return Ba.set.call(this,r[0],t,i,r[0])};function Xu(r,t){const i=r[yt];return(i?Yn(i):r)[t]}function fv(r,t,i){var u;const o=Op(t,i);return o?"value"in o?o.value:(u=o.get)==null?void 0:u.call(r.draft_):void 0}function Op(r,t){if(!(t in r))return;let i=zr(r);for(;i;){const o=Object.getOwnPropertyDescriptor(i,t);if(o)return o;i=zr(i)}}function ga(r){r.modified_||(r.modified_=!0,r.parent_&&ga(r.parent_))}function Ju(r){r.copy_||(r.copy_=ha(r.base_,r.scope_.immer_.useStrictShallowCopy_))}var dv=class{constructor(r){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,i,o)=>{if(typeof t=="function"&&typeof i!="function"){const c=i;i=t;const d=this;return function(m=c,...g){return d.produce(m,w=>i.call(this,w,...g))}}typeof i!="function"&&zt(6),o!==void 0&&typeof o!="function"&&zt(7);let u;if(un(t)){const c=Ih(this),d=_a(t,void 0);let p=!0;try{u=i(d),p=!1}finally{p?pa(c):ma(c)}return Th(c,o),Nh(u,c)}else if(!t||typeof t!="object"){if(u=i(t),u===void 0&&(u=t),u===xp&&(u=void 0),this.autoFreeze_&&ja(u,!0),o){const c=[],d=[];nr("Patches").generateReplacementPatches_(t,u,c,d),o(c,d)}return u}else zt(1,t)},this.produceWithPatches=(t,i)=>{if(typeof t=="function")return(d,...p)=>this.produceWithPatches(d,m=>t(m,...p));let o,u;return[this.produce(t,i,(d,p)=>{o=d,u=p}),o,u]},typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze),typeof(r==null?void 0:r.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(r.useStrictShallowCopy)}createDraft(r){un(r)||zt(8),tr(r)&&(r=hv(r));const t=Ih(this),i=_a(r,void 0);return i[yt].isManual_=!0,ma(t),i}finishDraft(r,t){const i=r&&r[yt];(!i||!i.isManual_)&&zt(9);const{scope_:o}=i;return Th(o,t),Nh(void 0,o)}setAutoFreeze(r){this.autoFreeze_=r}setUseStrictShallowCopy(r){this.useStrictShallowCopy_=r}applyPatches(r,t){let i;for(i=t.length-1;i>=0;i--){const u=t[i];if(u.path.length===0&&u.op==="replace"){r=u.value;break}}i>-1&&(t=t.slice(i+1));const o=nr("Patches").applyPatches_;return tr(r)?o(r,t):this.produce(r,u=>o(u,t))}};function _a(r,t){const i=zo(r)?nr("MapSet").proxyMap_(r,t):Uo(r)?nr("MapSet").proxySet_(r,t):cv(r,t);return(t?t.scope_:Ap()).drafts_.push(i),i}function hv(r){return tr(r)||zt(10,r),Mp(r)}function Mp(r){if(!un(r)||bo(r))return r;const t=r[yt];let i;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,i=ha(r,t.scope_.immer_.useStrictShallowCopy_)}else i=ha(r,!0);return wo(i,(o,u)=>{Dp(i,o,Mp(u))}),t&&(t.finalized_=!1),i}var vt=new dv,Lp=vt.produce;vt.produceWithPatches.bind(vt);vt.setAutoFreeze.bind(vt);vt.setUseStrictShallowCopy.bind(vt);vt.applyPatches.bind(vt);vt.createDraft.bind(vt);vt.finishDraft.bind(vt);function Fp(r){return({dispatch:i,getState:o})=>u=>c=>typeof c=="function"?c(i,o,r):u(c)}var pv=Fp(),mv=Fp,gv=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?vo:vo.apply(null,arguments)},_v=r=>r&&typeof r.match=="function";function bi(r,t){function i(...o){if(t){let u=t(...o);if(!u)throw new Error(on(0));return{type:r,payload:u.payload,..."meta"in u&&{meta:u.meta},..."error"in u&&{error:u.error}}}return{type:r,payload:o[0]}}return i.toString=()=>`${r}`,i.type=r,i.match=o=>rv(o)&&o.type===r,i}var zp=class Ui extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Ui.prototype)}static get[Symbol.species](){return Ui}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Ui(...t[0].concat(this)):new Ui(...t.concat(this))}};function xh(r){return un(r)?Lp(r,()=>{}):r}function Ph(r,t,i){return r.has(t)?r.get(t):r.set(t,i(t)).get(t)}function yv(r){return typeof r=="boolean"}var vv=()=>function(t){const{thunk:i=!0,immutableCheck:o=!0,serializableCheck:u=!0,actionCreatorCheck:c=!0}=t??{};let d=new zp;return i&&(yv(i)?d.push(pv):d.push(mv(i.extraArgument))),d},wv="RTK_autoBatch",Dh=r=>t=>{setTimeout(t,r)},Sv=(r={type:"raf"})=>t=>(...i)=>{const o=t(...i);let u=!0,c=!1,d=!1;const p=new Set,m=r.type==="tick"?queueMicrotask:r.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Dh(10):r.type==="callback"?r.queueNotification:Dh(r.timeout),g=()=>{d=!1,c&&(c=!1,p.forEach(w=>w()))};return Object.assign({},o,{subscribe(w){const y=()=>u&&w(),T=o.subscribe(y);return p.add(w),()=>{T(),p.delete(w)}},dispatch(w){var y;try{return u=!((y=w==null?void 0:w.meta)!=null&&y[wv]),c=!u,c&&(d||(d=!0,m(g))),o.dispatch(w)}finally{u=!0}}})},Ev=r=>function(i){const{autoBatch:o=!0}=i??{};let u=new zp(r);return o&&u.push(Sv(typeof o=="object"?o:void 0)),u};function Cv(r){const t=vv(),{reducer:i=void 0,middleware:o,devTools:u=!0,preloadedState:c=void 0,enhancers:d=void 0}=r;let p;if(typeof i=="function")p=i;else if(ba(i))p=tv(i);else throw new Error(on(1));let m;typeof o=="function"?m=o(t):m=t();let g=vo;u&&(g=gv({trace:!1,...typeof u=="object"&&u}));const w=nv(...m),y=Ev(w);let T=typeof d=="function"?d(y):y();const A=g(...T);return Rp(p,c,A)}function Up(r){const t={},i=[];let o;const u={addCase(c,d){const p=typeof c=="string"?c:c.type;if(!p)throw new Error(on(28));if(p in t)throw new Error(on(29));return t[p]=d,u},addMatcher(c,d){return i.push({matcher:c,reducer:d}),u},addDefaultCase(c){return o=c,u}};return r(u),[t,i,o]}function kv(r){return typeof r=="function"}function Tv(r,t){let[i,o,u]=Up(t),c;if(kv(r))c=()=>xh(r());else{const p=xh(r);c=()=>p}function d(p=c(),m){let g=[i[m.type],...o.filter(({matcher:w})=>w(m)).map(({reducer:w})=>w)];return g.filter(w=>!!w).length===0&&(g=[u]),g.reduce((w,y)=>{if(y)if(tr(w)){const A=y(w,m);return A===void 0?w:A}else{if(un(w))return Lp(w,T=>y(T,m));{const T=y(w,m);if(T===void 0){if(w===null)return w;throw Error("A case reducer on a non-draftable value must not return undefined")}return T}}return w},p)}return d.getInitialState=c,d}var Iv=(r,t)=>_v(r)?r.match(t):r(t);function Nv(...r){return t=>r.some(i=>Iv(i,t))}var Rv="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",xv=(r=21)=>{let t="",i=r;for(;i--;)t+=Rv[Math.random()*64|0];return t},Pv=["name","message","stack","code"],Zu=class{constructor(r,t){Di(this,"_type");this.payload=r,this.meta=t}},Ah=class{constructor(r,t){Di(this,"_type");this.payload=r,this.meta=t}},Dv=r=>{if(typeof r=="object"&&r!==null){const t={};for(const i of Pv)typeof r[i]=="string"&&(t[i]=r[i]);return t}return{message:String(r)}},Av=(()=>{function r(t,i,o){const u=bi(t+"/fulfilled",(m,g,w,y)=>({payload:m,meta:{...y||{},arg:w,requestId:g,requestStatus:"fulfilled"}})),c=bi(t+"/pending",(m,g,w)=>({payload:void 0,meta:{...w||{},arg:g,requestId:m,requestStatus:"pending"}})),d=bi(t+"/rejected",(m,g,w,y,T)=>({payload:y,error:(o&&o.serializeError||Dv)(m||"Rejected"),meta:{...T||{},arg:w,requestId:g,rejectedWithValue:!!y,requestStatus:"rejected",aborted:(m==null?void 0:m.name)==="AbortError",condition:(m==null?void 0:m.name)==="ConditionError"}}));function p(m){return(g,w,y)=>{const T=o!=null&&o.idGenerator?o.idGenerator(m):xv(),A=new AbortController;let O,H;function z(X){H=X,A.abort()}const ie=async function(){var G,J;let X;try{let Y=(G=o==null?void 0:o.condition)==null?void 0:G.call(o,m,{getState:w,extra:y});if(Mv(Y)&&(Y=await Y),Y===!1||A.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const de=new Promise((Z,Be)=>{O=()=>{Be({name:"AbortError",message:H||"Aborted"})},A.signal.addEventListener("abort",O)});g(c(T,m,(J=o==null?void 0:o.getPendingMeta)==null?void 0:J.call(o,{requestId:T,arg:m},{getState:w,extra:y}))),X=await Promise.race([de,Promise.resolve(i(m,{dispatch:g,getState:w,extra:y,requestId:T,signal:A.signal,abort:z,rejectWithValue:(Z,Be)=>new Zu(Z,Be),fulfillWithValue:(Z,Be)=>new Ah(Z,Be)})).then(Z=>{if(Z instanceof Zu)throw Z;return Z instanceof Ah?u(Z.payload,T,m,Z.meta):u(Z,T,m)})])}catch(Y){X=Y instanceof Zu?d(null,T,m,Y.payload,Y.meta):d(Y,T,m)}finally{O&&A.signal.removeEventListener("abort",O)}return o&&!o.dispatchConditionRejection&&d.match(X)&&X.meta.condition||g(X),X}();return Object.assign(ie,{abort:z,requestId:T,arg:m,unwrap(){return ie.then(Ov)}})}}return Object.assign(p,{pending:c,rejected:d,fulfilled:u,settled:Nv(d,u),typePrefix:t})}return r.withTypes=()=>r,r})();function Ov(r){if(r.meta&&r.meta.rejectedWithValue)throw r.payload;if(r.error)throw r.error;return r.payload}function Mv(r){return r!==null&&typeof r=="object"&&typeof r.then=="function"}var Lv=Symbol.for("rtk-slice-createasyncthunk");function Fv(r,t){return`${r}/${t}`}function zv({creators:r}={}){var i;const t=(i=r==null?void 0:r.asyncThunk)==null?void 0:i[Lv];return function(u){const{name:c,reducerPath:d=c}=u;if(!c)throw new Error(on(11));const p=(typeof u.reducers=="function"?u.reducers(jv()):u.reducers)||{},m=Object.keys(p),g={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},w={addCase(Q,G){const J=typeof Q=="string"?Q:Q.type;if(!J)throw new Error(on(12));if(J in g.sliceCaseReducersByType)throw new Error(on(13));return g.sliceCaseReducersByType[J]=G,w},addMatcher(Q,G){return g.sliceMatchers.push({matcher:Q,reducer:G}),w},exposeAction(Q,G){return g.actionCreators[Q]=G,w},exposeCaseReducer(Q,G){return g.sliceCaseReducersByName[Q]=G,w}};m.forEach(Q=>{const G=p[Q],J={reducerName:Q,type:Fv(c,Q),createNotation:typeof u.reducers=="function"};Wv(G)?$v(J,G,w,t):Bv(J,G,w)});function y(){const[Q={},G=[],J=void 0]=typeof u.extraReducers=="function"?Up(u.extraReducers):[u.extraReducers],Y={...Q,...g.sliceCaseReducersByType};return Tv(u.initialState,de=>{for(let Z in Y)de.addCase(Z,Y[Z]);for(let Z of g.sliceMatchers)de.addMatcher(Z.matcher,Z.reducer);for(let Z of G)de.addMatcher(Z.matcher,Z.reducer);J&&de.addDefaultCase(J)})}const T=Q=>Q,A=new Map;let O;function H(Q,G){return O||(O=y()),O(Q,G)}function z(){return O||(O=y()),O.getInitialState()}function ie(Q,G=!1){function J(de){let Z=de[Q];return typeof Z>"u"&&G&&(Z=z()),Z}function Y(de=T){const Z=Ph(A,G,()=>new WeakMap);return Ph(Z,de,()=>{const Be={};for(const[Rt,qt]of Object.entries(u.selectors??{}))Be[Rt]=Uv(qt,de,z,G);return Be})}return{reducerPath:Q,getSelectors:Y,get selectors(){return Y(J)},selectSlice:J}}const X={name:c,reducer:H,actions:g.actionCreators,caseReducers:g.sliceCaseReducersByName,getInitialState:z,...ie(d),injectInto(Q,{reducerPath:G,...J}={}){const Y=G??d;return Q.inject({reducerPath:Y,reducer:H},J),{...X,...ie(Y,!0)}}};return X}}function Uv(r,t,i,o){function u(c,...d){let p=t(c);return typeof p>"u"&&o&&(p=i()),r(p,...d)}return u.unwrapped=r,u}var bv=zv();function jv(){function r(t,i){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...i}}return r.withTypes=()=>r,{reducer(t){return Object.assign({[t.name](...i){return t(...i)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,i){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:i}},asyncThunk:r}}function Bv({type:r,reducerName:t,createNotation:i},o,u){let c,d;if("reducer"in o){if(i&&!Hv(o))throw new Error(on(17));c=o.reducer,d=o.prepare}else c=o;u.addCase(r,c).exposeCaseReducer(t,c).exposeAction(t,d?bi(r,d):bi(r))}function Wv(r){return r._reducerDefinitionType==="asyncThunk"}function Hv(r){return r._reducerDefinitionType==="reducerWithPrepare"}function $v({type:r,reducerName:t},i,o,u){if(!u)throw new Error(on(18));const{payloadCreator:c,fulfilled:d,pending:p,rejected:m,settled:g,options:w}=i,y=u(r,c,w);o.exposeAction(t,y),d&&o.addCase(y.fulfilled,d),p&&o.addCase(y.pending,p),m&&o.addCase(y.rejected,m),g&&o.addMatcher(y.settled,g),o.exposeCaseReducer(t,{fulfilled:d||po,pending:p||po,rejected:m||po,settled:g||po})}function po(){}function on(r){return`Minified Redux Toolkit error #${r}; visit https://redux-toolkit.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var Oh={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bp={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M=function(r,t){if(!r)throw Br(t)},Br=function(r){return new Error("Firebase Database ("+bp.SDK_VERSION+") INTERNAL ASSERT FAILED: "+r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp=function(r){const t=[];let i=0;for(let o=0;o<r.length;o++){let u=r.charCodeAt(o);u<128?t[i++]=u:u<2048?(t[i++]=u>>6|192,t[i++]=u&63|128):(u&64512)===55296&&o+1<r.length&&(r.charCodeAt(o+1)&64512)===56320?(u=65536+((u&1023)<<10)+(r.charCodeAt(++o)&1023),t[i++]=u>>18|240,t[i++]=u>>12&63|128,t[i++]=u>>6&63|128,t[i++]=u&63|128):(t[i++]=u>>12|224,t[i++]=u>>6&63|128,t[i++]=u&63|128)}return t},Vv=function(r){const t=[];let i=0,o=0;for(;i<r.length;){const u=r[i++];if(u<128)t[o++]=String.fromCharCode(u);else if(u>191&&u<224){const c=r[i++];t[o++]=String.fromCharCode((u&31)<<6|c&63)}else if(u>239&&u<365){const c=r[i++],d=r[i++],p=r[i++],m=((u&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[o++]=String.fromCharCode(55296+(m>>10)),t[o++]=String.fromCharCode(56320+(m&1023))}else{const c=r[i++],d=r[i++];t[o++]=String.fromCharCode((u&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Wa={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let u=0;u<r.length;u+=3){const c=r[u],d=u+1<r.length,p=d?r[u+1]:0,m=u+2<r.length,g=m?r[u+2]:0,w=c>>2,y=(c&3)<<4|p>>4;let T=(p&15)<<2|g>>6,A=g&63;m||(A=64,d||(T=64)),o.push(i[w],i[y],i[T],i[A])}return o.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(jp(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Vv(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let u=0;u<r.length;){const c=i[r.charAt(u++)],p=u<r.length?i[r.charAt(u)]:0;++u;const g=u<r.length?i[r.charAt(u)]:64;++u;const y=u<r.length?i[r.charAt(u)]:64;if(++u,c==null||p==null||g==null||y==null)throw new Gv;const T=c<<2|p>>4;if(o.push(T),g!==64){const A=p<<4&240|g>>2;if(o.push(A),y!==64){const O=g<<6&192|y;o.push(O)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Gv extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Bp=function(r){const t=jp(r);return Wa.encodeByteArray(t,!0)},Co=function(r){return Bp(r).replace(/\./g,"")},ya=function(r){try{return Wa.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(r){return Wp(void 0,r)}function Wp(r,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const i=t;return new Date(i.getTime());case Object:r===void 0&&(r={});break;case Array:r=[];break;default:return t}for(const i in t)!t.hasOwnProperty(i)||!Qv(i)||(r[i]=Wp(r[i],t[i]));return r}function Qv(r){return r!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv=()=>qv().__FIREBASE_DEFAULTS__,Xv=()=>{if(typeof process>"u"||typeof Oh>"u")return;const r=Oh.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Jv=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&ya(r[1]);return t&&JSON.parse(t)},Hp=()=>{try{return Yv()||Xv()||Jv()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Zv=r=>{var t,i;return(i=(t=Hp())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[r]},ew=r=>{const t=Zv(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const o=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),o]:[t.substring(0,i),o]},$p=()=>{var r;return(r=Hp())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,o)=>{i?this.reject(i):this.resolve(o),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},o=t||"demo-project",u=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:u,exp:u+3600,auth_time:u,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Co(JSON.stringify(i)),Co(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Vp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nw())}function rw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iw(){return bp.NODE_ADMIN===!0}function sw(){try{return typeof indexedDB=="object"}catch{return!1}}function ow(){return new Promise((r,t)=>{try{let i=!0;const o="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(o);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(o),r(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var c;t(((c=u.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="FirebaseError";class Xi extends Error{constructor(t,i,o){super(i),this.code=t,this.customData=o,this.name=lw,Object.setPrototypeOf(this,Xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gp.prototype.create)}}class Gp{constructor(t,i,o){this.service=t,this.serviceName=i,this.errors=o}create(t,...i){const o=i[0]||{},u=`${this.service}/${t}`,c=this.errors[t],d=c?uw(c,o):"Error",p=`${this.serviceName}: ${d} (${u}).`;return new Xi(u,p,o)}}function uw(r,t){return r.replace(aw,(i,o)=>{const u=t[o];return u!=null?String(u):`<${o}?>`})}const aw=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(r){return JSON.parse(r)}function Ge(r){return JSON.stringify(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp=function(r){let t={},i={},o={},u="";try{const c=r.split(".");t=Gi(ya(c[0])||""),i=Gi(ya(c[1])||""),u=c[2],o=i.d||{},delete i.d}catch{}return{header:t,claims:i,data:o,signature:u}},cw=function(r){const t=Kp(r),i=t.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},fw=function(r){const t=Kp(r).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(r,t){return Object.prototype.hasOwnProperty.call(r,t)}function Ur(r,t){if(Object.prototype.hasOwnProperty.call(r,t))return r[t]}function Mh(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function ko(r,t,i){const o={};for(const u in r)Object.prototype.hasOwnProperty.call(r,u)&&(o[u]=t.call(i,r[u],u,r));return o}function va(r,t){if(r===t)return!0;const i=Object.keys(r),o=Object.keys(t);for(const u of i){if(!o.includes(u))return!1;const c=r[u],d=t[u];if(Lh(c)&&Lh(d)){if(!va(c,d))return!1}else if(c!==d)return!1}for(const u of o)if(!i.includes(u))return!1;return!0}function Lh(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(r){const t=[];for(const[i,o]of Object.entries(r))Array.isArray(o)?o.forEach(u=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(u))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(o));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,i){i||(i=0);const o=this.W_;if(typeof t=="string")for(let y=0;y<16;y++)o[y]=t.charCodeAt(i)<<24|t.charCodeAt(i+1)<<16|t.charCodeAt(i+2)<<8|t.charCodeAt(i+3),i+=4;else for(let y=0;y<16;y++)o[y]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i+=4;for(let y=16;y<80;y++){const T=o[y-3]^o[y-8]^o[y-14]^o[y-16];o[y]=(T<<1|T>>>31)&4294967295}let u=this.chain_[0],c=this.chain_[1],d=this.chain_[2],p=this.chain_[3],m=this.chain_[4],g,w;for(let y=0;y<80;y++){y<40?y<20?(g=p^c&(d^p),w=1518500249):(g=c^d^p,w=1859775393):y<60?(g=c&d|p&(c|d),w=2400959708):(g=c^d^p,w=3395469782);const T=(u<<5|u>>>27)+g+m+w+o[y]&4294967295;m=p,p=d,d=(c<<30|c>>>2)&4294967295,c=u,u=T}this.chain_[0]=this.chain_[0]+u&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+p&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(t,i){if(t==null)return;i===void 0&&(i=t.length);const o=i-this.blockSize;let u=0;const c=this.buf_;let d=this.inbuf_;for(;u<i;){if(d===0)for(;u<=o;)this.compress_(t,u),u+=this.blockSize;if(typeof t=="string"){for(;u<i;)if(c[d]=t.charCodeAt(u),++d,++u,d===this.blockSize){this.compress_(c),d=0;break}}else for(;u<i;)if(c[d]=t[u],++d,++u,d===this.blockSize){this.compress_(c),d=0;break}}this.inbuf_=d,this.total_+=i}digest(){const t=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let u=this.blockSize-1;u>=56;u--)this.buf_[u]=i&255,i/=256;this.compress_(this.buf_);let o=0;for(let u=0;u<5;u++)for(let c=24;c>=0;c-=8)t[o]=this.chain_[u]>>c&255,++o;return t}}function Ha(r,t){return`${r} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw=function(r){const t=[];let i=0;for(let o=0;o<r.length;o++){let u=r.charCodeAt(o);if(u>=55296&&u<=56319){const c=u-55296;o++,M(o<r.length,"Surrogate pair missing trail surrogate.");const d=r.charCodeAt(o)-56320;u=65536+(c<<10)+d}u<128?t[i++]=u:u<2048?(t[i++]=u>>6|192,t[i++]=u&63|128):u<65536?(t[i++]=u>>12|224,t[i++]=u>>6&63|128,t[i++]=u&63|128):(t[i++]=u>>18|240,t[i++]=u>>12&63|128,t[i++]=u>>6&63|128,t[i++]=u&63|128)}return t},Bo=function(r){let t=0;for(let i=0;i<r.length;i++){const o=r.charCodeAt(i);o<128?t++:o<2048?t+=2:o>=55296&&o<=56319?(t+=4,i++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(r){return r&&r._delegate?r._delegate:r}class Ki{constructor(t,i,o){this.name=t,this.instanceFactory=i,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const o=new jo;if(this.instancesDeferred.set(i,o),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&o.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const o=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),u=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(c){if(u)return null;throw c}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(_w(t))try{this.getOrInitializeService({instanceIdentifier:Xn})}catch{}for(const[i,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:u});o.resolve(c)}catch{}}}}clearInstance(t=Xn){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Xn){return this.instances.has(t)}getOptions(t=Xn){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:o,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);o===p&&d.resolve(u)}return u}onInit(t,i){var o;const u=this.normalizeInstanceIdentifier(i),c=(o=this.onInitCallbacks.get(u))!==null&&o!==void 0?o:new Set;c.add(t),this.onInitCallbacks.set(u,c);const d=this.instances.get(u);return d&&t(d,u),()=>{c.delete(t)}}invokeOnInitCallbacks(t,i){const o=this.onInitCallbacks.get(i);if(o)for(const u of o)try{u(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:gw(t),options:i}),this.instances.set(t,o),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null}normalizeInstanceIdentifier(t=Xn){return this.component?this.component.multipleInstances?t:Xn:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gw(r){return r===Xn?void 0:r}function _w(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new mw(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ye||(ye={}));const vw={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},ww=ye.INFO,Sw={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},Ew=(r,t,...i)=>{if(t<r.logLevel)return;const o=new Date().toISOString(),u=Sw[t];if(u)console[u](`[${o}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};let Qp=class{constructor(t){this.name=t,this._logLevel=ww,this._logHandler=Ew,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ye))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?vw[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...t),this._logHandler(this,ye.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...t),this._logHandler(this,ye.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...t),this._logHandler(this,ye.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...t),this._logHandler(this,ye.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...t),this._logHandler(this,ye.ERROR,...t)}};const Cw=(r,t)=>t.some(i=>r instanceof i);let Fh,zh;function kw(){return Fh||(Fh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Tw(){return zh||(zh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qp=new WeakMap,wa=new WeakMap,Yp=new WeakMap,ea=new WeakMap,$a=new WeakMap;function Iw(r){const t=new Promise((i,o)=>{const u=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(An(r.result)),u()},d=()=>{o(r.error),u()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&qp.set(i,r)}).catch(()=>{}),$a.set(t,r),t}function Nw(r){if(wa.has(r))return;const t=new Promise((i,o)=>{const u=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),u()},d=()=>{o(r.error||new DOMException("AbortError","AbortError")),u()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});wa.set(r,t)}let Sa={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return wa.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Yp.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return An(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function Rw(r){Sa=r(Sa)}function xw(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const o=r.call(ta(this),t,...i);return Yp.set(o,t.sort?t.sort():[t]),An(o)}:Tw().includes(r)?function(...t){return r.apply(ta(this),t),An(qp.get(this))}:function(...t){return An(r.apply(ta(this),t))}}function Pw(r){return typeof r=="function"?xw(r):(r instanceof IDBTransaction&&Nw(r),Cw(r,kw())?new Proxy(r,Sa):r)}function An(r){if(r instanceof IDBRequest)return Iw(r);if(ea.has(r))return ea.get(r);const t=Pw(r);return t!==r&&(ea.set(r,t),$a.set(t,r)),t}const ta=r=>$a.get(r);function Dw(r,t,{blocked:i,upgrade:o,blocking:u,terminated:c}={}){const d=indexedDB.open(r,t),p=An(d);return o&&d.addEventListener("upgradeneeded",m=>{o(An(d.result),m.oldVersion,m.newVersion,An(d.transaction),m)}),i&&d.addEventListener("blocked",m=>i(m.oldVersion,m.newVersion,m)),p.then(m=>{c&&m.addEventListener("close",()=>c()),u&&m.addEventListener("versionchange",g=>u(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const Aw=["get","getKey","getAll","getAllKeys","count"],Ow=["put","add","delete","clear"],na=new Map;function Uh(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(na.get(t))return na.get(t);const i=t.replace(/FromIndex$/,""),o=t!==i,u=Ow.includes(i);if(!(i in(o?IDBIndex:IDBObjectStore).prototype)||!(u||Aw.includes(i)))return;const c=async function(d,...p){const m=this.transaction(d,u?"readwrite":"readonly");let g=m.store;return o&&(g=g.index(p.shift())),(await Promise.all([g[i](...p),u&&m.done]))[0]};return na.set(t,c),c}Rw(r=>({...r,get:(t,i,o)=>Uh(t,i)||r.get(t,i,o),has:(t,i)=>!!Uh(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Lw(i)){const o=i.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(i=>i).join(" ")}}function Lw(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Ea="@firebase/app",bh="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an=new Qp("@firebase/app"),Fw="@firebase/app-compat",zw="@firebase/analytics-compat",Uw="@firebase/analytics",bw="@firebase/app-check-compat",jw="@firebase/app-check",Bw="@firebase/auth",Ww="@firebase/auth-compat",Hw="@firebase/database",$w="@firebase/data-connect",Vw="@firebase/database-compat",Gw="@firebase/functions",Kw="@firebase/functions-compat",Qw="@firebase/installations",qw="@firebase/installations-compat",Yw="@firebase/messaging",Xw="@firebase/messaging-compat",Jw="@firebase/performance",Zw="@firebase/performance-compat",eS="@firebase/remote-config",tS="@firebase/remote-config-compat",nS="@firebase/storage",rS="@firebase/storage-compat",iS="@firebase/firestore",sS="@firebase/vertexai",oS="@firebase/firestore-compat",lS="firebase",uS="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca="[DEFAULT]",aS={[Ea]:"fire-core",[Fw]:"fire-core-compat",[Uw]:"fire-analytics",[zw]:"fire-analytics-compat",[jw]:"fire-app-check",[bw]:"fire-app-check-compat",[Bw]:"fire-auth",[Ww]:"fire-auth-compat",[Hw]:"fire-rtdb",[$w]:"fire-data-connect",[Vw]:"fire-rtdb-compat",[Gw]:"fire-fn",[Kw]:"fire-fn-compat",[Qw]:"fire-iid",[qw]:"fire-iid-compat",[Yw]:"fire-fcm",[Xw]:"fire-fcm-compat",[Jw]:"fire-perf",[Zw]:"fire-perf-compat",[eS]:"fire-rc",[tS]:"fire-rc-compat",[nS]:"fire-gcs",[rS]:"fire-gcs-compat",[iS]:"fire-fst",[oS]:"fire-fst-compat",[sS]:"fire-vertex","fire-js":"fire-js",[lS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=new Map,cS=new Map,ka=new Map;function jh(r,t){try{r.container.addComponent(t)}catch(i){an.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Io(r){const t=r.name;if(ka.has(t))return an.debug(`There were multiple attempts to register component ${t}.`),!1;ka.set(t,r);for(const i of To.values())jh(i,r);for(const i of cS.values())jh(i,r);return!0}function fS(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},On=new Gp("app","Firebase",dS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(t,i,o){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Ki("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw On.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS=uS;function Xp(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const o=Object.assign({name:Ca,automaticDataCollectionEnabled:!1},t),u=o.name;if(typeof u!="string"||!u)throw On.create("bad-app-name",{appName:String(u)});if(i||(i=$p()),!i)throw On.create("no-options");const c=To.get(u);if(c){if(va(i,c.options)&&va(o,c.config))return c;throw On.create("duplicate-app",{appName:u})}const d=new yw(u);for(const m of ka.values())d.addComponent(m);const p=new hS(i,o,d);return To.set(u,p),p}function mS(r=Ca){const t=To.get(r);if(!t&&r===Ca&&$p())return Xp();if(!t)throw On.create("no-app",{appName:r});return t}function Mr(r,t,i){var o;let u=(o=aS[r])!==null&&o!==void 0?o:r;i&&(u+=`-${i}`);const c=u.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const p=[`Unable to register library "${u}" with version "${t}":`];c&&p.push(`library name "${u}" contains illegal characters (whitespace or "/")`),c&&d&&p.push("and"),d&&p.push(`version name "${t}" contains illegal characters (whitespace or "/")`),an.warn(p.join(" "));return}Io(new Ki(`${u}-version`,()=>({library:u,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS="firebase-heartbeat-database",_S=1,Qi="firebase-heartbeat-store";let ra=null;function Jp(){return ra||(ra=Dw(gS,_S,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Qi)}catch(i){console.warn(i)}}}}).catch(r=>{throw On.create("idb-open",{originalErrorMessage:r.message})})),ra}async function yS(r){try{const i=(await Jp()).transaction(Qi),o=await i.objectStore(Qi).get(Zp(r));return await i.done,o}catch(t){if(t instanceof Xi)an.warn(t.message);else{const i=On.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});an.warn(i.message)}}}async function Bh(r,t){try{const o=(await Jp()).transaction(Qi,"readwrite");await o.objectStore(Qi).put(t,Zp(r)),await o.done}catch(i){if(i instanceof Xi)an.warn(i.message);else{const o=On.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});an.warn(o.message)}}}function Zp(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS=1024,wS=30*24*60*60*1e3;class SS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new CS(i),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var t,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Wh();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:u}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const p=new Date(d.date).valueOf();return Date.now()-p<=wS}),this._storage.overwrite(this._heartbeatsCache))}catch(o){an.warn(o)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Wh(),{heartbeatsToSend:o,unsentEntries:u}=ES(this._heartbeatsCache.heartbeats),c=Co(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return an.warn(i),""}}}function Wh(){return new Date().toISOString().substring(0,10)}function ES(r,t=vS){const i=[];let o=r.slice();for(const u of r){const c=i.find(d=>d.agent===u.agent);if(c){if(c.dates.push(u.date),Hh(i)>t){c.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),Hh(i)>t){i.pop();break}o=o.slice(1)}return{heartbeatsToSend:i,unsentEntries:o}}class CS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sw()?ow().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await yS(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return Bh(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return Bh(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...t.heartbeats]})}else return}}function Hh(r){return Co(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(r){Io(new Ki("platform-logger",t=>new Mw(t),"PRIVATE")),Io(new Ki("heartbeat",t=>new SS(t),"PRIVATE")),Mr(Ea,bh,r),Mr(Ea,bh,"esm2017"),Mr("fire-js","")}kS("");var $h={};const Vh="@firebase/database",Gh="1.0.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let em="";function TS(r){em=r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,i){i==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Ge(i))}get(t){const i=this.domStorage_.getItem(this.prefixedName_(t));return i==null?null:Gi(i)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,i){i==null?delete this.cache_[t]:this.cache_[t]=i}get(t){return dn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm=function(r){try{if(typeof window<"u"&&typeof window[r]<"u"){const t=window[r];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new IS(t)}}catch{}return new NS},Zn=tm("localStorage"),RS=tm("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr=new Qp("@firebase/database"),xS=function(){let r=1;return function(){return r++}}(),nm=function(r){const t=pw(r),i=new hw;i.update(t);const o=i.digest();return Wa.encodeByteArray(o)},Ji=function(...r){let t="";for(let i=0;i<r.length;i++){const o=r[i];Array.isArray(o)||o&&typeof o=="object"&&typeof o.length=="number"?t+=Ji.apply(null,o):typeof o=="object"?t+=Ge(o):t+=o,t+=" "}return t};let ji=null,Kh=!0;const PS=function(r,t){M(!0,"Can't turn on custom loggers persistently."),Lr.logLevel=ye.VERBOSE,ji=Lr.log.bind(Lr)},Ze=function(...r){if(Kh===!0&&(Kh=!1,ji===null&&RS.get("logging_enabled")===!0&&PS()),ji){const t=Ji.apply(null,r);ji(t)}},Zi=function(r){return function(...t){Ze(r,...t)}},Ta=function(...r){const t="FIREBASE INTERNAL ERROR: "+Ji(...r);Lr.error(t)},cn=function(...r){const t=`FIREBASE FATAL ERROR: ${Ji(...r)}`;throw Lr.error(t),new Error(t)},ft=function(...r){const t="FIREBASE WARNING: "+Ji(...r);Lr.warn(t)},DS=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ft("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},rm=function(r){return typeof r=="number"&&(r!==r||r===Number.POSITIVE_INFINITY||r===Number.NEGATIVE_INFINITY)},AS=function(r){if(document.readyState==="complete")r();else{let t=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}t||(t=!0,r())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},br="[MIN_NAME]",rr="[MAX_NAME]",Hr=function(r,t){if(r===t)return 0;if(r===br||t===rr)return-1;if(t===br||r===rr)return 1;{const i=Qh(r),o=Qh(t);return i!==null?o!==null?i-o===0?r.length-t.length:i-o:-1:o!==null?1:r<t?-1:1}},OS=function(r,t){return r===t?0:r<t?-1:1},Oi=function(r,t){if(t&&r in t)return t[r];throw new Error("Missing required key ("+r+") in object: "+Ge(t))},Va=function(r){if(typeof r!="object"||r===null)return Ge(r);const t=[];for(const o in r)t.push(o);t.sort();let i="{";for(let o=0;o<t.length;o++)o!==0&&(i+=","),i+=Ge(t[o]),i+=":",i+=Va(r[t[o]]);return i+="}",i},im=function(r,t){const i=r.length;if(i<=t)return[r];const o=[];for(let u=0;u<i;u+=t)u+t>i?o.push(r.substring(u,i)):o.push(r.substring(u,u+t));return o};function Nt(r,t){for(const i in r)r.hasOwnProperty(i)&&t(i,r[i])}const sm=function(r){M(!rm(r),"Invalid JSON number");const t=11,i=52,o=(1<<t-1)-1;let u,c,d,p,m;r===0?(c=0,d=0,u=1/r===-1/0?1:0):(u=r<0,r=Math.abs(r),r>=Math.pow(2,1-o)?(p=Math.min(Math.floor(Math.log(r)/Math.LN2),o),c=p+o,d=Math.round(r*Math.pow(2,i-p)-Math.pow(2,i))):(c=0,d=Math.round(r/Math.pow(2,1-o-i))));const g=[];for(m=i;m;m-=1)g.push(d%2?1:0),d=Math.floor(d/2);for(m=t;m;m-=1)g.push(c%2?1:0),c=Math.floor(c/2);g.push(u?1:0),g.reverse();const w=g.join("");let y="";for(m=0;m<64;m+=8){let T=parseInt(w.substr(m,8),2).toString(16);T.length===1&&(T="0"+T),y=y+T}return y.toLowerCase()},MS=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},LS=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},FS=new RegExp("^-?(0*)\\d{1,10}$"),zS=-2147483648,US=2147483647,Qh=function(r){if(FS.test(r)){const t=Number(r);if(t>=zS&&t<=US)return t}return null},$r=function(r){try{r()}catch(t){setTimeout(()=>{const i=t.stack||"";throw ft("Exception was thrown by user callback.",i),t},Math.floor(0))}},bS=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Bi=function(r,t){const i=setTimeout(r,t);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(t,i){this.appName_=t,this.appCheckProvider=i,this.appCheck=i==null?void 0:i.getImmediate({optional:!0}),this.appCheck||i==null||i.get().then(o=>this.appCheck=o)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((i,o)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(i,o):i(null)},0)})}addTokenChangeListener(t){var i;(i=this.appCheckProvider)===null||i===void 0||i.get().then(o=>o.addTokenListener(t))}notifyForInvalidToken(){ft(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(t,i,o){this.appName_=t,this.firebaseOptions_=i,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(u=>this.auth_=u)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(i=>i&&i.code==="auth/token-not-initialized"?(Ze("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,o)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(i,o):i(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(i=>i.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(i=>i.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ft(t)}}class _o{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}_o.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga="5",om="v",lm="s",um="r",am="f",cm=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,fm="ls",dm="p",Ia="ac",hm="websocket",pm="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(t,i,o,u,c=!1,d="",p=!1,m=!1){this.secure=i,this.namespace=o,this.webSocketOnly=u,this.nodeAdmin=c,this.persistenceKey=d,this.includeNamespaceInQueryParams=p,this.isUsingEmulator=m,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Zn.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Zn.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${i}`}}function WS(r){return r.host!==r.internalHost||r.isCustomHost()||r.includeNamespaceInQueryParams}function gm(r,t,i){M(typeof t=="string","typeof type must == string"),M(typeof i=="object","typeof params must == object");let o;if(t===hm)o=(r.secure?"wss://":"ws://")+r.internalHost+"/.ws?";else if(t===pm)o=(r.secure?"https://":"http://")+r.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);WS(r)&&(i.ns=r.namespace);const u=[];return Nt(i,(c,d)=>{u.push(c+"="+d)}),o+u.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(){this.counters_={}}incrementCounter(t,i=1){dn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=i}get(){return Kv(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia={},sa={};function Ka(r){const t=r.toString();return ia[t]||(ia[t]=new HS),ia[t]}function $S(r,t){const i=r.toString();return sa[i]||(sa[i]=t()),sa[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,i){this.closeAfterResponse=t,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,i){for(this.pendingResponses[t]=i;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let u=0;u<o.length;++u)o[u]&&$r(()=>{this.onMessage_(o[u])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh="start",GS="close",KS="pLPCommand",QS="pRTLPCB",_m="id",ym="pw",vm="ser",qS="cb",YS="seg",XS="ts",JS="d",ZS="dframe",wm=1870,Sm=30,eE=wm-Sm,tE=25e3,nE=3e4;class Or{constructor(t,i,o,u,c,d,p){this.connId=t,this.repoInfo=i,this.applicationId=o,this.appCheckToken=u,this.authToken=c,this.transportSessionId=d,this.lastSessionId=p,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Zi(t),this.stats_=Ka(i),this.urlFn=m=>(this.appCheckToken&&(m[Ia]=this.appCheckToken),gm(i,pm,m))}open(t,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new VS(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(nE)),AS(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Qa((...c)=>{const[d,p,m,g,w]=c;if(this.incrementIncomingBytes_(c),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,d===qh)this.id=p,this.password=m;else if(d===GS)p?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(p,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+d)},(...c)=>{const[d,p]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(d,p)},()=>{this.onClosed_()},this.urlFn);const o={};o[qh]="t",o[vm]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(o[qS]=this.scriptTagHolder.uniqueCallbackIdentifier),o[om]=Ga,this.transportSessionId&&(o[lm]=this.transportSessionId),this.lastSessionId&&(o[fm]=this.lastSessionId),this.applicationId&&(o[dm]=this.applicationId),this.appCheckToken&&(o[Ia]=this.appCheckToken),typeof location<"u"&&location.hostname&&cm.test(location.hostname)&&(o[um]=am);const u=this.urlFn(o);this.log_("Connecting via long-poll to "+u),this.scriptTagHolder.addTag(u,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Or.forceAllow_=!0}static forceDisallow(){Or.forceDisallow_=!0}static isAvailable(){return Or.forceAllow_?!0:!Or.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!MS()&&!LS()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const i=Ge(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const o=Bp(i),u=im(o,eE);for(let c=0;c<u.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,u.length,u[c]),this.curSegmentNum++}addDisconnectPingFrame(t,i){this.myDisconnFrame=document.createElement("iframe");const o={};o[ZS]="t",o[_m]=t,o[ym]=i,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const i=Ge(t).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class Qa{constructor(t,i,o,u){this.onDisconnect=o,this.urlFn=u,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=xS(),window[KS+this.uniqueCallbackIdentifier]=t,window[QS+this.uniqueCallbackIdentifier]=i,this.myIFrame=Qa.createIFrame_();let c="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(c='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(p){Ze("frame writing exception"),p.stack&&Ze(p.stack),Ze(p)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Ze("No IE domain setting required")}catch{const o=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,i){for(this.myID=t,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[_m]=this.myID,t[ym]=this.myPW,t[vm]=this.currentSerial;let i=this.urlFn(t),o="",u=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Sm+o.length<=wm;){const d=this.pendingSegs.shift();o=o+"&"+YS+u+"="+d.seg+"&"+XS+u+"="+d.ts+"&"+JS+u+"="+d.d,u++}return i=i+o,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(t,i,o){this.pendingSegs.push({seg:t,ts:i,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(t,i){this.outstandingRequests.add(i);const o=()=>{this.outstandingRequests.delete(i),this.newRequest_()},u=setTimeout(o,Math.floor(tE)),c=()=>{clearTimeout(u),o()};this.addTag(t,c)}addTag(t,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=t,o.onload=o.onreadystatechange=function(){const u=o.readyState;(!u||u==="loaded"||u==="complete")&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),i())},o.onerror=()=>{Ze("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE=16384,iE=45e3;let No=null;typeof MozWebSocket<"u"?No=MozWebSocket:typeof WebSocket<"u"&&(No=WebSocket);class Kt{constructor(t,i,o,u,c,d,p){this.connId=t,this.applicationId=o,this.appCheckToken=u,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Zi(this.connId),this.stats_=Ka(i),this.connURL=Kt.connectionURL_(i,d,p,u,o),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,o,u,c){const d={};return d[om]=Ga,typeof location<"u"&&location.hostname&&cm.test(location.hostname)&&(d[um]=am),i&&(d[lm]=i),o&&(d[fm]=o),u&&(d[Ia]=u),c&&(d[dm]=c),gm(t,hm,d)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Zn.set("previous_websocket_failure",!0);try{let o;iw(),this.mySock=new No(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const u=o.message||o.data;u&&this.log_(u),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const u=o.message||o.data;u&&this.log_(u),this.onClosed_()}}start(){}static forceDisallow(){Kt.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,o=navigator.userAgent.match(i);o&&o.length>1&&parseFloat(o[1])<4.4&&(t=!0)}return!t&&No!==null&&!Kt.forceDisallow_}static previouslyFailed(){return Zn.isInMemoryStorage||Zn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Zn.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const o=Gi(i);this.onMessage(o)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(M(this.frames===null,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const o=this.extractFrameCount_(i);o!==null&&this.appendFrame_(o)}}send(t){this.resetKeepAlive();const i=Ge(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const o=im(i,rE);o.length>1&&this.sendString_(String(o.length));for(let u=0;u<o.length;u++)this.sendString_(o[u])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(iE))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Kt.responsesRequiredToBeHealthy=2;Kt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{static get ALL_TRANSPORTS(){return[Or,Kt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const i=Kt.isAvailable();let o=i&&!Kt.previouslyFailed();if(t.webSocketOnly&&(i||ft("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Kt];else{const u=this.transports_=[];for(const c of qi.ALL_TRANSPORTS)c&&c.isAvailable()&&u.push(c);qi.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}qi.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=6e4,oE=5e3,lE=10*1024,uE=100*1024,oa="t",Yh="d",aE="s",Xh="r",cE="e",Jh="o",Zh="a",ep="n",tp="p",fE="h";class dE{constructor(t,i,o,u,c,d,p,m,g,w){this.id=t,this.repoInfo_=i,this.applicationId_=o,this.appCheckToken_=u,this.authToken_=c,this.onMessage_=d,this.onReady_=p,this.onDisconnect_=m,this.onKill_=g,this.lastSessionId=w,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Zi("c:"+this.id+":"),this.transportManager_=new qi(i),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,o)},Math.floor(0));const u=t.healthyTimeout||0;u>0&&(this.healthyTimeout_=Bi(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>uE?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>lE?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(u)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return i=>{t===this.conn_?this.onConnectionLost_(i):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return i=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(i):t===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(t){const i={t:"d",d:t};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(oa in t){const i=t[oa];i===Zh?this.upgradeIfSecondaryHealthy_():i===Xh?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===Jh&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const i=Oi("t",t),o=Oi("d",t);if(i==="c")this.onSecondaryControl_(o);else if(i==="d")this.pendingDataMessages.push(o);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:tp,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Zh,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:ep,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const i=Oi("t",t),o=Oi("d",t);i==="c"?this.onControl_(o):i==="d"&&this.onDataMessage_(o)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const i=Oi(oa,t);if(Yh in t){const o=t[Yh];if(i===fE){const u=Object.assign({},o);this.repoInfo_.isUsingEmulator&&(u.h=this.repoInfo_.host),this.onHandshake_(u)}else if(i===ep){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let u=0;u<this.pendingDataMessages.length;++u)this.onDataMessage_(this.pendingDataMessages[u]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===aE?this.onConnectionShutdown_(o):i===Xh?this.onReset_(o):i===cE?Ta("Server Error: "+o):i===Jh?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ta("Unknown control packet command: "+i)}}onHandshake_(t){const i=t.ts,o=t.v,u=t.h;this.sessionId=t.s,this.repoInfo_.host=u,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),Ga!==o&&ft("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,o),Bi(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(sE))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,i){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Bi(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(oE))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:tp,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Zn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{put(t,i,o,u){}merge(t,i,o,u){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,i,o){}onDisconnectMerge(t,i,o){}onDisconnectCancel(t,i){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(t){this.allowedEvents_=t,this.listeners_={},M(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...i){if(Array.isArray(this.listeners_[t])){const o=[...this.listeners_[t]];for(let u=0;u<o.length;u++)o[u].callback.apply(o[u].context,i)}}on(t,i,o){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:i,context:o});const u=this.getInitialEvent(t);u&&i.apply(o,u)}off(t,i,o){this.validateEventType_(t);const u=this.listeners_[t]||[];for(let c=0;c<u.length;c++)if(u[c].callback===i&&(!o||o===u[c].context)){u.splice(c,1);return}}validateEventType_(t){M(this.allowedEvents_.find(i=>i===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro extends Cm{static getInstance(){return new Ro}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Vp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return M(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np=32,rp=768;class Ce{constructor(t,i){if(i===void 0){this.pieces_=t.split("/");let o=0;for(let u=0;u<this.pieces_.length;u++)this.pieces_[u].length>0&&(this.pieces_[o]=this.pieces_[u],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=i}toString(){let t="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(t+="/"+this.pieces_[i]);return t||"/"}}function me(){return new Ce("")}function re(r){return r.pieceNum_>=r.pieces_.length?null:r.pieces_[r.pieceNum_]}function Fn(r){return r.pieces_.length-r.pieceNum_}function Ee(r){let t=r.pieceNum_;return t<r.pieces_.length&&t++,new Ce(r.pieces_,t)}function km(r){return r.pieceNum_<r.pieces_.length?r.pieces_[r.pieces_.length-1]:null}function hE(r){let t="";for(let i=r.pieceNum_;i<r.pieces_.length;i++)r.pieces_[i]!==""&&(t+="/"+encodeURIComponent(String(r.pieces_[i])));return t||"/"}function Tm(r,t=0){return r.pieces_.slice(r.pieceNum_+t)}function Im(r){if(r.pieceNum_>=r.pieces_.length)return null;const t=[];for(let i=r.pieceNum_;i<r.pieces_.length-1;i++)t.push(r.pieces_[i]);return new Ce(t,0)}function Le(r,t){const i=[];for(let o=r.pieceNum_;o<r.pieces_.length;o++)i.push(r.pieces_[o]);if(t instanceof Ce)for(let o=t.pieceNum_;o<t.pieces_.length;o++)i.push(t.pieces_[o]);else{const o=t.split("/");for(let u=0;u<o.length;u++)o[u].length>0&&i.push(o[u])}return new Ce(i,0)}function se(r){return r.pieceNum_>=r.pieces_.length}function It(r,t){const i=re(r),o=re(t);if(i===null)return t;if(i===o)return It(Ee(r),Ee(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+r+")")}function Nm(r,t){if(Fn(r)!==Fn(t))return!1;for(let i=r.pieceNum_,o=t.pieceNum_;i<=r.pieces_.length;i++,o++)if(r.pieces_[i]!==t.pieces_[o])return!1;return!0}function Ut(r,t){let i=r.pieceNum_,o=t.pieceNum_;if(Fn(r)>Fn(t))return!1;for(;i<r.pieces_.length;){if(r.pieces_[i]!==t.pieces_[o])return!1;++i,++o}return!0}class pE{constructor(t,i){this.errorPrefix_=i,this.parts_=Tm(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=Bo(this.parts_[o]);Rm(this)}}function mE(r,t){r.parts_.length>0&&(r.byteLength_+=1),r.parts_.push(t),r.byteLength_+=Bo(t),Rm(r)}function gE(r){const t=r.parts_.pop();r.byteLength_-=Bo(t),r.parts_.length>0&&(r.byteLength_-=1)}function Rm(r){if(r.byteLength_>rp)throw new Error(r.errorPrefix_+"has a key path longer than "+rp+" bytes ("+r.byteLength_+").");if(r.parts_.length>np)throw new Error(r.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+np+") or object contains a cycle "+Jn(r))}function Jn(r){return r.parts_.length===0?"":"in property '"+r.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa extends Cm{static getInstance(){return new qa}constructor(){super(["visible"]);let t,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const o=!document[t];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}getInitialEvent(t){return M(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=1e3,_E=60*5*1e3,ip=30*1e3,yE=1.3,vE=3e4,wE="server_kill",sp=3;class ln extends Em{constructor(t,i,o,u,c,d,p,m){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=o,this.onConnectStatus_=u,this.onServerInfoUpdate_=c,this.authTokenProvider_=d,this.appCheckTokenProvider_=p,this.authOverride_=m,this.id=ln.nextPersistentConnectionId_++,this.log_=Zi("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Mi,this.maxReconnectDelay_=_E,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");qa.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Ro.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,o){const u=++this.requestNumber_,c={r:u,a:t,b:i};this.log_(Ge(c)),M(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),o&&(this.requestCBHash_[u]=o)}get(t){this.initConnection_();const i=new jo,u={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:d=>{const p=d.d;d.s==="ok"?i.resolve(p):i.reject(p)}};this.outstandingGets_.push(u),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(c),i.promise}listen(t,i,o,u){this.initConnection_();const c=t._queryIdentifier,d=t._path.toString();this.log_("Listen called for "+d+" "+c),this.listens.has(d)||this.listens.set(d,new Map),M(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),M(!this.listens.get(d).has(c),"listen() called twice for same path/queryId.");const p={onComplete:u,hashFn:i,query:t,tag:o};this.listens.get(d).set(c,p),this.connected_&&this.sendListen_(p)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,o=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(o)})}sendListen_(t){const i=t.query,o=i._path.toString(),u=i._queryIdentifier;this.log_("Listen on "+o+" for "+u);const c={p:o},d="q";t.tag&&(c.q=i._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest(d,c,p=>{const m=p.d,g=p.s;ln.warnOnListenWarnings_(m,i),(this.listens.get(o)&&this.listens.get(o).get(u))===t&&(this.log_("listen response",p),g!=="ok"&&this.removeListen_(o,u),t.onComplete&&t.onComplete(g,m))})}static warnOnListenWarnings_(t,i){if(t&&typeof t=="object"&&dn(t,"w")){const o=Ur(t,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const u='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();ft(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${u} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||fw(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=ip)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=cw(t)?"auth":"gauth",o={cred:t};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(i,o,u=>{const c=u.s,d=u.d||"error";this.authToken_===t&&(c==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,o=t.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,o)})}unlisten(t,i){const o=t._path.toString(),u=t._queryIdentifier;this.log_("Unlisten called for "+o+" "+u),M(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,u)&&this.connected_&&this.sendUnlisten_(o,u,t._queryObject,i)}sendUnlisten_(t,i,o,u){this.log_("Unlisten on "+t+" for "+i);const c={p:t},d="n";u&&(c.q=o,c.t=u),this.sendRequest(d,c)}onDisconnectPut(t,i,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:o})}onDisconnectMerge(t,i,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:o})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,o,u){const c={p:i,d:o};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,d=>{u&&setTimeout(()=>{u(d.s,d.d)},Math.floor(0))})}put(t,i,o,u){this.putInternal("p",t,i,o,u)}merge(t,i,o,u){this.putInternal("m",t,i,o,u)}putInternal(t,i,o,u,c){this.initConnection_();const d={p:i,d:o};c!==void 0&&(d.h=c),this.outstandingPuts_.push({action:t,request:d,onComplete:u}),this.outstandingPutCount_++;const p=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(p):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,o=this.outstandingPuts_[t].request,u=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,o,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),u&&u(c.s,c.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,o=>{if(o.s!=="ok"){const c=o.d;this.log_("reportStats","Error sending stats: "+c)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Ge(t));const i=t.r,o=this.requestCBHash_[i];o&&(delete this.requestCBHash_[i],o(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),t==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):t==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):t==="c"?this.onListenRevoked_(i.p,i.q):t==="ac"?this.onAuthRevoked_(i.s,i.d):t==="apc"?this.onAppCheckRevoked_(i.s,i.d):t==="sd"?this.onSecurityDebugPacket_(i):Ta("Unrecognized action received from server: "+Ge(t)+`
Are you using the latest client?`)}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){M(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Mi,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Mi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>vE&&(this.reconnectDelay_=Mi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*yE)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),u=this.id+":"+ln.nextConnectionId_++,c=this.lastSessionId;let d=!1,p=null;const m=function(){p?p.close():(d=!0,o())},g=function(y){M(p,"sendRequest call when we're not connected not allowed."),p.sendRequest(y)};this.realtime_={close:m,sendRequest:g};const w=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,T]=await Promise.all([this.authTokenProvider_.getToken(w),this.appCheckTokenProvider_.getToken(w)]);d?Ze("getToken() completed but was canceled"):(Ze("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=T&&T.token,p=new dE(u,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,i,o,A=>{ft(A+" ("+this.repoInfo_.toString()+")"),this.interrupt(wE)},c))}catch(y){this.log_("Failed to get token: "+y),d||(this.repoInfo_.nodeAdmin&&ft(y),m())}}}interrupt(t){Ze("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Ze("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Mh(this.interruptReasons_)&&(this.reconnectDelay_=Mi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let o;i?o=i.map(c=>Va(c)).join("$"):o="default";const u=this.removeListen_(t,o);u&&u.onComplete&&u.onComplete("permission_denied")}removeListen_(t,i){const o=new Ce(t).toString();let u;if(this.listens.has(o)){const c=this.listens.get(o);u=c.get(i),c.delete(i),c.size===0&&this.listens.delete(o)}else u=void 0;return u}onAuthRevoked_(t,i){Ze("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=sp&&(this.reconnectDelay_=ip,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){Ze("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=sp&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+em.replace(/\./g,"-")]=1,Vp()?t["framework.cordova"]=1:rw()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Ro.getInstance().currentlyOnline();return Mh(this.interruptReasons_)&&t}}ln.nextPersistentConnectionId_=0;ln.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(t,i){this.name=t,this.node=i}static Wrap(t,i){return new oe(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,i){const o=new oe(br,t),u=new oe(br,i);return this.compare(o,u)!==0}minPost(){return oe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mo;class xm extends Wo{static get __EMPTY_NODE(){return mo}static set __EMPTY_NODE(t){mo=t}compare(t,i){return Hr(t.name,i.name)}isDefinedOn(t){throw Br("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,i){return!1}minPost(){return oe.MIN}maxPost(){return new oe(rr,mo)}makePost(t,i){return M(typeof t=="string","KeyIndex indexValue must always be a string."),new oe(t,mo)}toString(){return".key"}}const Fr=new xm;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(t,i,o,u,c=null){this.isReverse_=u,this.resultGenerator_=c,this.nodeStack_=[];let d=1;for(;!t.isEmpty();)if(t=t,d=i?o(t.key,i):1,u&&(d*=-1),d<0)this.isReverse_?t=t.left:t=t.right;else if(d===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(t.key,t.value):i={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class je{constructor(t,i,o,u,c){this.key=t,this.value=i,this.color=o??je.RED,this.left=u??ct.EMPTY_NODE,this.right=c??ct.EMPTY_NODE}copy(t,i,o,u,c){return new je(t??this.key,i??this.value,o??this.color,u??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,o){let u=this;const c=o(t,u.key);return c<0?u=u.copy(null,null,null,u.left.insert(t,i,o),null):c===0?u=u.copy(null,i,null,null,null):u=u.copy(null,null,null,null,u.right.insert(t,i,o)),u.fixUp_()}removeMin_(){if(this.left.isEmpty())return ct.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let o,u;if(o=this,i(t,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),i(t,o.key)===0){if(o.right.isEmpty())return ct.EMPTY_NODE;u=o.right.min_(),o=o.copy(u.key,u.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,je.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}je.RED=!0;je.BLACK=!1;class SE{copy(t,i,o,u,c){return this}insert(t,i,o){return new je(t,i,null)}remove(t,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ct{constructor(t,i=ct.EMPTY_NODE){this.comparator_=t,this.root_=i}insert(t,i){return new ct(this.comparator_,this.root_.insert(t,i,this.comparator_).copy(null,null,je.BLACK,null,null))}remove(t){return new ct(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,je.BLACK,null,null))}get(t){let i,o=this.root_;for(;!o.isEmpty();){if(i=this.comparator_(t,o.key),i===0)return o.value;i<0?o=o.left:i>0&&(o=o.right)}return null}getPredecessorKey(t){let i,o=this.root_,u=null;for(;!o.isEmpty();)if(i=this.comparator_(t,o.key),i===0){if(o.left.isEmpty())return u?u.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}else i<0?o=o.left:i>0&&(u=o,o=o.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new go(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,i){return new go(this.root_,t,this.comparator_,!1,i)}getReverseIteratorFrom(t,i){return new go(this.root_,t,this.comparator_,!0,i)}getReverseIterator(t){return new go(this.root_,null,this.comparator_,!0,t)}}ct.EMPTY_NODE=new SE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(r,t){return Hr(r.name,t.name)}function Ya(r,t){return Hr(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Na;function CE(r){Na=r}const Pm=function(r){return typeof r=="number"?"number:"+sm(r):"string:"+r},Dm=function(r){if(r.isLeafNode()){const t=r.val();M(typeof t=="string"||typeof t=="number"||typeof t=="object"&&dn(t,".sv"),"Priority must be a string or number.")}else M(r===Na||r.isEmpty(),"priority of unexpected type.");M(r===Na||r.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let op;class be{static set __childrenNodeConstructor(t){op=t}static get __childrenNodeConstructor(){return op}constructor(t,i=be.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,M(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Dm(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new be(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:be.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return se(t)?this:re(t)===".priority"?this.priorityNode_:be.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return t===".priority"?this.updatePriority(i):i.isEmpty()&&t!==".priority"?this:be.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const o=re(t);return o===null?i:i.isEmpty()&&o!==".priority"?this:(M(o!==".priority"||Fn(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(o,be.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ee(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Pm(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",i==="number"?t+=sm(this.value_):t+=this.value_,this.lazyHash_=nm(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===be.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof be.__childrenNodeConstructor?-1:(M(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,o=typeof this.value_,u=be.VALUE_TYPE_ORDER.indexOf(i),c=be.VALUE_TYPE_ORDER.indexOf(o);return M(u>=0,"Unknown leaf type: "+i),M(c>=0,"Unknown leaf type: "+o),u===c?o==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-u}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}be.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Am,Om;function kE(r){Am=r}function TE(r){Om=r}class IE extends Wo{compare(t,i){const o=t.node.getPriority(),u=i.node.getPriority(),c=o.compareTo(u);return c===0?Hr(t.name,i.name):c}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,i){return!t.getPriority().equals(i.getPriority())}minPost(){return oe.MIN}maxPost(){return new oe(rr,new be("[PRIORITY-POST]",Om))}makePost(t,i){const o=Am(t);return new oe(i,new be("[PRIORITY-POST]",o))}toString(){return".priority"}}const et=new IE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=Math.log(2);class RE{constructor(t){const i=c=>parseInt(Math.log(c)/NE,10),o=c=>parseInt(Array(c+1).join("1"),2);this.count=i(t+1),this.current_=this.count-1;const u=o(this.count);this.bits_=t+1&u}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const xo=function(r,t,i,o){r.sort(t);const u=function(m,g){const w=g-m;let y,T;if(w===0)return null;if(w===1)return y=r[m],T=i?i(y):y,new je(T,y.node,je.BLACK,null,null);{const A=parseInt(w/2,10)+m,O=u(m,A),H=u(A+1,g);return y=r[A],T=i?i(y):y,new je(T,y.node,je.BLACK,O,H)}},c=function(m){let g=null,w=null,y=r.length;const T=function(O,H){const z=y-O,ie=y;y-=O;const X=u(z+1,ie),Q=r[z],G=i?i(Q):Q;A(new je(G,Q.node,H,null,X))},A=function(O){g?(g.left=O,g=O):(w=O,g=O)};for(let O=0;O<m.count;++O){const H=m.nextBitIsOne(),z=Math.pow(2,m.count-(O+1));H?T(z,je.BLACK):(T(z,je.BLACK),T(z,je.RED))}return w},d=new RE(r.length),p=c(d);return new ct(o||t,p)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let la;const Li={};class sn{static get Default(){return M(et,"ChildrenNode.ts has not been loaded"),la=la||new sn({".priority":Li},{".priority":et}),la}constructor(t,i){this.indexes_=t,this.indexSet_=i}get(t){const i=Ur(this.indexes_,t);if(!i)throw new Error("No index defined for "+t);return i instanceof ct?i:null}hasIndex(t){return dn(this.indexSet_,t.toString())}addIndex(t,i){M(t!==Fr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let u=!1;const c=i.getIterator(oe.Wrap);let d=c.getNext();for(;d;)u=u||t.isDefinedOn(d.node),o.push(d),d=c.getNext();let p;u?p=xo(o,t.getCompare()):p=Li;const m=t.toString(),g=Object.assign({},this.indexSet_);g[m]=t;const w=Object.assign({},this.indexes_);return w[m]=p,new sn(w,g)}addToIndexes(t,i){const o=ko(this.indexes_,(u,c)=>{const d=Ur(this.indexSet_,c);if(M(d,"Missing index implementation for "+c),u===Li)if(d.isDefinedOn(t.node)){const p=[],m=i.getIterator(oe.Wrap);let g=m.getNext();for(;g;)g.name!==t.name&&p.push(g),g=m.getNext();return p.push(t),xo(p,d.getCompare())}else return Li;else{const p=i.get(t.name);let m=u;return p&&(m=m.remove(new oe(t.name,p))),m.insert(t,t.node)}});return new sn(o,this.indexSet_)}removeFromIndexes(t,i){const o=ko(this.indexes_,u=>{if(u===Li)return u;{const c=i.get(t.name);return c?u.remove(new oe(t.name,c)):u}});return new sn(o,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fi;class fe{static get EMPTY_NODE(){return Fi||(Fi=new fe(new ct(Ya),null,sn.Default))}constructor(t,i,o){this.children_=t,this.priorityNode_=i,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&Dm(this.priorityNode_),this.children_.isEmpty()&&M(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Fi}updatePriority(t){return this.children_.isEmpty()?this:new fe(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const i=this.children_.get(t);return i===null?Fi:i}}getChild(t){const i=re(t);return i===null?this:this.getImmediateChild(i).getChild(Ee(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,i){if(M(i,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(i);{const o=new oe(t,i);let u,c;i.isEmpty()?(u=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(o,this.children_)):(u=this.children_.insert(t,i),c=this.indexMap_.addToIndexes(o,this.children_));const d=u.isEmpty()?Fi:this.priorityNode_;return new fe(u,d,c)}}updateChild(t,i){const o=re(t);if(o===null)return i;{M(re(t)!==".priority"||Fn(t)===1,".priority must be the last token in a path");const u=this.getImmediateChild(o).updateChild(Ee(t),i);return this.updateImmediateChild(o,u)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let o=0,u=0,c=!0;if(this.forEachChild(et,(d,p)=>{i[d]=p.val(t),o++,c&&fe.INTEGER_REGEXP_.test(d)?u=Math.max(u,Number(d)):c=!1}),!t&&c&&u<2*o){const d=[];for(const p in i)d[p]=i[p];return d}else return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+Pm(this.getPriority().val())+":"),this.forEachChild(et,(i,o)=>{const u=o.hash();u!==""&&(t+=":"+i+":"+u)}),this.lazyHash_=t===""?"":nm(t)}return this.lazyHash_}getPredecessorChildName(t,i,o){const u=this.resolveIndex_(o);if(u){const c=u.getPredecessorKey(new oe(t,i));return c?c.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const o=i.minKey();return o&&o.name}else return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new oe(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const o=i.maxKey();return o&&o.name}else return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new oe(i,this.children_.get(i)):null}forEachChild(t,i){const o=this.resolveIndex_(t);return o?o.inorderTraversal(u=>i(u.name,u.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const o=this.resolveIndex_(i);if(o)return o.getIteratorFrom(t,u=>u);{const u=this.children_.getIteratorFrom(t.name,oe.Wrap);let c=u.peek();for(;c!=null&&i.compare(c,t)<0;)u.getNext(),c=u.peek();return u}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const o=this.resolveIndex_(i);if(o)return o.getReverseIteratorFrom(t,u=>u);{const u=this.children_.getReverseIteratorFrom(t.name,oe.Wrap);let c=u.peek();for(;c!=null&&i.compare(c,t)>0;)u.getNext(),c=u.peek();return u}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===es?-1:0}withIndex(t){if(t===Fr||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new fe(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===Fr||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const o=this.getIterator(et),u=i.getIterator(et);let c=o.getNext(),d=u.getNext();for(;c&&d;){if(c.name!==d.name||!c.node.equals(d.node))return!1;c=o.getNext(),d=u.getNext()}return c===null&&d===null}else return!1;else return!1}}resolveIndex_(t){return t===Fr?null:this.indexMap_.get(t.toString())}}fe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class xE extends fe{constructor(){super(new ct(Ya),fe.EMPTY_NODE,sn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return fe.EMPTY_NODE}isEmpty(){return!1}}const es=new xE;Object.defineProperties(oe,{MIN:{value:new oe(br,fe.EMPTY_NODE)},MAX:{value:new oe(rr,es)}});xm.__EMPTY_NODE=fe.EMPTY_NODE;be.__childrenNodeConstructor=fe;CE(es);TE(es);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=!0;function Ve(r,t=null){if(r===null)return fe.EMPTY_NODE;if(typeof r=="object"&&".priority"in r&&(t=r[".priority"]),M(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof r=="object"&&".value"in r&&r[".value"]!==null&&(r=r[".value"]),typeof r!="object"||".sv"in r){const i=r;return new be(i,Ve(t))}if(!(r instanceof Array)&&PE){const i=[];let o=!1;if(Nt(r,(d,p)=>{if(d.substring(0,1)!=="."){const m=Ve(p);m.isEmpty()||(o=o||!m.getPriority().isEmpty(),i.push(new oe(d,m)))}}),i.length===0)return fe.EMPTY_NODE;const c=xo(i,EE,d=>d.name,Ya);if(o){const d=xo(i,et.getCompare());return new fe(c,Ve(t),new sn({".priority":d},{".priority":et}))}else return new fe(c,Ve(t),sn.Default)}else{let i=fe.EMPTY_NODE;return Nt(r,(o,u)=>{if(dn(r,o)&&o.substring(0,1)!=="."){const c=Ve(u);(c.isLeafNode()||!c.isEmpty())&&(i=i.updateImmediateChild(o,c))}}),i.updatePriority(Ve(t))}}kE(Ve);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE extends Wo{constructor(t){super(),this.indexPath_=t,M(!se(t)&&re(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,i){const o=this.extractChild(t.node),u=this.extractChild(i.node),c=o.compareTo(u);return c===0?Hr(t.name,i.name):c}makePost(t,i){const o=Ve(t),u=fe.EMPTY_NODE.updateChild(this.indexPath_,o);return new oe(i,u)}maxPost(){const t=fe.EMPTY_NODE.updateChild(this.indexPath_,es);return new oe(rr,t)}toString(){return Tm(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE extends Wo{compare(t,i){const o=t.node.compareTo(i.node);return o===0?Hr(t.name,i.name):o}isDefinedOn(t){return!0}indexedValueChanged(t,i){return!t.equals(i)}minPost(){return oe.MIN}maxPost(){return oe.MAX}makePost(t,i){const o=Ve(t);return new oe(i,o)}toString(){return".value"}}const OE=new AE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(r){return{type:"value",snapshotNode:r}}function LE(r,t){return{type:"child_added",snapshotNode:t,childName:r}}function FE(r,t){return{type:"child_removed",snapshotNode:t,childName:r}}function lp(r,t,i){return{type:"child_changed",snapshotNode:t,childName:r,oldSnap:i}}function zE(r,t){return{type:"child_moved",snapshotNode:t,childName:r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=et}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return M(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return M(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:br}hasEnd(){return this.endSet_}getIndexEndValue(){return M(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return M(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:rr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return M(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===et}copy(){const t=new Xa;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function up(r){const t={};if(r.isDefault())return t;let i;if(r.index_===et?i="$priority":r.index_===OE?i="$value":r.index_===Fr?i="$key":(M(r.index_ instanceof DE,"Unrecognized index type!"),i=r.index_.toString()),t.orderBy=Ge(i),r.startSet_){const o=r.startAfterSet_?"startAfter":"startAt";t[o]=Ge(r.indexStartValue_),r.startNameSet_&&(t[o]+=","+Ge(r.indexStartName_))}if(r.endSet_){const o=r.endBeforeSet_?"endBefore":"endAt";t[o]=Ge(r.indexEndValue_),r.endNameSet_&&(t[o]+=","+Ge(r.indexEndName_))}return r.limitSet_&&(r.isViewFromLeft()?t.limitToFirst=r.limit_:t.limitToLast=r.limit_),t}function ap(r){const t={};if(r.startSet_&&(t.sp=r.indexStartValue_,r.startNameSet_&&(t.sn=r.indexStartName_),t.sin=!r.startAfterSet_),r.endSet_&&(t.ep=r.indexEndValue_,r.endNameSet_&&(t.en=r.indexEndName_),t.ein=!r.endBeforeSet_),r.limitSet_){t.l=r.limit_;let i=r.viewFrom_;i===""&&(r.isViewFromLeft()?i="l":i="r"),t.vf=i}return r.index_!==et&&(t.i=r.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po extends Em{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,i){return i!==void 0?"tag$"+i:(M(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,i,o,u){super(),this.repoInfo_=t,this.onDataUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=u,this.log_=Zi("p:rest:"),this.listens_={}}listen(t,i,o,u){const c=t._path.toString();this.log_("Listen called for "+c+" "+t._queryIdentifier);const d=Po.getListenId_(t,o),p={};this.listens_[d]=p;const m=up(t._queryParams);this.restRequest_(c+".json",m,(g,w)=>{let y=w;if(g===404&&(y=null,g=null),g===null&&this.onDataUpdate_(c,y,!1,o),Ur(this.listens_,d)===p){let T;g?g===401?T="permission_denied":T="rest_error:"+g:T="ok",u(T,null)}})}unlisten(t,i){const o=Po.getListenId_(t,i);delete this.listens_[o]}get(t){const i=up(t._queryParams),o=t._path.toString(),u=new jo;return this.restRequest_(o+".json",i,(c,d)=>{let p=d;c===404&&(p=null,c=null),c===null?(this.onDataUpdate_(o,p,!1,null),u.resolve(p)):u.reject(new Error(p))}),u.promise}refreshAuthToken(t){}restRequest_(t,i={},o){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([u,c])=>{u&&u.accessToken&&(i.auth=u.accessToken),c&&c.token&&(i.ac=c.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+dw(i);this.log_("Sending REST request for "+d);const p=new XMLHttpRequest;p.onreadystatechange=()=>{if(o&&p.readyState===4){this.log_("REST Response for "+d+" received. status:",p.status,"response:",p.responseText);let m=null;if(p.status>=200&&p.status<300){try{m=Gi(p.responseText)}catch{ft("Failed to parse JSON response for "+d+": "+p.responseText)}o(null,m)}else p.status!==401&&p.status!==404&&ft("Got unsuccessful REST response for "+d+" Status: "+p.status),o(p.status);o=null}},p.open("GET",d,!0),p.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(){this.rootNode_=fe.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,i){this.rootNode_=this.rootNode_.updateChild(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Do(){return{value:null,children:new Map}}function Mm(r,t,i){if(se(t))r.value=i,r.children.clear();else if(r.value!==null)r.value=r.value.updateChild(t,i);else{const o=re(t);r.children.has(o)||r.children.set(o,Do());const u=r.children.get(o);t=Ee(t),Mm(u,t,i)}}function Ra(r,t,i){r.value!==null?i(t,r.value):bE(r,(o,u)=>{const c=new Ce(t.toString()+"/"+o);Ra(u,c,i)})}function bE(r,t){r.children.forEach((i,o)=>{t(o,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),i=Object.assign({},t);return this.last_&&Nt(this.last_,(o,u)=>{i[o]=i[o]-u}),this.last_=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp=10*1e3,BE=30*1e3,WE=5*60*1e3;class HE{constructor(t,i){this.server_=i,this.statsToReport_={},this.statsListener_=new jE(t);const o=cp+(BE-cp)*Math.random();Bi(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const t=this.statsListener_.get(),i={};let o=!1;Nt(t,(u,c)=>{c>0&&dn(this.statsToReport_,u)&&(i[u]=c,o=!0)}),o&&this.server_.reportStats(i),Bi(this.reportStats_.bind(this),Math.floor(Math.random()*2*WE))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt;(function(r){r[r.OVERWRITE=0]="OVERWRITE",r[r.MERGE=1]="MERGE",r[r.ACK_USER_WRITE=2]="ACK_USER_WRITE",r[r.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Qt||(Qt={}));function Lm(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Fm(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function zm(r){return{fromUser:!1,fromServer:!0,queryId:r,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(t,i,o){this.path=t,this.affectedTree=i,this.revert=o,this.type=Qt.ACK_USER_WRITE,this.source=Lm()}operationForChild(t){if(se(this.path)){if(this.affectedTree.value!=null)return M(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Ce(t));return new Ao(me(),i,this.revert)}}else return M(re(this.path)===t,"operationForChild called for unrelated child."),new Ao(Ee(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(t,i,o){this.source=t,this.path=i,this.snap=o,this.type=Qt.OVERWRITE}operationForChild(t){return se(this.path)?new ir(this.source,me(),this.snap.getImmediateChild(t)):new ir(this.source,Ee(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(t,i,o){this.source=t,this.path=i,this.children=o,this.type=Qt.MERGE}operationForChild(t){if(se(this.path)){const i=this.children.subtree(new Ce(t));return i.isEmpty()?null:i.value?new ir(this.source,me(),i.value):new Yi(this.source,me(),i)}else return M(re(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Yi(this.source,Ee(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(t,i,o){this.node_=t,this.fullyInitialized_=i,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(se(t))return this.isFullyInitialized()&&!this.filtered_;const i=re(t);return this.isCompleteForChild(i)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}function $E(r,t,i,o){const u=[],c=[];return t.forEach(d=>{d.type==="child_changed"&&r.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&c.push(zE(d.childName,d.snapshotNode))}),zi(r,u,"child_removed",t,o,i),zi(r,u,"child_added",t,o,i),zi(r,u,"child_moved",c,o,i),zi(r,u,"child_changed",t,o,i),zi(r,u,"value",t,o,i),u}function zi(r,t,i,o,u,c){const d=o.filter(p=>p.type===i);d.sort((p,m)=>GE(r,p,m)),d.forEach(p=>{const m=VE(r,p,c);u.forEach(g=>{g.respondsTo(p.type)&&t.push(g.createEvent(m,r.query_))})})}function VE(r,t,i){return t.type==="value"||t.type==="child_removed"||(t.prevName=i.getPredecessorChildName(t.childName,t.snapshotNode,r.index_)),t}function GE(r,t,i){if(t.childName==null||i.childName==null)throw Br("Should only compare child_ events.");const o=new oe(t.childName,t.snapshotNode),u=new oe(i.childName,i.snapshotNode);return r.index_.compare(o,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(r,t){return{eventCache:r,serverCache:t}}function Wi(r,t,i,o){return Um(new Ja(t,i,o),r.serverCache)}function bm(r,t,i,o){return Um(r.eventCache,new Ja(t,i,o))}function xa(r){return r.eventCache.isFullyInitialized()?r.eventCache.getNode():null}function sr(r){return r.serverCache.isFullyInitialized()?r.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ua;const KE=()=>(ua||(ua=new ct(OS)),ua);class Se{static fromObject(t){let i=new Se(null);return Nt(t,(o,u)=>{i=i.set(new Ce(o),u)}),i}constructor(t,i=KE()){this.value=t,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,i){if(this.value!=null&&i(this.value))return{path:me(),value:this.value};if(se(t))return null;{const o=re(t),u=this.children.get(o);if(u!==null){const c=u.findRootMostMatchingPathAndValue(Ee(t),i);return c!=null?{path:Le(new Ce(o),c.path),value:c.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(se(t))return this;{const i=re(t),o=this.children.get(i);return o!==null?o.subtree(Ee(t)):new Se(null)}}set(t,i){if(se(t))return new Se(i,this.children);{const o=re(t),c=(this.children.get(o)||new Se(null)).set(Ee(t),i),d=this.children.insert(o,c);return new Se(this.value,d)}}remove(t){if(se(t))return this.children.isEmpty()?new Se(null):new Se(null,this.children);{const i=re(t),o=this.children.get(i);if(o){const u=o.remove(Ee(t));let c;return u.isEmpty()?c=this.children.remove(i):c=this.children.insert(i,u),this.value===null&&c.isEmpty()?new Se(null):new Se(this.value,c)}else return this}}get(t){if(se(t))return this.value;{const i=re(t),o=this.children.get(i);return o?o.get(Ee(t)):null}}setTree(t,i){if(se(t))return i;{const o=re(t),c=(this.children.get(o)||new Se(null)).setTree(Ee(t),i);let d;return c.isEmpty()?d=this.children.remove(o):d=this.children.insert(o,c),new Se(this.value,d)}}fold(t){return this.fold_(me(),t)}fold_(t,i){const o={};return this.children.inorderTraversal((u,c)=>{o[u]=c.fold_(Le(t,u),i)}),i(t,this.value,o)}findOnPath(t,i){return this.findOnPath_(t,me(),i)}findOnPath_(t,i,o){const u=this.value?o(i,this.value):!1;if(u)return u;if(se(t))return null;{const c=re(t),d=this.children.get(c);return d?d.findOnPath_(Ee(t),Le(i,c),o):null}}foreachOnPath(t,i){return this.foreachOnPath_(t,me(),i)}foreachOnPath_(t,i,o){if(se(t))return this;{this.value&&o(i,this.value);const u=re(t),c=this.children.get(u);return c?c.foreachOnPath_(Ee(t),Le(i,u),o):new Se(null)}}foreach(t){this.foreach_(me(),t)}foreach_(t,i){this.children.inorderTraversal((o,u)=>{u.foreach_(Le(t,o),i)}),this.value&&i(t,this.value)}foreachChild(t){this.children.inorderTraversal((i,o)=>{o.value&&t(i,o.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(t){this.writeTree_=t}static empty(){return new bt(new Se(null))}}function Hi(r,t,i){if(se(t))return new bt(new Se(i));{const o=r.writeTree_.findRootMostValueAndPath(t);if(o!=null){const u=o.path;let c=o.value;const d=It(u,t);return c=c.updateChild(d,i),new bt(r.writeTree_.set(u,c))}else{const u=new Se(i),c=r.writeTree_.setTree(t,u);return new bt(c)}}}function fp(r,t,i){let o=r;return Nt(i,(u,c)=>{o=Hi(o,Le(t,u),c)}),o}function dp(r,t){if(se(t))return bt.empty();{const i=r.writeTree_.setTree(t,new Se(null));return new bt(i)}}function Pa(r,t){return or(r,t)!=null}function or(r,t){const i=r.writeTree_.findRootMostValueAndPath(t);return i!=null?r.writeTree_.get(i.path).getChild(It(i.path,t)):null}function hp(r){const t=[],i=r.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(et,(o,u)=>{t.push(new oe(o,u))}):r.writeTree_.children.inorderTraversal((o,u)=>{u.value!=null&&t.push(new oe(o,u.value))}),t}function Mn(r,t){if(se(t))return r;{const i=or(r,t);return i!=null?new bt(new Se(i)):new bt(r.writeTree_.subtree(t))}}function Da(r){return r.writeTree_.isEmpty()}function jr(r,t){return jm(me(),r.writeTree_,t)}function jm(r,t,i){if(t.value!=null)return i.updateChild(r,t.value);{let o=null;return t.children.inorderTraversal((u,c)=>{u===".priority"?(M(c.value!==null,"Priority writes must always be leaf nodes"),o=c.value):i=jm(Le(r,u),c,i)}),!i.getChild(r).isEmpty()&&o!==null&&(i=i.updateChild(Le(r,".priority"),o)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(r,t){return Gm(t,r)}function QE(r,t,i,o,u){M(o>r.lastWriteId,"Stacking an older write on top of newer ones"),u===void 0&&(u=!0),r.allWrites.push({path:t,snap:i,writeId:o,visible:u}),u&&(r.visibleWrites=Hi(r.visibleWrites,t,i)),r.lastWriteId=o}function qE(r,t){for(let i=0;i<r.allWrites.length;i++){const o=r.allWrites[i];if(o.writeId===t)return o}return null}function YE(r,t){const i=r.allWrites.findIndex(p=>p.writeId===t);M(i>=0,"removeWrite called with nonexistent writeId.");const o=r.allWrites[i];r.allWrites.splice(i,1);let u=o.visible,c=!1,d=r.allWrites.length-1;for(;u&&d>=0;){const p=r.allWrites[d];p.visible&&(d>=i&&XE(p,o.path)?u=!1:Ut(o.path,p.path)&&(c=!0)),d--}if(u){if(c)return JE(r),!0;if(o.snap)r.visibleWrites=dp(r.visibleWrites,o.path);else{const p=o.children;Nt(p,m=>{r.visibleWrites=dp(r.visibleWrites,Le(o.path,m))})}return!0}else return!1}function XE(r,t){if(r.snap)return Ut(r.path,t);for(const i in r.children)if(r.children.hasOwnProperty(i)&&Ut(Le(r.path,i),t))return!0;return!1}function JE(r){r.visibleWrites=Wm(r.allWrites,ZE,me()),r.allWrites.length>0?r.lastWriteId=r.allWrites[r.allWrites.length-1].writeId:r.lastWriteId=-1}function ZE(r){return r.visible}function Wm(r,t,i){let o=bt.empty();for(let u=0;u<r.length;++u){const c=r[u];if(t(c)){const d=c.path;let p;if(c.snap)Ut(i,d)?(p=It(i,d),o=Hi(o,p,c.snap)):Ut(d,i)&&(p=It(d,i),o=Hi(o,me(),c.snap.getChild(p)));else if(c.children){if(Ut(i,d))p=It(i,d),o=fp(o,p,c.children);else if(Ut(d,i))if(p=It(d,i),se(p))o=fp(o,me(),c.children);else{const m=Ur(c.children,re(p));if(m){const g=m.getChild(Ee(p));o=Hi(o,me(),g)}}}else throw Br("WriteRecord should have .snap or .children")}}return o}function Hm(r,t,i,o,u){if(!o&&!u){const c=or(r.visibleWrites,t);if(c!=null)return c;{const d=Mn(r.visibleWrites,t);if(Da(d))return i;if(i==null&&!Pa(d,me()))return null;{const p=i||fe.EMPTY_NODE;return jr(d,p)}}}else{const c=Mn(r.visibleWrites,t);if(!u&&Da(c))return i;if(!u&&i==null&&!Pa(c,me()))return null;{const d=function(g){return(g.visible||u)&&(!o||!~o.indexOf(g.writeId))&&(Ut(g.path,t)||Ut(t,g.path))},p=Wm(r.allWrites,d,t),m=i||fe.EMPTY_NODE;return jr(p,m)}}}function eC(r,t,i){let o=fe.EMPTY_NODE;const u=or(r.visibleWrites,t);if(u)return u.isLeafNode()||u.forEachChild(et,(c,d)=>{o=o.updateImmediateChild(c,d)}),o;if(i){const c=Mn(r.visibleWrites,t);return i.forEachChild(et,(d,p)=>{const m=jr(Mn(c,new Ce(d)),p);o=o.updateImmediateChild(d,m)}),hp(c).forEach(d=>{o=o.updateImmediateChild(d.name,d.node)}),o}else{const c=Mn(r.visibleWrites,t);return hp(c).forEach(d=>{o=o.updateImmediateChild(d.name,d.node)}),o}}function tC(r,t,i,o,u){M(o||u,"Either existingEventSnap or existingServerSnap must exist");const c=Le(t,i);if(Pa(r.visibleWrites,c))return null;{const d=Mn(r.visibleWrites,c);return Da(d)?u.getChild(i):jr(d,u.getChild(i))}}function nC(r,t,i,o){const u=Le(t,i),c=or(r.visibleWrites,u);if(c!=null)return c;if(o.isCompleteForChild(i)){const d=Mn(r.visibleWrites,u);return jr(d,o.getNode().getImmediateChild(i))}else return null}function rC(r,t){return or(r.visibleWrites,t)}function iC(r,t,i,o,u,c,d){let p;const m=Mn(r.visibleWrites,t),g=or(m,me());if(g!=null)p=g;else if(i!=null)p=jr(m,i);else return[];if(p=p.withIndex(d),!p.isEmpty()&&!p.isLeafNode()){const w=[],y=d.getCompare(),T=c?p.getReverseIteratorFrom(o,d):p.getIteratorFrom(o,d);let A=T.getNext();for(;A&&w.length<u;)y(A,o)!==0&&w.push(A),A=T.getNext();return w}else return[]}function sC(){return{visibleWrites:bt.empty(),allWrites:[],lastWriteId:-1}}function Aa(r,t,i,o){return Hm(r.writeTree,r.treePath,t,i,o)}function $m(r,t){return eC(r.writeTree,r.treePath,t)}function pp(r,t,i,o){return tC(r.writeTree,r.treePath,t,i,o)}function Oo(r,t){return rC(r.writeTree,Le(r.treePath,t))}function oC(r,t,i,o,u,c){return iC(r.writeTree,r.treePath,t,i,o,u,c)}function Za(r,t,i){return nC(r.writeTree,r.treePath,t,i)}function Vm(r,t){return Gm(Le(r.treePath,t),r.writeTree)}function Gm(r,t){return{treePath:r,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(){this.changeMap=new Map}trackChildChange(t){const i=t.type,o=t.childName;M(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),M(o!==".priority","Only non-priority child changes can be tracked.");const u=this.changeMap.get(o);if(u){const c=u.type;if(i==="child_added"&&c==="child_removed")this.changeMap.set(o,lp(o,t.snapshotNode,u.snapshotNode));else if(i==="child_removed"&&c==="child_added")this.changeMap.delete(o);else if(i==="child_removed"&&c==="child_changed")this.changeMap.set(o,FE(o,u.oldSnap));else if(i==="child_changed"&&c==="child_added")this.changeMap.set(o,LE(o,t.snapshotNode));else if(i==="child_changed"&&c==="child_changed")this.changeMap.set(o,lp(o,t.snapshotNode,u.oldSnap));else throw Br("Illegal combination of changes: "+t+" occurred after "+u)}else this.changeMap.set(o,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{getCompleteChild(t){return null}getChildAfterChild(t,i,o){return null}}const Km=new uC;class ec{constructor(t,i,o=null){this.writes_=t,this.viewCache_=i,this.optCompleteServerCache_=o}getCompleteChild(t){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(t))return i.getNode().getImmediateChild(t);{const o=this.optCompleteServerCache_!=null?new Ja(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Za(this.writes_,t,o)}}getChildAfterChild(t,i,o){const u=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:sr(this.viewCache_),c=oC(this.writes_,u,i,1,o,t);return c.length===0?null:c[0]}}function aC(r,t){M(t.eventCache.getNode().isIndexed(r.filter.getIndex()),"Event snap not indexed"),M(t.serverCache.getNode().isIndexed(r.filter.getIndex()),"Server snap not indexed")}function cC(r,t,i,o,u){const c=new lC;let d,p;if(i.type===Qt.OVERWRITE){const g=i;g.source.fromUser?d=Oa(r,t,g.path,g.snap,o,u,c):(M(g.source.fromServer,"Unknown source."),p=g.source.tagged||t.serverCache.isFiltered()&&!se(g.path),d=Mo(r,t,g.path,g.snap,o,u,p,c))}else if(i.type===Qt.MERGE){const g=i;g.source.fromUser?d=dC(r,t,g.path,g.children,o,u,c):(M(g.source.fromServer,"Unknown source."),p=g.source.tagged||t.serverCache.isFiltered(),d=Ma(r,t,g.path,g.children,o,u,p,c))}else if(i.type===Qt.ACK_USER_WRITE){const g=i;g.revert?d=mC(r,t,g.path,o,u,c):d=hC(r,t,g.path,g.affectedTree,o,u,c)}else if(i.type===Qt.LISTEN_COMPLETE)d=pC(r,t,i.path,o,c);else throw Br("Unknown operation type: "+i.type);const m=c.getChanges();return fC(t,d,m),{viewCache:d,changes:m}}function fC(r,t,i){const o=t.eventCache;if(o.isFullyInitialized()){const u=o.getNode().isLeafNode()||o.getNode().isEmpty(),c=xa(r);(i.length>0||!r.eventCache.isFullyInitialized()||u&&!o.getNode().equals(c)||!o.getNode().getPriority().equals(c.getPriority()))&&i.push(ME(xa(t)))}}function Qm(r,t,i,o,u,c){const d=t.eventCache;if(Oo(o,i)!=null)return t;{let p,m;if(se(i))if(M(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const g=sr(t),w=g instanceof fe?g:fe.EMPTY_NODE,y=$m(o,w);p=r.filter.updateFullNode(t.eventCache.getNode(),y,c)}else{const g=Aa(o,sr(t));p=r.filter.updateFullNode(t.eventCache.getNode(),g,c)}else{const g=re(i);if(g===".priority"){M(Fn(i)===1,"Can't have a priority with additional path components");const w=d.getNode();m=t.serverCache.getNode();const y=pp(o,i,w,m);y!=null?p=r.filter.updatePriority(w,y):p=d.getNode()}else{const w=Ee(i);let y;if(d.isCompleteForChild(g)){m=t.serverCache.getNode();const T=pp(o,i,d.getNode(),m);T!=null?y=d.getNode().getImmediateChild(g).updateChild(w,T):y=d.getNode().getImmediateChild(g)}else y=Za(o,g,t.serverCache);y!=null?p=r.filter.updateChild(d.getNode(),g,y,w,u,c):p=d.getNode()}}return Wi(t,p,d.isFullyInitialized()||se(i),r.filter.filtersNodes())}}function Mo(r,t,i,o,u,c,d,p){const m=t.serverCache;let g;const w=d?r.filter:r.filter.getIndexedFilter();if(se(i))g=w.updateFullNode(m.getNode(),o,null);else if(w.filtersNodes()&&!m.isFiltered()){const A=m.getNode().updateChild(i,o);g=w.updateFullNode(m.getNode(),A,null)}else{const A=re(i);if(!m.isCompleteForPath(i)&&Fn(i)>1)return t;const O=Ee(i),z=m.getNode().getImmediateChild(A).updateChild(O,o);A===".priority"?g=w.updatePriority(m.getNode(),z):g=w.updateChild(m.getNode(),A,z,O,Km,null)}const y=bm(t,g,m.isFullyInitialized()||se(i),w.filtersNodes()),T=new ec(u,y,c);return Qm(r,y,i,u,T,p)}function Oa(r,t,i,o,u,c,d){const p=t.eventCache;let m,g;const w=new ec(u,t,c);if(se(i))g=r.filter.updateFullNode(t.eventCache.getNode(),o,d),m=Wi(t,g,!0,r.filter.filtersNodes());else{const y=re(i);if(y===".priority")g=r.filter.updatePriority(t.eventCache.getNode(),o),m=Wi(t,g,p.isFullyInitialized(),p.isFiltered());else{const T=Ee(i),A=p.getNode().getImmediateChild(y);let O;if(se(T))O=o;else{const H=w.getCompleteChild(y);H!=null?km(T)===".priority"&&H.getChild(Im(T)).isEmpty()?O=H:O=H.updateChild(T,o):O=fe.EMPTY_NODE}if(A.equals(O))m=t;else{const H=r.filter.updateChild(p.getNode(),y,O,T,w,d);m=Wi(t,H,p.isFullyInitialized(),r.filter.filtersNodes())}}}return m}function mp(r,t){return r.eventCache.isCompleteForChild(t)}function dC(r,t,i,o,u,c,d){let p=t;return o.foreach((m,g)=>{const w=Le(i,m);mp(t,re(w))&&(p=Oa(r,p,w,g,u,c,d))}),o.foreach((m,g)=>{const w=Le(i,m);mp(t,re(w))||(p=Oa(r,p,w,g,u,c,d))}),p}function gp(r,t,i){return i.foreach((o,u)=>{t=t.updateChild(o,u)}),t}function Ma(r,t,i,o,u,c,d,p){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let m=t,g;se(i)?g=o:g=new Se(null).setTree(i,o);const w=t.serverCache.getNode();return g.children.inorderTraversal((y,T)=>{if(w.hasChild(y)){const A=t.serverCache.getNode().getImmediateChild(y),O=gp(r,A,T);m=Mo(r,m,new Ce(y),O,u,c,d,p)}}),g.children.inorderTraversal((y,T)=>{const A=!t.serverCache.isCompleteForChild(y)&&T.value===null;if(!w.hasChild(y)&&!A){const O=t.serverCache.getNode().getImmediateChild(y),H=gp(r,O,T);m=Mo(r,m,new Ce(y),H,u,c,d,p)}}),m}function hC(r,t,i,o,u,c,d){if(Oo(u,i)!=null)return t;const p=t.serverCache.isFiltered(),m=t.serverCache;if(o.value!=null){if(se(i)&&m.isFullyInitialized()||m.isCompleteForPath(i))return Mo(r,t,i,m.getNode().getChild(i),u,c,p,d);if(se(i)){let g=new Se(null);return m.getNode().forEachChild(Fr,(w,y)=>{g=g.set(new Ce(w),y)}),Ma(r,t,i,g,u,c,p,d)}else return t}else{let g=new Se(null);return o.foreach((w,y)=>{const T=Le(i,w);m.isCompleteForPath(T)&&(g=g.set(w,m.getNode().getChild(T)))}),Ma(r,t,i,g,u,c,p,d)}}function pC(r,t,i,o,u){const c=t.serverCache,d=bm(t,c.getNode(),c.isFullyInitialized()||se(i),c.isFiltered());return Qm(r,d,i,o,Km,u)}function mC(r,t,i,o,u,c){let d;if(Oo(o,i)!=null)return t;{const p=new ec(o,t,u),m=t.eventCache.getNode();let g;if(se(i)||re(i)===".priority"){let w;if(t.serverCache.isFullyInitialized())w=Aa(o,sr(t));else{const y=t.serverCache.getNode();M(y instanceof fe,"serverChildren would be complete if leaf node"),w=$m(o,y)}w=w,g=r.filter.updateFullNode(m,w,c)}else{const w=re(i);let y=Za(o,w,t.serverCache);y==null&&t.serverCache.isCompleteForChild(w)&&(y=m.getImmediateChild(w)),y!=null?g=r.filter.updateChild(m,w,y,Ee(i),p,c):t.eventCache.getNode().hasChild(w)?g=r.filter.updateChild(m,w,fe.EMPTY_NODE,Ee(i),p,c):g=m,g.isEmpty()&&t.serverCache.isFullyInitialized()&&(d=Aa(o,sr(t)),d.isLeafNode()&&(g=r.filter.updateFullNode(g,d,c)))}return d=t.serverCache.isFullyInitialized()||Oo(o,me())!=null,Wi(t,g,d,r.filter.filtersNodes())}}function gC(r,t){const i=sr(r.viewCache_);return i&&(r.query._queryParams.loadsAllData()||!se(t)&&!i.getImmediateChild(re(t)).isEmpty())?i.getChild(t):null}function _p(r,t,i,o){t.type===Qt.MERGE&&t.source.queryId!==null&&(M(sr(r.viewCache_),"We should always have a full cache before handling merges"),M(xa(r.viewCache_),"Missing event cache, even though we have a server cache"));const u=r.viewCache_,c=cC(r.processor_,u,t,i,o);return aC(r.processor_,c.viewCache),M(c.viewCache.serverCache.isFullyInitialized()||!u.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),r.viewCache_=c.viewCache,_C(r,c.changes,c.viewCache.eventCache.getNode())}function _C(r,t,i,o){const u=r.eventRegistrations_;return $E(r.eventGenerator_,t,i,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yp;function yC(r){M(!yp,"__referenceConstructor has already been defined"),yp=r}function tc(r,t,i,o){const u=t.source.queryId;if(u!==null){const c=r.views.get(u);return M(c!=null,"SyncTree gave us an op for an invalid query."),_p(c,t,i,o)}else{let c=[];for(const d of r.views.values())c=c.concat(_p(d,t,i,o));return c}}function nc(r,t){let i=null;for(const o of r.views.values())i=i||gC(o,t);return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vp;function vC(r){M(!vp,"__referenceConstructor has already been defined"),vp=r}class wp{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Se(null),this.pendingWriteTree_=sC(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function qm(r,t,i,o,u){return QE(r.pendingWriteTree_,t,i,o,u),u?$o(r,new ir(Lm(),t,i)):[]}function er(r,t,i=!1){const o=qE(r.pendingWriteTree_,t);if(YE(r.pendingWriteTree_,t)){let c=new Se(null);return o.snap!=null?c=c.set(me(),!0):Nt(o.children,d=>{c=c.set(new Ce(d),!0)}),$o(r,new Ao(o.path,c,i))}else return[]}function Ho(r,t,i){return $o(r,new ir(Fm(),t,i))}function wC(r,t,i){const o=Se.fromObject(i);return $o(r,new Yi(Fm(),t,o))}function SC(r,t,i,o){const u=Jm(r,o);if(u!=null){const c=Zm(u),d=c.path,p=c.queryId,m=It(d,t),g=new ir(zm(p),m,i);return eg(r,d,g)}else return[]}function EC(r,t,i,o){const u=Jm(r,o);if(u){const c=Zm(u),d=c.path,p=c.queryId,m=It(d,t),g=Se.fromObject(i),w=new Yi(zm(p),m,g);return eg(r,d,w)}else return[]}function rc(r,t,i){const u=r.pendingWriteTree_,c=r.syncPointTree_.findOnPath(t,(d,p)=>{const m=It(d,t),g=nc(p,m);if(g)return g});return Hm(u,t,c,i,!0)}function $o(r,t){return Ym(t,r.syncPointTree_,null,Bm(r.pendingWriteTree_,me()))}function Ym(r,t,i,o){if(se(r.path))return Xm(r,t,i,o);{const u=t.get(me());i==null&&u!=null&&(i=nc(u,me()));let c=[];const d=re(r.path),p=r.operationForChild(d),m=t.children.get(d);if(m&&p){const g=i?i.getImmediateChild(d):null,w=Vm(o,d);c=c.concat(Ym(p,m,g,w))}return u&&(c=c.concat(tc(u,r,o,i))),c}}function Xm(r,t,i,o){const u=t.get(me());i==null&&u!=null&&(i=nc(u,me()));let c=[];return t.children.inorderTraversal((d,p)=>{const m=i?i.getImmediateChild(d):null,g=Vm(o,d),w=r.operationForChild(d);w&&(c=c.concat(Xm(w,p,m,g)))}),u&&(c=c.concat(tc(u,r,o,i))),c}function Jm(r,t){return r.tagToQueryMap.get(t)}function Zm(r){const t=r.indexOf("$");return M(t!==-1&&t<r.length-1,"Bad queryKey."),{queryId:r.substr(t+1),path:new Ce(r.substr(0,t))}}function eg(r,t,i){const o=r.syncPointTree_.get(t);M(o,"Missing sync point for query tag that we're tracking");const u=Bm(r.pendingWriteTree_,t);return tc(o,i,u,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(t){this.node_=t}getImmediateChild(t){const i=this.node_.getImmediateChild(t);return new ic(i)}node(){return this.node_}}class sc{constructor(t,i){this.syncTree_=t,this.path_=i}getImmediateChild(t){const i=Le(this.path_,t);return new sc(this.syncTree_,i)}node(){return rc(this.syncTree_,this.path_)}}const CC=function(r){return r=r||{},r.timestamp=r.timestamp||new Date().getTime(),r},Sp=function(r,t,i){if(!r||typeof r!="object")return r;if(M(".sv"in r,"Unexpected leaf node or priority contents"),typeof r[".sv"]=="string")return kC(r[".sv"],t,i);if(typeof r[".sv"]=="object")return TC(r[".sv"],t);M(!1,"Unexpected server value: "+JSON.stringify(r,null,2))},kC=function(r,t,i){switch(r){case"timestamp":return i.timestamp;default:M(!1,"Unexpected server value: "+r)}},TC=function(r,t,i){r.hasOwnProperty("increment")||M(!1,"Unexpected server value: "+JSON.stringify(r,null,2));const o=r.increment;typeof o!="number"&&M(!1,"Unexpected increment value: "+o);const u=t.node();if(M(u!==null&&typeof u<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!u.isLeafNode())return o;const d=u.getValue();return typeof d!="number"?o:d+o},IC=function(r,t,i,o){return oc(t,new sc(i,r),o)},tg=function(r,t,i){return oc(r,new ic(t),i)};function oc(r,t,i){const o=r.getPriority().val(),u=Sp(o,t.getImmediateChild(".priority"),i);let c;if(r.isLeafNode()){const d=r,p=Sp(d.getValue(),t,i);return p!==d.getValue()||u!==d.getPriority().val()?new be(p,Ve(u)):r}else{const d=r;return c=d,u!==d.getPriority().val()&&(c=c.updatePriority(new be(u))),d.forEachChild(et,(p,m)=>{const g=oc(m,t.getImmediateChild(p),i);g!==m&&(c=c.updateImmediateChild(p,g))}),c}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(t="",i=null,o={children:{},childCount:0}){this.name=t,this.parent=i,this.node=o}}function uc(r,t){let i=t instanceof Ce?t:new Ce(t),o=r,u=re(i);for(;u!==null;){const c=Ur(o.node.children,u)||{children:{},childCount:0};o=new lc(u,o,c),i=Ee(i),u=re(i)}return o}function Vr(r){return r.node.value}function ng(r,t){r.node.value=t,La(r)}function rg(r){return r.node.childCount>0}function NC(r){return Vr(r)===void 0&&!rg(r)}function Vo(r,t){Nt(r.node.children,(i,o)=>{t(new lc(i,r,o))})}function ig(r,t,i,o){i&&t(r),Vo(r,u=>{ig(u,t,!0)})}function RC(r,t,i){let o=r.parent;for(;o!==null;){if(t(o))return!0;o=o.parent}return!1}function ts(r){return new Ce(r.parent===null?r.name:ts(r.parent)+"/"+r.name)}function La(r){r.parent!==null&&xC(r.parent,r.name,r)}function xC(r,t,i){const o=NC(i),u=dn(r.node.children,t);o&&u?(delete r.node.children[t],r.node.childCount--,La(r)):!o&&!u&&(r.node.children[t]=i.node,r.node.childCount++,La(r))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=/[\[\].#$\/\u0000-\u001F\u007F]/,DC=/[\[\].#$\u0000-\u001F\u007F]/,aa=10*1024*1024,sg=function(r){return typeof r=="string"&&r.length!==0&&!PC.test(r)},og=function(r){return typeof r=="string"&&r.length!==0&&!DC.test(r)},AC=function(r){return r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),og(r)},lg=function(r,t,i,o){o&&t===void 0||ac(Ha(r,"value"),t,i)},ac=function(r,t,i){const o=i instanceof Ce?new pE(i,r):i;if(t===void 0)throw new Error(r+"contains undefined "+Jn(o));if(typeof t=="function")throw new Error(r+"contains a function "+Jn(o)+" with contents = "+t.toString());if(rm(t))throw new Error(r+"contains "+t.toString()+" "+Jn(o));if(typeof t=="string"&&t.length>aa/3&&Bo(t)>aa)throw new Error(r+"contains a string greater than "+aa+" utf8 bytes "+Jn(o)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let u=!1,c=!1;if(Nt(t,(d,p)=>{if(d===".value")u=!0;else if(d!==".priority"&&d!==".sv"&&(c=!0,!sg(d)))throw new Error(r+" contains an invalid key ("+d+") "+Jn(o)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);mE(o,d),ac(r,p,o),gE(o)}),u&&c)throw new Error(r+' contains ".value" child '+Jn(o)+" in addition to actual children.")}},ug=function(r,t,i,o){if(!og(i))throw new Error(Ha(r,t)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},OC=function(r,t,i,o){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),ug(r,t,i)},ag=function(r,t){if(re(t)===".info")throw new Error(r+" failed = Can't modify data under /.info/")},MC=function(r,t){const i=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!sg(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!AC(i))throw new Error(Ha(r,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function cg(r,t){let i=null;for(let o=0;o<t.length;o++){const u=t[o],c=u.getPath();i!==null&&!Nm(c,i.path)&&(r.eventLists_.push(i),i=null),i===null&&(i={events:[],path:c}),i.events.push(u)}i&&r.eventLists_.push(i)}function fn(r,t,i){cg(r,i),FC(r,o=>Ut(o,t)||Ut(t,o))}function FC(r,t){r.recursionDepth_++;let i=!0;for(let o=0;o<r.eventLists_.length;o++){const u=r.eventLists_[o];if(u){const c=u.path;t(c)?(zC(r.eventLists_[o]),r.eventLists_[o]=null):i=!1}}i&&(r.eventLists_=[]),r.recursionDepth_--}function zC(r){for(let t=0;t<r.events.length;t++){const i=r.events[t];if(i!==null){r.events[t]=null;const o=i.getEventRunner();ji&&Ze("event: "+i.toString()),$r(o)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC="repo_interrupt",bC=25;class jC{constructor(t,i,o,u){this.repoInfo_=t,this.forceRestClient_=i,this.authTokenProvider_=o,this.appCheckProvider_=u,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new LC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Do(),this.transactionQueueTree_=new lc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function BC(r,t,i){if(r.stats_=Ka(r.repoInfo_),r.forceRestClient_||bS())r.server_=new Po(r.repoInfo_,(o,u,c,d)=>{Ep(r,o,u,c,d)},r.authTokenProvider_,r.appCheckProvider_),setTimeout(()=>Cp(r,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ge(i)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}r.persistentConnection_=new ln(r.repoInfo_,t,(o,u,c,d)=>{Ep(r,o,u,c,d)},o=>{Cp(r,o)},o=>{WC(r,o)},r.authTokenProvider_,r.appCheckProvider_,i),r.server_=r.persistentConnection_}r.authTokenProvider_.addTokenChangeListener(o=>{r.server_.refreshAuthToken(o)}),r.appCheckProvider_.addTokenChangeListener(o=>{r.server_.refreshAppCheckToken(o.token)}),r.statsReporter_=$S(r.repoInfo_,()=>new HE(r.stats_,r.server_)),r.infoData_=new UE,r.infoSyncTree_=new wp({startListening:(o,u,c,d)=>{let p=[];const m=r.infoData_.getNode(o._path);return m.isEmpty()||(p=Ho(r.infoSyncTree_,o._path,m),setTimeout(()=>{d("ok")},0)),p},stopListening:()=>{}}),fc(r,"connected",!1),r.serverSyncTree_=new wp({startListening:(o,u,c,d)=>(r.server_.listen(o,c,u,(p,m)=>{const g=d(p,m);fn(r.eventQueue_,o._path,g)}),[]),stopListening:(o,u)=>{r.server_.unlisten(o,u)}})}function fg(r){const i=r.infoData_.getNode(new Ce(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function cc(r){return CC({timestamp:fg(r)})}function Ep(r,t,i,o,u){r.dataUpdateCount++;const c=new Ce(t);i=r.interceptServerDataCallback_?r.interceptServerDataCallback_(t,i):i;let d=[];if(u)if(o){const m=ko(i,g=>Ve(g));d=EC(r.serverSyncTree_,c,m,u)}else{const m=Ve(i);d=SC(r.serverSyncTree_,c,m,u)}else if(o){const m=ko(i,g=>Ve(g));d=wC(r.serverSyncTree_,c,m)}else{const m=Ve(i);d=Ho(r.serverSyncTree_,c,m)}let p=c;d.length>0&&(p=Go(r,c)),fn(r.eventQueue_,p,d)}function Cp(r,t){fc(r,"connected",t),t===!1&&$C(r)}function WC(r,t){Nt(t,(i,o)=>{fc(r,i,o)})}function fc(r,t,i){const o=new Ce("/.info/"+t),u=Ve(i);r.infoData_.updateSnapshot(o,u);const c=Ho(r.infoSyncTree_,o,u);fn(r.eventQueue_,o,c)}function dg(r){return r.nextWriteId_++}function HC(r,t,i,o,u){dc(r,"set",{path:t.toString(),value:i,priority:o});const c=cc(r),d=Ve(i,o),p=rc(r.serverSyncTree_,t),m=tg(d,p,c),g=dg(r),w=qm(r.serverSyncTree_,t,m,g,!0);cg(r.eventQueue_,w),r.server_.put(t.toString(),d.val(!0),(T,A)=>{const O=T==="ok";O||ft("set at "+t+" failed: "+T);const H=er(r.serverSyncTree_,g,!O);fn(r.eventQueue_,t,H),GC(r,u,T,A)});const y=_g(r,t);Go(r,y),fn(r.eventQueue_,y,[])}function $C(r){dc(r,"onDisconnectEvents");const t=cc(r),i=Do();Ra(r.onDisconnect_,me(),(u,c)=>{const d=IC(u,c,r.serverSyncTree_,t);Mm(i,u,d)});let o=[];Ra(i,me(),(u,c)=>{o=o.concat(Ho(r.serverSyncTree_,u,c));const d=_g(r,u);Go(r,d)}),r.onDisconnect_=Do(),fn(r.eventQueue_,me(),o)}function VC(r){r.persistentConnection_&&r.persistentConnection_.interrupt(UC)}function dc(r,...t){let i="";r.persistentConnection_&&(i=r.persistentConnection_.id+":"),Ze(i,...t)}function GC(r,t,i,o){t&&$r(()=>{if(i==="ok")t(null);else{const u=(i||"error").toUpperCase();let c=u;o&&(c+=": "+o);const d=new Error(c);d.code=u,t(d)}})}function hg(r,t,i){return rc(r.serverSyncTree_,t,i)||fe.EMPTY_NODE}function hc(r,t=r.transactionQueueTree_){if(t||Ko(r,t),Vr(t)){const i=mg(r,t);M(i.length>0,"Sending zero length transaction queue"),i.every(u=>u.status===0)&&KC(r,ts(t),i)}else rg(t)&&Vo(t,i=>{hc(r,i)})}function KC(r,t,i){const o=i.map(g=>g.currentWriteId),u=hg(r,t,o);let c=u;const d=u.hash();for(let g=0;g<i.length;g++){const w=i[g];M(w.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),w.status=1,w.retryCount++;const y=It(t,w.path);c=c.updateChild(y,w.currentOutputSnapshotRaw)}const p=c.val(!0),m=t;r.server_.put(m.toString(),p,g=>{dc(r,"transaction put response",{path:m.toString(),status:g});let w=[];if(g==="ok"){const y=[];for(let T=0;T<i.length;T++)i[T].status=2,w=w.concat(er(r.serverSyncTree_,i[T].currentWriteId)),i[T].onComplete&&y.push(()=>i[T].onComplete(null,!0,i[T].currentOutputSnapshotResolved)),i[T].unwatcher();Ko(r,uc(r.transactionQueueTree_,t)),hc(r,r.transactionQueueTree_),fn(r.eventQueue_,t,w);for(let T=0;T<y.length;T++)$r(y[T])}else{if(g==="datastale")for(let y=0;y<i.length;y++)i[y].status===3?i[y].status=4:i[y].status=0;else{ft("transaction at "+m.toString()+" failed: "+g);for(let y=0;y<i.length;y++)i[y].status=4,i[y].abortReason=g}Go(r,t)}},d)}function Go(r,t){const i=pg(r,t),o=ts(i),u=mg(r,i);return QC(r,u,o),o}function QC(r,t,i){if(t.length===0)return;const o=[];let u=[];const d=t.filter(p=>p.status===0).map(p=>p.currentWriteId);for(let p=0;p<t.length;p++){const m=t[p],g=It(i,m.path);let w=!1,y;if(M(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)w=!0,y=m.abortReason,u=u.concat(er(r.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=bC)w=!0,y="maxretry",u=u.concat(er(r.serverSyncTree_,m.currentWriteId,!0));else{const T=hg(r,m.path,d);m.currentInputSnapshot=T;const A=t[p].update(T.val());if(A!==void 0){ac("transaction failed: Data returned ",A,m.path);let O=Ve(A);typeof A=="object"&&A!=null&&dn(A,".priority")||(O=O.updatePriority(T.getPriority()));const z=m.currentWriteId,ie=cc(r),X=tg(O,T,ie);m.currentOutputSnapshotRaw=O,m.currentOutputSnapshotResolved=X,m.currentWriteId=dg(r),d.splice(d.indexOf(z),1),u=u.concat(qm(r.serverSyncTree_,m.path,X,m.currentWriteId,m.applyLocally)),u=u.concat(er(r.serverSyncTree_,z,!0))}else w=!0,y="nodata",u=u.concat(er(r.serverSyncTree_,m.currentWriteId,!0))}fn(r.eventQueue_,i,u),u=[],w&&(t[p].status=2,function(T){setTimeout(T,Math.floor(0))}(t[p].unwatcher),t[p].onComplete&&(y==="nodata"?o.push(()=>t[p].onComplete(null,!1,t[p].currentInputSnapshot)):o.push(()=>t[p].onComplete(new Error(y),!1,null))))}Ko(r,r.transactionQueueTree_);for(let p=0;p<o.length;p++)$r(o[p]);hc(r,r.transactionQueueTree_)}function pg(r,t){let i,o=r.transactionQueueTree_;for(i=re(t);i!==null&&Vr(o)===void 0;)o=uc(o,i),t=Ee(t),i=re(t);return o}function mg(r,t){const i=[];return gg(r,t,i),i.sort((o,u)=>o.order-u.order),i}function gg(r,t,i){const o=Vr(t);if(o)for(let u=0;u<o.length;u++)i.push(o[u]);Vo(t,u=>{gg(r,u,i)})}function Ko(r,t){const i=Vr(t);if(i){let o=0;for(let u=0;u<i.length;u++)i[u].status!==2&&(i[o]=i[u],o++);i.length=o,ng(t,i.length>0?i:void 0)}Vo(t,o=>{Ko(r,o)})}function _g(r,t){const i=ts(pg(r,t)),o=uc(r.transactionQueueTree_,t);return RC(o,u=>{ca(r,u)}),ca(r,o),ig(o,u=>{ca(r,u)}),i}function ca(r,t){const i=Vr(t);if(i){const o=[];let u=[],c=-1;for(let d=0;d<i.length;d++)i[d].status===3||(i[d].status===1?(M(c===d-1,"All SENT items should be at beginning of queue."),c=d,i[d].status=3,i[d].abortReason="set"):(M(i[d].status===0,"Unexpected transaction status in abort"),i[d].unwatcher(),u=u.concat(er(r.serverSyncTree_,i[d].currentWriteId,!0)),i[d].onComplete&&o.push(i[d].onComplete.bind(null,new Error("set"),!1,null))));c===-1?ng(t,void 0):i.length=c+1,fn(r.eventQueue_,ts(t),u);for(let d=0;d<o.length;d++)$r(o[d])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(r){let t="";const i=r.split("/");for(let o=0;o<i.length;o++)if(i[o].length>0){let u=i[o];try{u=decodeURIComponent(u.replace(/\+/g," "))}catch{}t+="/"+u}return t}function YC(r){const t={};r.charAt(0)==="?"&&(r=r.substring(1));for(const i of r.split("&")){if(i.length===0)continue;const o=i.split("=");o.length===2?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):ft(`Invalid query segment '${i}' in query '${r}'`)}return t}const kp=function(r,t){const i=XC(r),o=i.namespace;i.domain==="firebase.com"&&cn(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||o==="undefined")&&i.domain!=="localhost"&&cn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||DS();const u=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new mm(i.host,i.secure,o,u,t,"",o!==i.subdomain),path:new Ce(i.pathString)}},XC=function(r){let t="",i="",o="",u="",c="",d=!0,p="https",m=443;if(typeof r=="string"){let g=r.indexOf("//");g>=0&&(p=r.substring(0,g-1),r=r.substring(g+2));let w=r.indexOf("/");w===-1&&(w=r.length);let y=r.indexOf("?");y===-1&&(y=r.length),t=r.substring(0,Math.min(w,y)),w<y&&(u=qC(r.substring(w,y)));const T=YC(r.substring(Math.min(r.length,y)));g=t.indexOf(":"),g>=0?(d=p==="https"||p==="wss",m=parseInt(t.substring(g+1),10)):g=t.length;const A=t.slice(0,g);if(A.toLowerCase()==="localhost")i="localhost";else if(A.split(".").length<=2)i=A;else{const O=t.indexOf(".");o=t.substring(0,O).toLowerCase(),i=t.substring(O+1),c=o}"ns"in T&&(c=T.ns)}return{host:t,port:m,domain:i,subdomain:o,secure:d,scheme:p,pathString:u,namespace:c}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",JC=function(){let r=0;const t=[];return function(i){const o=i===r;r=i;let u;const c=new Array(8);for(u=7;u>=0;u--)c[u]=Tp.charAt(i%64),i=Math.floor(i/64);M(i===0,"Cannot push at time == 0");let d=c.join("");if(o){for(u=11;u>=0&&t[u]===63;u--)t[u]=0;t[u]++}else for(u=0;u<12;u++)t[u]=Math.floor(Math.random()*64);for(u=0;u<12;u++)d+=Tp.charAt(t[u]);return M(d.length===20,"nextPushId: Length should be 20."),d}}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(t,i,o,u){this._repo=t,this._path=i,this._queryParams=o,this._orderByCalled=u}get key(){return se(this._path)?null:km(this._path)}get ref(){return new lr(this._repo,this._path)}get _queryIdentifier(){const t=ap(this._queryParams),i=Va(t);return i==="{}"?"default":i}get _queryObject(){return ap(this._queryParams)}isEqual(t){if(t=Wr(t),!(t instanceof pc))return!1;const i=this._repo===t._repo,o=Nm(this._path,t._path),u=this._queryIdentifier===t._queryIdentifier;return i&&o&&u}toJSON(){return this.toString()}toString(){return this._repo.toString()+hE(this._path)}}class lr extends pc{constructor(t,i){super(t,i,new Xa,!1)}get parent(){const t=Im(this._path);return t===null?null:new lr(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}function ZC(r,t){return r=Wr(r),r._checkNotDeleted("ref"),Fa(r._root,t)}function Fa(r,t){return r=Wr(r),re(r._path)===null?OC("child","path",t):ug("child","path",t),new lr(r._repo,Le(r._path,t))}function e0(r,t){r=Wr(r),ag("push",r._path),lg("push",t,r._path,!0);const i=fg(r._repo),o=JC(i),u=Fa(r,o),c=Fa(r,o);let d;return t!=null?d=t0(c,t).then(()=>c):d=Promise.resolve(c),u.then=d.then.bind(d),u.catch=d.then.bind(d,void 0),u}function t0(r,t){r=Wr(r),ag("set",r._path),lg("set",t,r._path,!1);const i=new jo;return HC(r._repo,r._path,t,null,i.wrapCallback(()=>{})),i.promise}yC(lr);vC(lr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="FIREBASE_DATABASE_EMULATOR_HOST",za={};let r0=!1;function i0(r,t,i,o){r.repoInfo_=new mm(`${t}:${i}`,!1,r.repoInfo_.namespace,r.repoInfo_.webSocketOnly,r.repoInfo_.nodeAdmin,r.repoInfo_.persistenceKey,r.repoInfo_.includeNamespaceInQueryParams,!0),o&&(r.authTokenProvider_=o)}function s0(r,t,i,o,u){let c=o||r.options.databaseURL;c===void 0&&(r.options.projectId||cn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ze("Using default host for project ",r.options.projectId),c=`${r.options.projectId}-default-rtdb.firebaseio.com`);let d=kp(c,u),p=d.repoInfo,m;typeof process<"u"&&$h&&(m=$h[n0]),m?(c=`http://${m}?ns=${p.namespace}`,d=kp(c,u),p=d.repoInfo):d.repoInfo.secure;const g=new BS(r.name,r.options,t);MC("Invalid Firebase Database URL",d),se(d.path)||cn("Database URL must point to the root of a Firebase Database (not including a child path).");const w=l0(p,r,g,new jS(r.name,i));return new u0(w,r)}function o0(r,t){const i=za[t];(!i||i[r.key]!==r)&&cn(`Database ${t}(${r.repoInfo_}) has already been deleted.`),VC(r),delete i[r.key]}function l0(r,t,i,o){let u=za[t.name];u||(u={},za[t.name]=u);let c=u[r.toURLString()];return c&&cn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new jC(r,r0,i,o),u[r.toURLString()]=c,c}class u0{constructor(t,i){this._repoInternal=t,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(BC(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new lr(this._repo,me())),this._rootInternal}_delete(){return this._rootInternal!==null&&(o0(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&cn("Cannot call "+t+" on a deleted database.")}}function a0(r=mS(),t){const i=fS(r,"database").getImmediate({identifier:t});if(!i._instanceStarted){const o=ew("database");o&&c0(i,...o)}return i}function c0(r,t,i,o={}){r=Wr(r),r._checkNotDeleted("useEmulator"),r._instanceStarted&&cn("Cannot call useEmulator() after instance has already been initialized.");const u=r._repoInternal;let c;if(u.repoInfo_.nodeAdmin)o.mockUserToken&&cn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new _o(_o.OWNER);else if(o.mockUserToken){const d=typeof o.mockUserToken=="string"?o.mockUserToken:tw(o.mockUserToken,r.app.options.projectId);c=new _o(d)}i0(u,t,i,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(r){TS(pS),Io(new Ki("database",(t,{instanceIdentifier:i})=>{const o=t.getProvider("app").getImmediate(),u=t.getProvider("auth-internal"),c=t.getProvider("app-check-internal");return s0(o,u,c,i)},"PUBLIC").setMultipleInstances(!0)),Mr(Vh,Gh,r),Mr(Vh,Gh,"esm2017")}ln.prototype.simpleListen=function(r,t){this.sendRequest("q",{p:r},t)};ln.prototype.echo=function(r,t){this.sendRequest("echo",{d:r},t)};f0();var d0="firebase",h0="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mr(d0,h0,"app");class p0{constructor(){Di(this,"levels");Di(this,"currentLevel");this.levels=["debug","info","warn","error"],this.currentLevel="debug"}setLevel(t){this.levels.includes(t)?this.currentLevel=t:console.error(`Nivel de log no válido: ${t}`)}debug(t){this.log("debug",t)}info(t){this.log("info",t)}warn(t){this.log("warn",t)}error(t){this.log("error",t)}log(t,i){const o=this.levels.indexOf(t),u=this.levels.indexOf(this.currentLevel);if(o>=u){const c=new Date().toISOString();console[t](`[${t.toUpperCase()}] ${c}: ${i}`)}}}const m0=new p0,g0={menuItems:[{id:1,name:"Hamburguesa de Pollo",quantity:40,description:"Pollo frito y mayonesa",price:24,image:"hamburguesa.jpeg"},{id:2,name:"Pizza Margarita",quantity:30,description:"Tomate, mozzarella y albahaca",price:35,image:"margarita.jpg"},{id:3,name:"Tacos al Pastor",quantity:50,description:"Cerdo adobado con piña y cilantro",price:18,image:"tacos.jpg"},{id:4,name:"Ensalada César",quantity:25,description:"Lechuga, pollo y aderezo César",price:22,image:"ensalada.jpg"}],loading:!1,error:null,message:null},_0={apiKey:"AIzaSyC2eim7o52-1qm8JHc8KpeReeMtmvILGdU",authDomain:"comidadiri.firebaseapp.com",databaseURL:"https://comidadiri-default-rtdb.firebaseio.com",projectId:"comidadiri",storageBucket:"comidadiri.firebasestorage.app",messagingSenderId:"647627909900",appId:"1:647627909900:web:fab8cb7fec7c7015153729",measurementId:"G-WFB7HSTPQD"},y0=Xp(_0),v0=a0(y0),fa=Av("menu/orderItem",async({orderedItem:r,orderedQuantity:t})=>{const i=ZC(v0,"orders"),o={id:r.id,name:r.name,orderedQuantity:t,unitPrice:r.price,totalPrice:t*r.price};return await e0(i,o).then(u=>m0.info(`Se han guardado los datos exitosamente en la base de datos. URL de consulta: ${u}`)),{orderedItem:r,orderedQuantity:t}}),yg=bv({name:"menu",initialState:g0,reducers:{clearMessage:r=>{r.message=null}},extraReducers:r=>{r.addCase(fa.pending,t=>{t.loading=!0,t.message="Enviando pedido...",t.error=null}).addCase(fa.fulfilled,(t,i)=>{t.loading=!1,t.message="Pedido enviado con éxito";const{orderedItem:o,orderedQuantity:u}=i.payload;t.menuItems=t.menuItems.map(c=>c.id===o.id?{...c,quantity:c.quantity-u}:c)}).addCase(fa.rejected,t=>{t.loading=!1,t.message=null,t.error="Error al enviar el pedido. Intente nuevamente."})}}),{clearMessage:I0}=yg.actions,w0=yg.reducer,S0=r=>t=>i=>{console.log("%cEstado anterior:","color: orange;",r.getState());const o=t(i);return console.log("%cSiguiente estado:","color: cyan;",r.getState()),console.groupEnd(),o},E0=Cv({reducer:{menu:w0},middleware:r=>r().concat(S0)});Iy.createRoot(document.getElementById("root")).render(Je.jsx(Ke.StrictMode,{children:Je.jsx($y,{store:E0,children:Je.jsx(Xy,{})})}));export{k0 as a,I0 as c,Je as j,fa as o,Ke as r,qy as u};
